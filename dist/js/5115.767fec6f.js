"use strict";(self.webpackChunkconstruction_commercial_search_frontend=self.webpackChunkconstruction_commercial_search_frontend||[]).push([[5115],{25115:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var n=(a(44114),a(93518)),i={props:{company:{type:Object,required:!1,default:()=>({})}},components:{GeneralButton:()=>a.e(695).then(a.bind(a,90695))},mounted(){this.$nextTick((()=>{requestAnimationFrame((()=>{const e=this.$route?.query?.edit;e&&this.handleEdit(!0)}))}))},methods:{...(0,n.i0)("company",["deleteCompany"]),handleEdit(e){this.$bus.$emit("add-new-company-modal",{showModal:!0,companyId:this.company?._id,formData:{companyName:this.company?.companyName,genNumber:this.company?.genNumber,commNumber:this.company?.commNumber,email:this.company?.email,annualRevenue:this.company?.annualRevenue,origin:this.company?.origin,originList:this.company?.originList,location:{display_name:this.company?.location,lat:this.company?.lat,lon:this.company?.long},GS:this.company?.GS,RS:this.company?.RS,agents:this.company?.agents?.map((e=>({genNumber:e?.genNumber,commNumber:e?.commNumber,email:e?.email}))),products:this.company?.products?.map((e=>({originalTitle:e?.productId?.title,_id:e?.productId?._id})))},goBack:e,update:!0})},async handleDelete(){let e={id:this.company?._id};const t=await this.deleteCompany(e);t?.success?(this.$toast.success(t?.message),this.$router.push("/dashboard/companies")):this.$toast.error(t?.message)}}},s=i,o=(0,a(81656).A)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"sticky top-spacing-0 z-[1] flex justify-between bg-bg-neutral-default py-spacing-200 ipad:items-center"},[e.company?.companyName?t("div",{staticClass:"flex flex-col gap-spacing-100 ipad:flex-row ipad:items-center ipad:gap-spacing-200"},[t("h1",{staticClass:"text-headline/s/relaxed/500 text-constant-brand-primary ipad:text-headline/m/relaxed/500"},[e._v(" "+e._s(e.company?.companyName)+" ")]),t("div",{on:{click:function(t){return e.handleEdit()}}},[t("GeneralButton",{attrs:{"button-type":"button",type:"brand-secondary",size:"small",emphasis:"secondary","icon-position":"none",icon:"",image:"","is-disabled":!1,"is-loading":!1,label:"Edit Details"}})],1),t("div",{on:{click:function(t){return e.handleDelete()}}},[t("GeneralButton",{attrs:{"button-type":"button",type:"destructive",size:"small",emphasis:"secondary","icon-position":"none",icon:"",image:"","is-disabled":!1,"is-loading":!1,label:"Delete"}})],1)]):e._e(),t("span",{staticClass:"text-headline/s/relaxed/500 text-constant-status-warning"},[t("span",{staticClass:"text-headline/s/relaxed/500 text-constant-brand-primary"},[e._v("GS ")]),e._v(e._s(e.company?.GS))])])}),[],!1,null,"16aabb48",null),c=o.exports}}]);