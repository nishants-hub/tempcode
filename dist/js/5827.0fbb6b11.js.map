{"version":3,"file":"js/5827.0fbb6b11.js","mappings":"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","sources":["webpack://construction-commercial-search-frontend/./src/components/MarketResearch/NewMarketResearchForm.vue","webpack://construction-commercial-search-frontend/src/components/MarketResearch/NewMarketResearchForm.vue","webpack://construction-commercial-search-frontend/./src/components/MarketResearch/NewMarketResearchForm.vue?a9c3","webpack://construction-commercial-search-frontend/./src/components/MarketResearch/NewMarketResearchForm.vue?6cce","webpack://construction-commercial-search-frontend/./src/utilities/constants/constants.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"h-full w-full\"},[_c('GeneralForm',{attrs:{\"heading\":_vm.update\n        ? _vm.formData?.name || 'EDIT RESEARCH DETAILS'\n        : 'New Market Research',\"showCloseButton\":true,\"is-form-submitting\":_vm.isFormSubmitting,\"submit-button-label\":_vm.update ? 'Update' : 'Add'},on:{\"close-pressed\":_vm.handleClose,\"form-submitted\":_vm.handleSubmit},scopedSlots:_vm._u([{key:\"form-body\",fn:function(){return [_c('FormInput',{ref:\"marketResearchName\",staticClass:\"mb-spacing-100\",attrs:{\"autofocus\":true,\"label\":\"Research Name\",\"inputId\":\"researchName\",\"field-validations\":_vm.fieldValidations?.name,\"order\":1},on:{\"enter-pressed\":function($event){return _vm.$focusNextElement('leadRepresentative')}},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}}),_c('UserSearchDropDown',{staticClass:\"mb-spacing-100\",attrs:{\"dropdown-label\":\"Lead Representative\",\"dropdown-id\":\"leadRepresentative\",\"selected-user\":_vm.formData.leadRepresentative},on:{\"on-user-update\":_vm.handleUserUpdate}}),_c('UserSearchDropDown',{staticClass:\"mb-spacing-100\",attrs:{\"dropdown-label\":\"Group\",\"dropdown-id\":\"group\",\"group\":_vm.formData.group,\"is-multi-select\":true},on:{\"on-group-update\":_vm.handleGroupUpdate}}),_c('ProductSearchDropdown',{staticClass:\"mb-spacing-100\",attrs:{\"products\":_vm.formData.products,\"dropdown-label\":'Products',\"dropdown-id\":'products',\"is-multi-select\":true},on:{\"on-products-update\":_vm.updateProducts}}),_c('div',{staticClass:\"grid grid-cols-1 gap-x-spacing-200 gap-y-spacing-200 ipad:grid-cols-2\"},[_c('FormInput',{staticClass:\"mb-spacing-100\",attrs:{\"label\":\"Follow Up Date Interval (in days)\",\"input-type\":\"number\",\"inputId\":\"followUpDateInterval\",\"field-validations\":_vm.fieldValidations?.followUpDateInterval},on:{\"enter-pressed\":function($event){return _vm.$focusNextElement('tag')}},model:{value:(_vm.formData.settings.followUpDateInterval),callback:function ($$v) {_vm.$set(_vm.formData.settings, \"followUpDateInterval\", $$v)},expression:\"formData.settings.followUpDateInterval\"}}),_c('GeneralSelect',{staticClass:\"mb-spacing-100\",attrs:{\"label\":\"Weekends Scheduling Allowed\",\"options\":_vm.schedulingOptions,\"selected-option-key\":_vm.formData.settings?.weekendsSchedulingAllowed},on:{\"option-selected\":_vm.handleSelectedSchedulingOption}})],1),_c('div',{staticClass:\"grid grid-cols-1 gap-x-spacing-200 gap-y-spacing-200 ipad:grid-cols-2\"},[_c('FormInput',{staticClass:\"mb-spacing-100\",attrs:{\"label\":\"Start Date\",\"input-type\":\"date\",\"inputId\":\"dateStart\"},on:{\"enter-pressed\":function($event){return _vm.$focusNextElement('tag')}},model:{value:(_vm.formData.dateStart),callback:function ($$v) {_vm.$set(_vm.formData, \"dateStart\", $$v)},expression:\"formData.dateStart\"}}),_c('GeneralSelect',{staticClass:\"mb-spacing-100\",attrs:{\"label\":'Tag',\"options\":_vm.tagSelectOptions,\"selected-option-key\":_vm.formData.tag},on:{\"option-selected\":_vm.handleSelectedTag}})],1),_c('FormInput',{ref:\"marketResearchNote\",staticClass:\"mb-spacing-100\",attrs:{\"label\":\"Note\",\"input-type\":'text',\"inputId\":\"location\",\"multiline\":true,\"placeholder\":\"Type your note...\",\"field-validations\":_vm.fieldValidations?.note,\"order\":2},model:{value:(_vm.formData.note),callback:function ($$v) {_vm.$set(_vm.formData, \"note\", $$v)},expression:\"formData.note\"}}),_c('GeneralFileUpload',{staticClass:\"mb-spacing-300\",attrs:{\"label\":'Upload Related Files',\"accepted-file-types\":_vm.acceptedFileTypes,\"allow-multiple\":true,\"aria-label\":\"Upload Research Related Files\"},on:{\"files-uploaded\":_vm.processFiles}}),(_vm.formData?.relatedFiles?.length > 0)?_c('p',{staticClass:\"mb-spacing-100 text-body/l/relaxed/400 text-content-on-neutral-primary\"},[_vm._v(\" Uploaded Files: \")]):_vm._e(),(_vm.formData?.relatedFiles?.length > 0)?_c('ClassicTable',{staticClass:\"mb-spacing-300\",attrs:{\"headers\":_vm.fileHeaders,\"horizontal-padding\":'px-spacing-0',\"bgClass\":'bg-transparent'},scopedSlots:_vm._u([{key:\"table-body\",fn:function(){return _vm._l((_vm.formData?.relatedFiles),function(file,index){return _c('tr',{key:index,staticClass:\"border-b border-stroke-bold text-body/m/relaxed/400 text-content-on-neutral-primary\"},[_c('td',{staticClass:\"py-spacing-100 pr-spacing-100\",class:file?.isLink\n                  ? 'text-content-on-neutral-tertiary'\n                  : 'text-content-on-neutral-primary'},[_c('p',[_vm._v(\" \"+_vm._s(file?.name)+\" \"),(!file?.isLink)?_c('span',{staticClass:\"ml-spacing-50 rounded-04 bg-bg-status-success px-spacing-50 py-spacing-0 text-overline/s/relaxed/500 text-content-on-status-on-success\"},[_vm._v(\" NEW \")]):_vm._e()])]),_c('td',{staticClass:\"py-spacing-100 pr-spacing-100\"},[_c('FileActions',{attrs:{\"file\":file},on:{\"remove\":function($event){return _vm.removeFile(index)}}})],1)])})},proxy:true}],null,false,2277185041)}):_vm._e(),_c('GeneralTextEditor',{staticClass:\"mb-spacing-300\",attrs:{\"value\":_vm.formData.guidelines,\"label\":\"Guide Lines\",\"editor-id\":\"guidelines\"},on:{\"input\":_vm.handleGuideLinesChange}}),_c('GeneralTextEditor',{attrs:{\"value\":_vm.formData.emailTemplate,\"label\":\"Email Template\",\"editor-id\":\"emailTemplate\"},on:{\"input\":_vm.handleEmailTemplateChange}})]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"h-full w-full\">\r\n    <GeneralForm\r\n      :heading=\"\r\n        update\r\n          ? formData?.name || 'EDIT RESEARCH DETAILS'\r\n          : 'New Market Research'\r\n      \"\r\n      :showCloseButton=\"true\"\r\n      @close-pressed=\"handleClose\"\r\n      @form-submitted=\"handleSubmit\"\r\n      :is-form-submitting=\"isFormSubmitting\"\r\n      :submit-button-label=\"update ? 'Update' : 'Add'\"\r\n    >\r\n      <template #form-body>\r\n        <FormInput\r\n          ref=\"marketResearchName\"\r\n          :autofocus=\"true\"\r\n          label=\"Research Name\"\r\n          v-model=\"formData.name\"\r\n          inputId=\"researchName\"\r\n          @enter-pressed=\"$focusNextElement('leadRepresentative')\"\r\n          class=\"mb-spacing-100\"\r\n          :field-validations=\"fieldValidations?.name\"\r\n          :order=\"1\"\r\n        />\r\n\r\n        <UserSearchDropDown\r\n          dropdown-label=\"Lead Representative\"\r\n          dropdown-id=\"leadRepresentative\"\r\n          :selected-user=\"formData.leadRepresentative\"\r\n          @on-user-update=\"handleUserUpdate\"\r\n          class=\"mb-spacing-100\"\r\n        />\r\n\r\n        <UserSearchDropDown\r\n          dropdown-label=\"Group\"\r\n          dropdown-id=\"group\"\r\n          :group=\"formData.group\"\r\n          :is-multi-select=\"true\"\r\n          @on-group-update=\"handleGroupUpdate\"\r\n          class=\"mb-spacing-100\"\r\n        />\r\n\r\n        <ProductSearchDropdown\r\n          :products=\"formData.products\"\r\n          :dropdown-label=\"'Products'\"\r\n          :dropdown-id=\"'products'\"\r\n          :is-multi-select=\"true\"\r\n          @on-products-update=\"updateProducts\"\r\n          class=\"mb-spacing-100\"\r\n        />\r\n\r\n        <div\r\n          class=\"grid grid-cols-1 gap-x-spacing-200 gap-y-spacing-200 ipad:grid-cols-2\"\r\n        >\r\n          <FormInput\r\n            label=\"Follow Up Date Interval (in days)\"\r\n            v-model=\"formData.settings.followUpDateInterval\"\r\n            input-type=\"number\"\r\n            inputId=\"followUpDateInterval\"\r\n            @enter-pressed=\"$focusNextElement('tag')\"\r\n            :field-validations=\"fieldValidations?.followUpDateInterval\"\r\n            class=\"mb-spacing-100\"\r\n          />\r\n          <GeneralSelect\r\n            label=\"Weekends Scheduling Allowed\"\r\n            :options=\"schedulingOptions\"\r\n            :selected-option-key=\"formData.settings?.weekendsSchedulingAllowed\"\r\n            @option-selected=\"handleSelectedSchedulingOption\"\r\n            class=\"mb-spacing-100\"\r\n          />\r\n        </div>\r\n        <div\r\n          class=\"grid grid-cols-1 gap-x-spacing-200 gap-y-spacing-200 ipad:grid-cols-2\"\r\n        >\r\n          <FormInput\r\n            label=\"Start Date\"\r\n            v-model=\"formData.dateStart\"\r\n            input-type=\"date\"\r\n            inputId=\"dateStart\"\r\n            @enter-pressed=\"$focusNextElement('tag')\"\r\n            class=\"mb-spacing-100\"\r\n          />\r\n\r\n          <GeneralSelect\r\n            :label=\"'Tag'\"\r\n            :options=\"tagSelectOptions\"\r\n            :selected-option-key=\"formData.tag\"\r\n            @option-selected=\"handleSelectedTag\"\r\n            class=\"mb-spacing-100\"\r\n          />\r\n        </div>\r\n\r\n        <FormInput\r\n          ref=\"marketResearchNote\"\r\n          label=\"Note\"\r\n          v-model=\"formData.note\"\r\n          :input-type=\"'text'\"\r\n          inputId=\"location\"\r\n          class=\"mb-spacing-100\"\r\n          :multiline=\"true\"\r\n          placeholder=\"Type your note...\"\r\n          :field-validations=\"fieldValidations?.note\"\r\n          :order=\"2\"\r\n        />\r\n\r\n        <GeneralFileUpload\r\n          :label=\"'Upload Related Files'\"\r\n          :accepted-file-types=\"acceptedFileTypes\"\r\n          :allow-multiple=\"true\"\r\n          aria-label=\"Upload Research Related Files\"\r\n          @files-uploaded=\"processFiles\"\r\n          class=\"mb-spacing-300\"\r\n        />\r\n\r\n        <p\r\n          class=\"mb-spacing-100 text-body/l/relaxed/400 text-content-on-neutral-primary\"\r\n          v-if=\"formData?.relatedFiles?.length > 0\"\r\n        >\r\n          Uploaded Files:\r\n        </p>\r\n        <ClassicTable\r\n          v-if=\"formData?.relatedFiles?.length > 0\"\r\n          :headers=\"fileHeaders\"\r\n          class=\"mb-spacing-300\"\r\n          :horizontal-padding=\"'px-spacing-0'\"\r\n          :bgClass=\"'bg-transparent'\"\r\n        >\r\n          <template #table-body>\r\n            <tr\r\n              v-for=\"(file, index) in formData?.relatedFiles\"\r\n              :key=\"index\"\r\n              class=\"border-b border-stroke-bold text-body/m/relaxed/400 text-content-on-neutral-primary\"\r\n            >\r\n              <td\r\n                class=\"py-spacing-100 pr-spacing-100\"\r\n                :class=\"\r\n                  file?.isLink\r\n                    ? 'text-content-on-neutral-tertiary'\r\n                    : 'text-content-on-neutral-primary'\r\n                \"\r\n              >\r\n                <p>\r\n                  {{ file?.name }}\r\n                  <span\r\n                    v-if=\"!file?.isLink\"\r\n                    class=\"ml-spacing-50 rounded-04 bg-bg-status-success px-spacing-50 py-spacing-0 text-overline/s/relaxed/500 text-content-on-status-on-success\"\r\n                  >\r\n                    NEW\r\n                  </span>\r\n                </p>\r\n              </td>\r\n              <td class=\"py-spacing-100 pr-spacing-100\">\r\n                <FileActions :file=\"file\" @remove=\"removeFile(index)\" />\r\n              </td>\r\n            </tr>\r\n          </template>\r\n        </ClassicTable>\r\n\r\n        <GeneralTextEditor\r\n          :value=\"formData.guidelines\"\r\n          @input=\"handleGuideLinesChange\"\r\n          label=\"Guide Lines\"\r\n          editor-id=\"guidelines\"\r\n          class=\"mb-spacing-300\"\r\n        />\r\n        <GeneralTextEditor\r\n          :value=\"formData.emailTemplate\"\r\n          @input=\"handleEmailTemplateChange\"\r\n          label=\"Email Template\"\r\n          editor-id=\"emailTemplate\"\r\n        />\r\n      </template>\r\n    </GeneralForm>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { FormValidationRule } from \"@/utilities/helpers/formValidations\";\r\nimport { mapActions } from \"vuex\";\r\nimport { getDateFromToday } from \"@/utilities/helpers/utils\";\r\nimport { FILE_VALIDATION_OBJECT } from \"@/utilities/constants/constants\";\r\n\r\nexport default {\r\n  components: {\r\n    FormInput: () => import(\"@/components/General/FormInput.vue\"),\r\n    GeneralForm: () => import(\"@/components/General/Form.vue\"),\r\n    GeneralSelect: () => import(\"@/components/General/Select.vue\"),\r\n    UserSearchDropDown: () =>\r\n      import(\"@/components/Utility/CustomDropdowns/UserSearch.vue\"),\r\n    ProductSearchDropdown: () =>\r\n      import(\"@/components/Utility/CustomDropdowns/ProductSearch.vue\"),\r\n    GeneralTextEditor: () => import(\"@/components/General/TextEditor.vue\"),\r\n    GeneralFileUpload: () => import(\"@/components/General/FileUpload.vue\"),\r\n    ClassicTable: () => import(\"@/components/General/Table/ClassicTable.vue\"),\r\n    FileActions: () =>\r\n      import(\"@/components/Utility/FileViewer/FileActions.vue\"),\r\n  },\r\n  mounted() {\r\n    this.$bus.$on(\"update-market-research-form\", (data) => {\r\n      if (data?.update) {\r\n        this.update = data?.update;\r\n        if (data?.marketResearchData) {\r\n          this.id = data?.marketResearchData?._id;\r\n          this.formData.name = data?.marketResearchData?.name || \"\";\r\n          this.formData.note = data?.marketResearchData?.note || \"\";\r\n          this.formData.dateStart =\r\n            new Date(data?.marketResearchData?.dateStart)\r\n              .toISOString()\r\n              ?.substring(0, 10) || getDateFromToday(0);\r\n          this.formData.leadRepresentative = {\r\n            display_name: data?.marketResearchData?.leadRepresentative?.name,\r\n            _id: data?.marketResearchData?.leadRepresentative?._id,\r\n          };\r\n          this.formData.group = data?.marketResearchData?.group?.map(\r\n            (user) => ({\r\n              display_name: user?.name,\r\n              _id: user?._id,\r\n            }),\r\n          );\r\n          this.formData.products = data?.marketResearchData?.products?.map(\r\n            (prod) => ({\r\n              display_name: prod?.title,\r\n              originalTitle: prod?.title,\r\n              _id: prod?._id,\r\n            }),\r\n          );\r\n          this.formData.tag = data?.marketResearchData?.tag;\r\n          if (data?.marketResearchData?.settings)\r\n            this.formData.settings = data?.marketResearchData?.settings;\r\n          this.formData.emailTemplate = data?.marketResearchData?.emailTemplate;\r\n          this.formData.guidelines = data?.marketResearchData?.guidelines;\r\n          this.formData.relatedFiles =\r\n            data?.marketResearchData?.relatedFiles?.map((link) => {\r\n              return {\r\n                isLink: true,\r\n                link: link,\r\n                name: link?.split(\"/\")?.pop(),\r\n              };\r\n            });\r\n        }\r\n      }\r\n    });\r\n  },\r\n  data() {\r\n    return {\r\n      fileHeaders: [\r\n        {\r\n          key: \"fileName\",\r\n          value: \"File Name\",\r\n          sortable: false,\r\n        },\r\n        {\r\n          key: \"action\",\r\n          value: \"Action\",\r\n          sortable: false,\r\n        },\r\n      ],\r\n      tagSelectOptions: [\r\n        { key: \"STARTING_SOON\", value: \"starting soon\", default: true },\r\n        { key: \"IN_PROGRESS\", value: \"in progress\" },\r\n        { key: \"PENDING_APPROVAL\", value: \"pending approval\" },\r\n        { key: \"COMPLETED\", value: \"completed\" },\r\n      ],\r\n      id: null,\r\n      isFormSubmitting: false,\r\n      formData: {\r\n        tag: \"STARTING_SOON\",\r\n        name: \"\",\r\n        leadRepresentative: null,\r\n        group: [],\r\n        products: [],\r\n        dateStart: getDateFromToday(0),\r\n        note: \"\",\r\n        settings: {\r\n          weekendsSchedulingAllowed: \"NO\",\r\n          followUpDateInterval: 3,\r\n        },\r\n        emailTemplate: \"\",\r\n        guidelines: \"\",\r\n        relatedFiles: [],\r\n      },\r\n      fieldValidations: {\r\n        name: new FormValidationRule({\r\n          required: true,\r\n          minLength: 5,\r\n          maxLength: 100,\r\n        }),\r\n        followUpDateInterval: new FormValidationRule({\r\n          required: false,\r\n          min: 0,\r\n          max: 60,\r\n        }),\r\n        note: new FormValidationRule({\r\n          required: false,\r\n          minLength: 5,\r\n          maxLength: 200,\r\n        }),\r\n      },\r\n      schedulingOptions: [\r\n        { key: \"YES\", value: \"Yes\" },\r\n        { key: \"NO\", value: \"No\", default: true },\r\n      ],\r\n      update: false,\r\n      deletedFiles: [],\r\n    };\r\n  },\r\n  computed: {\r\n    acceptedFileTypes() {\r\n      return FILE_VALIDATION_OBJECT?.MARKET_RESEARCH_FILES\r\n        ?.ALLOWED_FILE_EXTENSIONS;\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      addMarketResearch: \"marketResearch/addMarketResearch\",\r\n      updateMarketResearch: \"marketResearch/updateMarketResearch\",\r\n    }),\r\n    handleGuideLinesChange(value) {\r\n      this.formData.guidelines = value;\r\n    },\r\n    handleEmailTemplateChange(value) {\r\n      this.formData.emailTemplate = value;\r\n    },\r\n    async handleSubmit() {\r\n      const isValid = this.$validateForm();\r\n      if (!isValid) {\r\n        return;\r\n      }\r\n      let payload = this.buildPayload();\r\n      this.isFormSubmitting = true;\r\n      const res = this.update\r\n        ? await this.updateMarketResearch(payload)\r\n        : await this.addMarketResearch(payload);\r\n      if (res?.success) {\r\n        if (this.update) {\r\n          this.$bus.$emit(\"refetch-market-research-details\");\r\n        } else {\r\n          this.$bus.$emit(\"refetch-market-researches\");\r\n        }\r\n        this.handleClose();\r\n      } else {\r\n        this.$toast.error(res?.message || \"An Error Occurred\");\r\n      }\r\n      this.isFormSubmitting = false;\r\n    },\r\n    buildPayload() {\r\n      const formData = new FormData();\r\n\r\n      formData.append(\"name\", this.formData.name || \"\");\r\n      formData.append(\"dateStart\", this.formData.dateStart || \"\");\r\n      formData.append(\"tag\", this.formData.tag || \"\");\r\n\r\n      // Convert arrays to JSON strings\r\n      formData.append(\r\n        \"products\",\r\n        JSON.stringify(this.formData.products?.map((item) => item?._id) || []),\r\n      );\r\n      formData.append(\r\n        \"group\",\r\n        JSON.stringify(\r\n          this.formData.group\r\n            ?.filter(\r\n              (person) =>\r\n                person?._id !== this.formData?.leadRepresentative?._id,\r\n            )\r\n            ?.map((item) => item?._id) || [],\r\n        ),\r\n      );\r\n\r\n      // Append other fields\r\n      formData.append(\r\n        \"leadRepresentative\",\r\n        this.formData?.leadRepresentative?._id || \"\",\r\n      );\r\n      formData.append(\"note\", this.formData.note || \"\");\r\n\r\n      // Convert objects to JSON strings\r\n      formData.append(\"settings\", JSON.stringify(this.formData.settings || {}));\r\n      formData.append(\"guidelines\", this.formData.guidelines || \"\");\r\n      formData.append(\"emailTemplate\", this.formData.emailTemplate || \"\");\r\n\r\n      if (this.update) {\r\n        formData.append(\"deletedFiles\", JSON.stringify(this.deletedFiles));\r\n      }\r\n\r\n      // Convert array of files to JSON string (or append each file if files are binary)\r\n      this.formData.relatedFiles.forEach((file, index) => {\r\n        if (!file?.isLink) {\r\n          formData.append(`files[${index}]`, file);\r\n        }\r\n      });\r\n\r\n      if (this.update) {\r\n        return {\r\n          id: this.id,\r\n          body: formData,\r\n        };\r\n      } else {\r\n        return formData;\r\n      }\r\n    },\r\n    handleClose() {\r\n      this.$bus.$emit(\"add-new-market-research-modal\", false);\r\n    },\r\n    handleSelectedTag(tag) {\r\n      this.formData.tag = tag;\r\n    },\r\n    handleSelectedSchedulingOption(option) {\r\n      this.formData.settings.weekendsSchedulingAllowed = option;\r\n    },\r\n    handleGroupUpdate(group) {\r\n      this.formData.group = group;\r\n    },\r\n    handleUserUpdate(user) {\r\n      this.formData.leadRepresentative = user;\r\n    },\r\n    updateProducts(updatedProducts) {\r\n      this.formData.products = updatedProducts;\r\n    },\r\n    processFiles(files) {\r\n      files?.forEach((file) => {\r\n        this.formData.relatedFiles.unshift(file);\r\n      });\r\n    },\r\n    removeFile(index) {\r\n      if (this.formData.relatedFiles[index]?.isLink) {\r\n        this.deletedFiles.push(this.formData.relatedFiles[index]?.link);\r\n      }\r\n      this.formData.relatedFiles?.splice(index, 1);\r\n    },\r\n  },\r\n  beforeDestroy() {\r\n    this.$bus.$off(\"update-market-research-form\");\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NewMarketResearchForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NewMarketResearchForm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NewMarketResearchForm.vue?vue&type=template&id=775aee3e\"\nimport script from \"./NewMarketResearchForm.vue?vue&type=script&lang=js\"\nexport * from \"./NewMarketResearchForm.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const FILE_VALIDATION_OBJECT = {\r\n  DEFAULT: {\r\n    MAX_FILE_SIZE: 10 * 1024 * 1024, // Default 10MB\r\n    ALLOWED_FILE_EXTENSIONS: [\r\n      \".pdf\",\r\n      \".doc\",\r\n      \".docx\",\r\n      \".xlsx\",\r\n      \".xls\",\r\n      \".png\",\r\n      \".jpeg\",\r\n      \".jpg\",\r\n      \".txt\",\r\n      \".gif\",\r\n      \".bmp\",\r\n      \".ppt\",\r\n      \".pptx\",\r\n    ],\r\n    UPLOAD_DIRECTORY: \"/storage/uploads\", // Default directory for all uploads\r\n  },\r\n\r\n  // You can add more specific configurations for certain use cases\r\n  QUOTATION: {\r\n    MAX_FILE_SIZE: 5 * 1024 * 1024, // Max 5MB for quotations\r\n    ALLOWED_FILE_EXTENSIONS: [\r\n      \".pdf\",\r\n      \".doc\",\r\n      \".docx\",\r\n      \".xlsx\",\r\n      \".xls\",\r\n      \".png\",\r\n      \".jpeg\",\r\n      \".jpg\",\r\n      \".txt\",\r\n      \".gif\",\r\n      \".bmp\",\r\n      \".ppt\",\r\n      \".pptx\",\r\n    ],\r\n    UPLOAD_DIRECTORY: \"/storage/documents/quotations\", // Specific directory for quotations\r\n  },\r\n\r\n  MARKET_RESEARCH_FILES: {\r\n    MAX_FILE_SIZE: 5 * 1024 * 1024, // Max 5MB for quotations\r\n    ALLOWED_FILE_EXTENSIONS: [\r\n      \".pdf\",\r\n      \".doc\",\r\n      \".docx\",\r\n      \".xlsx\",\r\n      \".xls\",\r\n      \".png\",\r\n      \".jpeg\",\r\n      \".jpg\",\r\n      \".txt\",\r\n      \".gif\",\r\n      \".bmp\",\r\n      \".ppt\",\r\n      \".pptx\",\r\n    ],\r\n    UPLOAD_DIRECTORY: \"/storage/documents/files\", // Specific directory for quotations\r\n  },\r\n\r\n  IMAGE: {\r\n    MAX_FILE_SIZE: 2 * 1024 * 1024, // Max 2MB for images\r\n    ALLOWED_FILE_EXTENSIONS: [\".jpg\", \".jpeg\", \".png\"],\r\n    UPLOAD_DIRECTORY: \"/storage/images\", // Specific directory for images\r\n  },\r\n\r\n  EXTENSIONS: {\r\n    DOC: [\r\n      \".doc\",\r\n      \".docx\",\r\n      \".html\",\r\n      \".htm\",\r\n      \".odt\",\r\n      \".pdf\",\r\n      \".xls\",\r\n      \".xlsx\",\r\n      \".ods\",\r\n      \".ppt\",\r\n      \".pptx\",\r\n      \".txt\",\r\n    ],\r\n    IMAGE: [\".png\", \".jpeg\", \".jpg\", \".gif\", \".bmp\"],\r\n  },\r\n};\r\n\r\nexport { FILE_VALIDATION_OBJECT };\r\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","update","formData","name","isFormSubmitting","on","handleClose","handleSubmit","scopedSlots","_u","key","fn","ref","fieldValidations","$event","$focusNextElement","model","value","callback","$$v","$set","expression","leadRepresentative","handleUserUpdate","group","handleGroupUpdate","products","updateProducts","followUpDateInterval","settings","schedulingOptions","weekendsSchedulingAllowed","handleSelectedSchedulingOption","dateStart","tagSelectOptions","tag","handleSelectedTag","note","acceptedFileTypes","processFiles","relatedFiles","length","_v","_e","fileHeaders","_l","file","index","class","isLink","_s","removeFile","proxy","guidelines","handleGuideLinesChange","emailTemplate","handleEmailTemplateChange","staticRenderFns","components","FormInput","GeneralForm","GeneralSelect","UserSearchDropDown","ProductSearchDropdown","GeneralTextEditor","GeneralFileUpload","ClassicTable","FileActions","mounted","$bus","$on","data","marketResearchData","id","_id","Date","toISOString","substring","getDateFromToday","display_name","map","user","prod","title","originalTitle","link","split","pop","sortable","default","FormValidationRule","required","minLength","maxLength","min","max","deletedFiles","computed","FILE_VALIDATION_OBJECT","MARKET_RESEARCH_FILES","ALLOWED_FILE_EXTENSIONS","methods","mapActions","addMarketResearch","updateMarketResearch","isValid","$validateForm","payload","buildPayload","res","success","$emit","$toast","error","message","FormData","append","JSON","stringify","item","filter","person","forEach","body","option","updatedProducts","files","unshift","push","splice","beforeDestroy","$off","component","DEFAULT","MAX_FILE_SIZE","UPLOAD_DIRECTORY","QUOTATION","IMAGE","EXTENSIONS","DOC"],"sourceRoot":""}