"use strict";(self.webpackChunkconstruction_commercial_search_frontend=self.webpackChunkconstruction_commercial_search_frontend||[]).push([[7259],{37259:function(e,t,a){a.r(t),a.d(t,{default:function(){return s}});var l=a(49659),i={props:{label:{type:String},acceptedFileTypes:{type:Array,default:()=>l.Z.DEFAULT.ALLOWED_FILE_EXTENSIONS},allowMultiple:{type:Boolean,default:!1},ariaLabel:{type:String,default:"Upload Files"}},data:()=>({isFocused:!1}),computed:{acceptedFileTypeString(){let e=this.acceptedFileTypes?.join(",");return e}},methods:{triggerFileDialog(){this.$refs.fileInput.click()},handleFiles(e){const t=Array.from(e.target.files);this.$refs.fileInput.value=null,this.emitFiles(t)},handleDrop(e){e.preventDefault();const t=Array.from(e.dataTransfer.files);this.emitFiles(t)},handlePaste(e){if(!this.isFocused)return;const t=e.clipboardData?.items||[],a=Array.from(t).filter((e=>"file"===e.kind)).map((e=>e.getAsFile()));this.emitFiles(a)},emitFiles(e){if(e.length){if(!this.allowMultiple&&e.length>1)return this.$toast.warning("Only one file is allowed.");e.forEach((e=>{const t=e?.name?.slice(e?.name?.lastIndexOf("."));this.acceptedFileTypes.includes(t?.toLowerCase())||this.$toast.warning(`Invalid file type for ${e.name}. Please upload a valid file.`)})),this.$emit("files-uploaded",e)}}}},r=i,n=(0,a(81656).A)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-col gap-spacing-100"},[e.label?t("label",{staticClass:"text-body/m/relaxed/400",class:e.isFocused?"text-constant-brand-primary":"text-content-on-neutral-secondary",attrs:{for:"file-upload"}},[e._v(e._s(e.label))]):e._e(),t("div",{staticClass:"flex min-h-40 w-full cursor-pointer items-center justify-center rounded-10 border border-dashed border-stroke-bold text-content-on-neutral-secondary transition focus-within:border-solid focus-within:border-constant-brand-primary hover:border-constant-brand-primary",attrs:{tabindex:"0",id:"file-upload"},on:{dragover:function(e){e.preventDefault()},drop:e.handleDrop,paste:e.handlePaste,focus:function(t){e.isFocused=!0},blur:function(t){e.isFocused=!1}}},[t("p",{staticClass:"p-spacing-200 text-center"},[e._v(" Drag & Drop files here, paste from clipboard, or "),t("a",{staticClass:"cursor-pointer text-constant-brand-primary hover:underline",attrs:{href:"#","aria-label":e.ariaLabel},on:{click:function(t){return t.preventDefault(),e.triggerFileDialog.apply(null,arguments)}}},[e._v(" Upload ")]),t("br"),t("span",{staticClass:"text-body/m/relaxed/400 text-content-on-neutral-secondary"},[e._v("Allowed File Types: "+e._s(e.acceptedFileTypeString))])]),t("input",{ref:"fileInput",staticClass:"hidden",attrs:{type:"file",accept:e.acceptedFileTypeString,multiple:e.allowMultiple},on:{change:e.handleFiles}})])])}),[],!1,null,null,null),s=n.exports}}]);