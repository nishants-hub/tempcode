{"version":3,"file":"js/9667.ccea9f2e.js","mappings":"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","sources":["webpack://construction-commercial-search-frontend/./src/components/Utility/FileViewer/FileActions.vue","webpack://construction-commercial-search-frontend/src/components/Utility/FileViewer/FileActions.vue","webpack://construction-commercial-search-frontend/./src/components/Utility/FileViewer/FileActions.vue?c2b0","webpack://construction-commercial-search-frontend/./src/components/Utility/FileViewer/FileActions.vue?e82a","webpack://construction-commercial-search-frontend/./src/utilities/helpers/fileOperations.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"flex items-center gap-spacing-200\"},[_c('div',{staticClass:\"flex cursor-pointer items-center\",on:{\"click\":function($event){$event.stopPropagation();return _vm.viewFile.apply(null, arguments)}}},[_c('IconEye',{staticClass:\"h-spacing-200 w-spacing-200 hover:text-constant-brand-primary\",class:_vm.file?.isLink\n            ? 'text-content-on-neutral-tertiary'\n            : 'text-content-on-neutral-secondary'})],1),_c('div',{staticClass:\"flex cursor-pointer items-center\",on:{\"click\":function($event){$event.stopPropagation();return _vm.downloadFile.apply(null, arguments)}}},[_c('IconDownloadCloud',{staticClass:\"h-spacing-200 w-spacing-200 hover:text-constant-brand-secondary\",class:_vm.file?.isLink\n            ? 'text-content-on-neutral-tertiary'\n            : 'text-content-on-neutral-secondary'})],1),_c('div',{staticClass:\"cursor-pointer\",on:{\"click\":function($event){$event.stopPropagation();return _vm.removeFile.apply(null, arguments)}}},[_c('IconTrash2',{staticClass:\"h-spacing-200 w-spacing-200 hover:text-constant-status-error\",class:_vm.file?.isLink\n            ? 'text-content-on-neutral-tertiary'\n            : 'text-content-on-neutral-secondary'})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"flex\">\r\n    <div class=\"flex items-center gap-spacing-200\">\r\n      <div class=\"flex cursor-pointer items-center\" @click.stop=\"viewFile\">\r\n        <IconEye\r\n          class=\"h-spacing-200 w-spacing-200 hover:text-constant-brand-primary\"\r\n          :class=\"\r\n            file?.isLink\r\n              ? 'text-content-on-neutral-tertiary'\r\n              : 'text-content-on-neutral-secondary'\r\n          \"\r\n        />\r\n      </div>\r\n      <div class=\"flex cursor-pointer items-center\" @click.stop=\"downloadFile\">\r\n        <IconDownloadCloud\r\n          class=\"h-spacing-200 w-spacing-200 hover:text-constant-brand-secondary\"\r\n          :class=\"\r\n            file?.isLink\r\n              ? 'text-content-on-neutral-tertiary'\r\n              : 'text-content-on-neutral-secondary'\r\n          \"\r\n        />\r\n      </div>\r\n      <div @click.stop=\"removeFile\" class=\"cursor-pointer\">\r\n        <IconTrash2\r\n          class=\"h-spacing-200 w-spacing-200 hover:text-constant-status-error\"\r\n          :class=\"\r\n            file?.isLink\r\n              ? 'text-content-on-neutral-tertiary'\r\n              : 'text-content-on-neutral-secondary'\r\n          \"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { downloadFileFromBrowser } from \"@/utilities/helpers/fileOperations\";\r\nimport { mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"FileActions\",\r\n  props: {\r\n    file: {\r\n      type: [String, Blob, Object],\r\n      required: true,\r\n    },\r\n  },\r\n  components: {\r\n    IconDownloadCloud: () => import(\"@/components/svgIcons/download-cloud.vue\"),\r\n    IconEye: () => import(\"@/components/svgIcons/eye.vue\"),\r\n    IconTrash2: () => import(\"@/components/svgIcons/trash-2.vue\"),\r\n  },\r\n  computed: {\r\n    isLink() {\r\n      return this.file?.isLink;\r\n    },\r\n    fileUrl() {\r\n      return this.file?.link;\r\n    },\r\n    fileName() {\r\n      return this.fileUrl?.split(\"/\")?.pop();\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(\"utils\", [\"getFileBlob\"]),\r\n    viewFile() {\r\n      if (this.isLink) {\r\n        this.viewExternalFile();\r\n      } else {\r\n        this.$toast.error(\"Preview not available\");\r\n      }\r\n    },\r\n\r\n    async downloadFile() {\r\n      if (this.isLink) {\r\n        this.downloadExternalFile();\r\n      } else {\r\n        const result = downloadFileFromBrowser({\r\n          name: this.file?.name,\r\n          file: this.file,\r\n        });\r\n        if (result?.success) {\r\n          this.$toast.success(result?.message);\r\n        } else {\r\n          this.$toast.error(result?.message);\r\n        }\r\n      }\r\n    },\r\n\r\n    viewExternalFile() {\r\n      this.$bus.$emit(\"file-view-modal\", {\r\n        showModal: true,\r\n        fileUrl: this.fileUrl,\r\n      });\r\n    },\r\n\r\n    async downloadExternalFile() {\r\n      this.$bus.$emit(\"showLoader\", {\r\n        showLoader: true,\r\n        loaderText: \"Downloading file\",\r\n      });\r\n      const response = await this.getFileBlob({\r\n        params: {\r\n          fileUrl: this.fileUrl,\r\n        },\r\n      });\r\n      if (response?.success) {\r\n        const result = downloadFileFromBrowser({\r\n          name: this.fileName,\r\n          file: response?.data,\r\n        });\r\n        if (result?.success) {\r\n          this.$toast.success(result?.message);\r\n        } else {\r\n          this.$toast.error(result?.message);\r\n        }\r\n      } else {\r\n        this.$toast.error(response?.message);\r\n      }\r\n      this.$bus.$emit(\"showLoader\", false);\r\n    },\r\n\r\n    removeFile() {\r\n      this.$emit(\"remove\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileActions.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileActions.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FileActions.vue?vue&type=template&id=2c4068d1\"\nimport script from \"./FileActions.vue?vue&type=script&lang=js\"\nexport * from \"./FileActions.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function viewFileInBrowser(file) {\n  const fileURL = URL.createObjectURL(file); // Generate the object URL\n\n  // Create an anchor element to trigger a download with a filename\n  const anchor = document.createElement(\"a\");\n  anchor.href = fileURL;\n  anchor.target = \"_blank\"; // Open in a new tab\n  anchor.download = file.name; // Use the file's original name\n  anchor.click();\n\n  // Clean up the URL object to avoid memory leaks\n  URL.revokeObjectURL(fileURL);\n}\n\nexport function downloadFileFromBrowser(fileObject) {\n  try {\n    const { name, file } = fileObject;\n    const fileURL = URL.createObjectURL(file);\n    const anchor = document.createElement(\"a\");\n    anchor.href = fileURL;\n    anchor.download = name;\n    document.body.appendChild(anchor); // required for firefox\n    anchor.click();\n    document.body.removeChild(anchor); // required for firefox\n    URL.revokeObjectURL(fileURL);\n    return { success: true, message: \"File downloaded successfully.\" };\n  } catch (error) {\n    return { error, message: error?.message, success: false };\n  }\n}\n"],"names":["render","_vm","this","_c","_self","staticClass","on","$event","stopPropagation","viewFile","apply","arguments","class","file","isLink","downloadFile","removeFile","staticRenderFns","name","props","type","String","Blob","Object","required","components","IconDownloadCloud","IconEye","IconTrash2","computed","fileUrl","link","fileName","split","pop","methods","mapActions","viewExternalFile","$toast","error","downloadExternalFile","result","downloadFileFromBrowser","success","message","$bus","$emit","showModal","showLoader","loaderText","response","getFileBlob","params","data","component","fileObject","fileURL","URL","createObjectURL","anchor","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL"],"sourceRoot":""}