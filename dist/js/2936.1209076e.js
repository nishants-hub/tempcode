"use strict";(self.webpackChunkconstruction_commercial_search_frontend=self.webpackChunkconstruction_commercial_search_frontend||[]).push([[2936],{42936:function(t,e,s){s.r(e),s.d(e,{default:function(){return r}});var a=s(78626),i={components:{GeneralRemovableItem:()=>s.e(7349).then(s.bind(s,57349)),FormInput:()=>s.e(6342).then(s.bind(s,96342))},props:{statuses:{type:Array,required:!1,default:()=>[]},selectedStatus:{type:Object,required:!1,default:null},dropdownLabel:{type:String,required:!0},dropdownId:{type:String,required:!0},isMultiSelect:{type:Boolean,required:!1,default:!1},showSelectedList:{type:Boolean,required:!1,default:!0},showError:{type:Boolean,required:!1,default:!0},verticalPadding:{type:String,required:!1},fieldValidations:{type:Object,required:!1},order:{type:Number,required:!1},statusOptions:{type:Array,default:()=>[]}},data(){return{status:"",statusSuggestions:[],isStatusSuggestionsFetching:!1,fetchDebouncedStatusSuggestions:(0,a.debounce)(this.fetchStatusSuggestions,300)}},watch:{selectedStatus(){this.status=this.selectedStatus?.display_name},status(t){this.$emit("on-status-update",{display_name:t})}},computed:{getFilteredStatusSuggestions(){let t;return t=this.isMultiSelect?this.statusSuggestions?.filter((t=>!this.statuses?.some((e=>e?.display_name===t?.display_name)))):this.statusSuggestions?.filter((t=>this.selectedStatus?.display_name!==t?.display_name)),t}},methods:{async fetchStatusSuggestions(t){this.isStatusSuggestionsFetching=!0;const e=t?this.statusOptions?.filter((e=>e?.toLowerCase()?.includes(t?.toLowerCase()))):this.statusOptions;this.statusSuggestions=e?.map(((t,e)=>({display_name:t,_id:`${Date.now()}-${e}`}))),this.isStatusSuggestionsFetching=!1},handleReset(t){this.isMultiSelect&&!t||(this.statusSuggestions=[])},async handleFocus(){await this.fetchStatusSuggestions()},handleSelect(t){this.isMultiSelect?this.addStatusToStatuses(t):this.selectStatus(t)},selectStatus(t){this.status=t?.display_name,this.$emit("on-status-update",t)},addStatusToStatuses(t){let e=[...this.statuses,t];this.$emit("on-statuses-update",e)},removeStatusFromStatuses(t){let e=this.statuses.filter((e=>e?.display_name!==t?.display_name));this.$emit("on-statuses-update",e)},handleBlur(){this.$emit("on-status-update",{display_name:this.status})},validate(){return this.$refs.searchInputRef?.validate()},scrollToComponent(){return this.$refs.searchInputRef?.scrollToComponent()},clearSuggestions(){this.statusSuggestions=[]}}},u=i,n=(0,s(81656).A)(u,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full"},[t.isMultiSelect&&t.showSelectedList&&t.statuses?.length>0?e("div",{staticClass:"mb-spacing-250 flex w-full flex-wrap gap-spacing-150"},t._l(t.statuses,(function(s){return e("GeneralRemovableItem",{key:s?._id,attrs:{"item-name":s?.display_name},on:{"on-item-removed":function(e){return t.removeStatusFromStatuses(s)}}})})),1):t._e(),e("FormInput",{ref:"searchInputRef",attrs:{label:t.dropdownLabel,"input-type":"searchable-input",inputId:t.dropdownId,"prevent-v-model":!0,"clear-button":!!t.status,suggestions:t.getFilteredStatusSuggestions,"vertical-padding":t.verticalPadding,"show-error":t.showError,"field-validations":t.fieldValidations,"is-suggestions-fetching":t.isStatusSuggestionsFetching,order:t.order},on:{"set-suggestion":t.handleSelect,"reset-suggestions":t.handleReset,blur:t.handleBlur,focus:t.handleFocus,"clear-suggestions":t.clearSuggestions,"fetch-suggestions":t.fetchDebouncedStatusSuggestions,"enter-pressed":function(e){return t.$emit("enter-pressed")}},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1)}),[],!1,null,null,null),r=n.exports}}]);