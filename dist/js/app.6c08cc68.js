!function(){var e={35358:function(e,t,a){var s={"./af":22190,"./af.js":22190,"./ar":7218,"./ar-dz":85785,"./ar-dz.js":85785,"./ar-kw":29417,"./ar-kw.js":29417,"./ar-ly":56904,"./ar-ly.js":56904,"./ar-ma":98617,"./ar-ma.js":98617,"./ar-ps":91318,"./ar-ps.js":91318,"./ar-sa":82699,"./ar-sa.js":82699,"./ar-tn":36789,"./ar-tn.js":36789,"./ar.js":7218,"./az":23050,"./az.js":23050,"./be":8316,"./be.js":8316,"./bg":70310,"./bg.js":70310,"./bm":58884,"./bm.js":58884,"./bn":83469,"./bn-bd":46672,"./bn-bd.js":46672,"./bn.js":83469,"./bo":39118,"./bo.js":39118,"./br":13113,"./br.js":13113,"./bs":23626,"./bs.js":23626,"./ca":40921,"./ca.js":40921,"./cs":17799,"./cs.js":17799,"./cv":12828,"./cv.js":12828,"./cy":93521,"./cy.js":93521,"./da":56962,"./da.js":56962,"./de":93294,"./de-at":16158,"./de-at.js":16158,"./de-ch":95960,"./de-ch.js":95960,"./de.js":93294,"./dv":47963,"./dv.js":47963,"./el":3432,"./el.js":3432,"./en-au":20998,"./en-au.js":20998,"./en-ca":15931,"./en-ca.js":15931,"./en-gb":45930,"./en-gb.js":45930,"./en-ie":58081,"./en-ie.js":58081,"./en-il":71594,"./en-il.js":71594,"./en-in":23904,"./en-in.js":23904,"./en-nz":1507,"./en-nz.js":1507,"./en-sg":19409,"./en-sg.js":19409,"./eo":22177,"./eo.js":22177,"./es":84805,"./es-do":39155,"./es-do.js":39155,"./es-mx":69791,"./es-mx.js":69791,"./es-us":76098,"./es-us.js":76098,"./es.js":84805,"./et":96240,"./et.js":96240,"./eu":20391,"./eu.js":20391,"./fa":20612,"./fa.js":20612,"./fi":4220,"./fi.js":4220,"./fil":65570,"./fil.js":65570,"./fo":5466,"./fo.js":5466,"./fr":14461,"./fr-ca":66306,"./fr-ca.js":66306,"./fr-ch":27081,"./fr-ch.js":27081,"./fr.js":14461,"./fy":73484,"./fy.js":73484,"./ga":76957,"./ga.js":76957,"./gd":72978,"./gd.js":72978,"./gl":89866,"./gl.js":89866,"./gom-deva":65011,"./gom-deva.js":65011,"./gom-latn":84724,"./gom-latn.js":84724,"./gu":71601,"./gu.js":71601,"./he":79802,"./he.js":79802,"./hi":9358,"./hi.js":9358,"./hr":13907,"./hr.js":13907,"./hu":10218,"./hu.js":10218,"./hy-am":20533,"./hy-am.js":20533,"./id":52844,"./id.js":52844,"./is":97353,"./is.js":97353,"./it":6364,"./it-ch":20774,"./it-ch.js":20774,"./it.js":6364,"./ja":6008,"./ja.js":6008,"./jv":68221,"./jv.js":68221,"./ka":92417,"./ka.js":92417,"./kk":42071,"./kk.js":42071,"./km":76149,"./km.js":76149,"./kn":94572,"./kn.js":94572,"./ko":60659,"./ko.js":60659,"./ku":66285,"./ku-kmr":59398,"./ku-kmr.js":59398,"./ku.js":66285,"./ky":81609,"./ky.js":81609,"./lb":119,"./lb.js":119,"./lo":81748,"./lo.js":81748,"./lt":71973,"./lt.js":71973,"./lv":81347,"./lv.js":81347,"./me":53023,"./me.js":53023,"./mi":65747,"./mi.js":65747,"./mk":64341,"./mk.js":64341,"./ml":63840,"./ml.js":63840,"./mn":62058,"./mn.js":62058,"./mr":19182,"./mr.js":19182,"./ms":45197,"./ms-my":89136,"./ms-my.js":89136,"./ms.js":45197,"./mt":36408,"./mt.js":36408,"./my":51683,"./my.js":51683,"./nb":53141,"./nb.js":53141,"./ne":29344,"./ne.js":29344,"./nl":44703,"./nl-be":84641,"./nl-be.js":84641,"./nl.js":44703,"./nn":79873,"./nn.js":79873,"./oc-lnc":61217,"./oc-lnc.js":61217,"./pa-in":24612,"./pa-in.js":24612,"./pl":24457,"./pl.js":24457,"./pt":1089,"./pt-br":79146,"./pt-br.js":79146,"./pt.js":1089,"./ro":45950,"./ro.js":45950,"./ru":27292,"./ru.js":27292,"./sd":56774,"./sd.js":56774,"./se":87493,"./se.js":87493,"./si":3761,"./si.js":3761,"./sk":49711,"./sk.js":49711,"./sl":88558,"./sl.js":88558,"./sq":8633,"./sq.js":8633,"./sr":90688,"./sr-cyrl":47903,"./sr-cyrl.js":47903,"./sr.js":90688,"./ss":31991,"./ss.js":31991,"./sv":27020,"./sv.js":27020,"./sw":15891,"./sw.js":15891,"./ta":45714,"./ta.js":45714,"./te":30206,"./te.js":30206,"./tet":24768,"./tet.js":24768,"./tg":28276,"./tg.js":28276,"./th":57977,"./th.js":57977,"./tk":56928,"./tk.js":56928,"./tl-ph":8046,"./tl-ph.js":8046,"./tlh":41361,"./tlh.js":41361,"./tr":64367,"./tr.js":64367,"./tzl":10627,"./tzl.js":10627,"./tzm":12636,"./tzm-latn":98148,"./tzm-latn.js":98148,"./tzm.js":12636,"./ug-cn":68823,"./ug-cn.js":68823,"./uk":40461,"./uk.js":40461,"./ur":41366,"./ur.js":41366,"./uz":83454,"./uz-latn":18374,"./uz-latn.js":18374,"./uz.js":83454,"./vi":78572,"./vi.js":78572,"./x-pseudo":80464,"./x-pseudo.js":80464,"./yo":93709,"./yo.js":93709,"./zh-cn":65873,"./zh-cn.js":65873,"./zh-hk":17549,"./zh-hk.js":17549,"./zh-mo":52240,"./zh-mo.js":52240,"./zh-tw":90405,"./zh-tw.js":90405};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=r,e.exports=n,n.id=35358},32378:function(e,t,a){"use strict";a.d(t,{A:function(){return i}});var s=a(94373),n=a(12247);const r=s.A.create({baseURL:"/api/",headers:{"Content-Type":"application/json"}});r.interceptors.request.use((e=>{const t=n.A.get("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e))),r.interceptors.response.use((e=>e),(e=>(console.error("error",e),401===e?.response?.status&&n.A.remove("auth_token"),Promise.reject(e))));var i=r},14729:function(e,t,a){"use strict";var s=a(66848),n=a(93518),r={data:()=>({loading:!1,loaderText:""}),computed:{...(0,n.L8)({getIsAuthLoading:"auth/getIsAuthLoading"})},components:{IconLoader2:()=>a.e(4242).then(a.bind(a,94242))},methods:{start(){this.loading=!0},finish(){this.loading=!1}},mounted(){this.$bus.$on("showLoader",(e=>{!0===e?.showLoader?(this.loaderText=e?.loaderText,this.start()):!1===e&&this.finish()}))},beforeDestroy(){this.loading=null,delete this.loading,this.$bus.$off("showLoader")}},i=r,o=a(81656),l=(0,o.A)(i,(function(){var e=this,t=e._self._c;return e.loading||e.getIsAuthLoading?t("div",{staticClass:"fixed inset-0 z-[999999] flex h-screen w-full items-center justify-center",class:e.loading?"bg-bg-overlay":""},[t("div",{staticClass:"flex flex-col items-center justify-center gap-spacing-150"},[t("div",{staticClass:"h-spacing-700 w-spacing-700 animate-spin text-constant-brand-primary"},[t("IconLoader2",{staticClass:"h-full w-full"})],1),e.loaderText?t("p",{staticClass:"text-body/l/relaxed/400 text-content-on-neutral-primary"},[e._v(" "+e._s(e.loaderText)),t("span",{staticClass:"inline-block animate-dot1 text-headline/m/relaxed/500"},[e._v(".")]),t("span",{staticClass:"inline-block animate-dot2 text-headline/m/relaxed/500"},[e._v(".")]),t("span",{staticClass:"inline-block animate-dot3 text-headline/m/relaxed/500"},[e._v(".")])]):e._e()])]):e._e()}),[],!1,null,null,null),c={name:"App",components:{Loader:l.exports}},d=(0,o.A)(c,(function(){var e=this._self._c;return e("div",{attrs:{id:"app"}},[e("Loader"),e("router-view")],1)}),[],!1,null,null,null),u=d.exports,p=a(56178),m=a(32378),h=a(78275),g=a(12247),f={state:{user:null,token:null,error:null,isAuthenticated:!1,trackers:{},isAuthLoading:!1,usersData:null},mutations:{SET_USERS_DATA(e,t){const a=[...e.usersData?.users||[],...t.users];e.usersData={...t,users:a}},RESET_USERS_DATA(e){e.usersData=null},SET_USER(e,t){e.user=t},SET_USER_TRACKERS(e,t){e.trackers=t},SET_TOKEN(e,t){e.token=t,t&&g.A.set("auth_token",t),e.isAuthenticated=!!t},SET_ERROR(e,t){e.error=t},CLEAR_AUTH(e){e.user=null,e.token=null,e.isAuthenticated=!1},AUTH_LOADING(e,t){e.isAuthLoading=t}},actions:{async getAllUsers({commit:e},t){e("SET_ERROR",null);try{const a=await m.A.get("auth/all-users",{params:t?.params});return 1===a?.data?.data?.currentPage&&e("RESET_USERS_DATA"),e("SET_USERS_DATA",a?.data?.data),a?.data}catch(t){let a={...t,customMessage:"Unable to fetch Users Data"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}},async login({commit:e},t){e("SET_ERROR",null);try{const a=await m.A.post("auth/login",t);return e("SET_USER",a?.data?.user),e("SET_TOKEN",a?.data?.token),e("SET_USER_TRACKERS",a?.data?.user?.trackers),a?.data}catch(t){let a={...t,customMessage:"Login failed"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}},async updateUserByID(e,t){try{const e=await m.A.patch(`auth/update-user/${t?.id}`,t?.body);return e?.data}catch(e){let t={...e,customMessage:"Unable to update user details"};return{message:(0,h.gW)(t),success:!1}}},async deleteUserByID(e,t){try{const e=await m.A.delete(`auth/delete-user/${t}`);return e?.data}catch(e){let t={...e,customMessage:"Unable to delete user"};return{message:(0,h.gW)(t),success:!1}}},async getProfile({commit:e}){e("AUTH_LOADING",!0);try{const t=await m.A.get("auth/me");return t?.data?.success&&(e("SET_USER",t?.data?.user),e("SET_TOKEN",t?.data?.token),e("SET_USER_TRACKERS",t?.data?.user?.trackers)),t?.data}catch(t){let a={...t,customMessage:"Unable to get Profile"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}finally{e("AUTH_LOADING",!1)}},async getTrackers({commit:e}){e("SET_ERROR",null);try{const t=await m.A.get("auth/trackers");return t?.data?.success&&e("SET_USER_TRACKERS",t?.data?.trackers),t?.data}catch(e){let t={...e,customMessage:"Login failed"};return{message:(0,h.gW)(t),success:!1}}},async signup({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.post("auth/signup",t);return e?.data}catch(t){let a={...t,customMessage:"Signup failed"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}},async forgotPassword({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.post("auth/forgot-password",{email:t});return e?.data}catch(t){let a={...t,customMessage:"Failed to send password reset email"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}},async resetPassword({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.post("auth/verify-otp-reset-password",t);return e?.data}catch(t){let a={...t,customMessage:"Password reset failed"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}},async logout({commit:e}){try{const t=await m.A.post("auth/logout");return e("CLEAR_AUTH"),t?.data}catch(t){let a={...t,customMessage:"Logout failed"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}},async getUserSuggestions(e,t){try{const e=await m.A.get("auth/users",{params:t?.params});return e?.data}catch(e){let t={...e,customMessage:"Unable to get user suggestions"};return{message:(0,h.gW)(t),success:!1}}}},getters:{getUser:e=>e.user,getUserTrackers:e=>e.trackers,getErrorMessage:e=>(0,h.gW)(e.error),getIsAuthLoading:e=>e.isAuthLoading},namespaced:!0},b={state:{companiesData:null,companyData:null,error:null},mutations:{SET_COMPANIES_DATA(e,t){const a=[...e.companiesData?.companies||[],...t.companies];e.companiesData={...t,companies:a}},RESET_COMPANIES_DATA(e){e.companiesData=null},SET_COMPANY_DATA(e,t){e.companyData=t},SET_ERROR(e,t){e.error=t}},actions:{async getCompanies({commit:e},t){e("SET_ERROR",null);try{const a=await m.A.get("companies",{params:t?.params});1===a?.data?.currentPage&&e("RESET_COMPANIES_DATA"),e("SET_COMPANIES_DATA",a?.data)}catch(t){e("SET_ERROR",{...t,customMessage:"Unable to fetch Companies Data"})}},async getCompanyDetails({commit:e},t){e("SET_ERROR",null),e("SET_COMPANY_DATA",null);try{const a=await m.A.get(`companies/${t?.id}`,{params:t?.params});e("SET_COMPANY_DATA",a?.data)}catch(t){e("SET_ERROR",{...t,customMessage:"Unable to fetch Companies Data"})}},async addCompanies({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.post("companies",t);return e?.data}catch(a){let s={...a,customMessage:t?.length<1?"Unable to add new company":"Unable to add new companies"};return e("SET_ERROR",s),{message:(0,h.gW)(s),success:!1}}},async addProductToCompany({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.post(`companies/add-products/${t?.id}`,t?.body);return e?.data}catch(t){e("SET_ERROR",{...t,customMessage:"Unable to add category to company"})}},async updateCompany({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.patch(`companies/${t?.id}`,t?.body);return e?.data}catch(t){let a={...t,customMessage:" Unable to update company"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}},async deleteCompany({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.delete(`companies/${t?.id}`);return e?.data}catch(t){let a={...t,customMessage:"Unable to delete company"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}},async checkCompanyNameAvailabilty({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.get("companies/check-for-name-availabilty",{params:t?.params});return e?.data}catch(t){let a={...t,customMessage:"Some Error Occured"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}},async getCompanySuggestions(e,t){try{const e=await m.A.get("companies/search",{params:t?.params});return e?.data?.data}catch(e){}},async getCompaniesByProducts(e,t){try{const e=await m.A.post("companies/companies-by-products",t);return e?.data?.data}catch(e){}},async addQuickPrice({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.post("quotations/quick-price",t);return e?.data}catch(t){let a={...t,customMessage:"Unable to add quick price"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}}},getters:{getErrorMessage:e=>(0,h.gW)(e.error)},namespaced:!0},y={state:{companiesData:null,categoryData:null,error:null},mutations:{SET_CATEGORIES_DATA(e,t){e.companiesData=t},SET_CATEGORY_DATA(e,t){e.categoryData=t},SET_ERROR(e,t){e.error=t}},actions:{async getCommercialItems({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.get("commercial-items",{params:t?.params});return e?.data}catch(a){e("SET_ERROR",{...a,customMessage:"all"===t?.id?"Unable to fetch Categories":"Unable to fetch Sub Categories"})}},async getProductDetails({commit:e},t){e("SET_ERROR",null),e("SET_CATEGORY_DATA",null);try{const a=await m.A.get(`commercial-items/${t?.id}`,{params:t?.params});e("SET_CATEGORY_DATA",a?.data)}catch(t){e("SET_ERROR",{...t,customMessage:"Unable to fetch Category Data"})}},async addCompaniesToProduct({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.post(`commercial-items/add-companies/${t?.id}`,t?.body);return e?.data}catch(t){e("SET_ERROR",{...t,customMessage:"Unable to add category to company"})}},async getProductSuggestions(e,t){try{const e=await m.A.get("commercial-items/search",{params:t?.params});return e?.data?.data}catch(e){}},async getProductVariables(e,t){try{const e=await m.A.get("commercial-items/variables",{params:t?.params});return e?.data}catch(e){}},async addCommercialItem({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.post("commercial-items",t);return e?.data}catch(t){e("SET_ERROR",{...t,customMessage:"Unable to add new category"})}},async updateCommercialItem({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.patch(`commercial-items/${t?.id}`,t?.body);return e?.data}catch(t){e("SET_ERROR",{...t,customMessage:"Unable to update category"})}},async reorderCommercialItems({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.patch("commercial-items/reorder",t?.body);return e?.data}catch(t){const a={...t,customMessage:"Unable to reorder commercial items"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}},async deleteCommercialItem({commit:e},t){e("SET_ERROR",null),console.log("payload",t);try{const e=await m.A.delete(`commercial-items/${t?.id}`,{params:t?.params});return e?.data}catch(t){const a={...t,customMessage:"Unable to delete commercial item"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}}},getters:{getErrorMessage:e=>(0,h.gW)(e.error)},namespaced:!0},x={state:{marketResearchesData:null,marketResearchData:null,followUpsByCompany:null,error:null},mutations:{SET_MARKET_RESEARCHES_DATA(e,t){const a=[...e.marketResearchesData?.data||[],...t.data];e.marketResearchesData={...t,data:a}},RESET_MARKET_RESEARCHES_DATA(e){e.marketResearchesData=null},SET_MARKET_RESEARCH_DATA(e,t){e.marketResearchData=t},SET_MARKET_RESEARCH_COMPANIES_AND_FOLLOW_UP_DATA(e,t){e.marketResearchData&&(e.marketResearchData={...e.marketResearchData,productSellingCompanies:t})},SET_FOLLOW_UPS_BY_COMPANY(e,t){const a=[...e.followUpsByCompany?.followUpHistory||[],...t?.followUpHistory];e.followUpsByCompany={...t,followUpHistory:a}},RESET_FOLLOW_UPS_BY_COMPANY(e){e.followUpsByCompany=null},SET_ERROR(e,t){e.error=t}},actions:{async getMarketResearches({commit:e},t){e("SET_ERROR",null);try{const a=await m.A.get("market-researches",{params:t?.params});1===a?.data?.pagination?.currentPage&&e("RESET_MARKET_RESEARCHES_DATA"),e("SET_MARKET_RESEARCHES_DATA",a?.data)}catch(t){e("SET_ERROR",{...t,customMessage:"Unable to fetch market researches"})}},async getMarketResearchDetails({commit:e},t){e("SET_ERROR",null),e("SET_MARKET_RESEARCH_DATA",null);try{const a=await m.A.get(`market-researches/${t?.id}`,{params:t?.params});e("SET_MARKET_RESEARCH_DATA",a?.data);const s=a?.data?.products?.map((e=>e?._id));if(s&&s.length>0){const a=await m.A.post("companies/by-products",{productIds:s,marketResearchId:t?.id});e("SET_MARKET_RESEARCH_COMPANIES_AND_FOLLOW_UP_DATA",a?.data?.data)}}catch(t){e("SET_ERROR",{...t,customMessage:"Unable to fetch market research data"})}},async deleteMarketResearch({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.delete(`market-researches/${t?.id}`);return e?.data}catch(t){let a={...t,customMessage:"Unable to delete market research"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}},async getAllFollowUpsByCompany({commit:e},t){e("SET_ERROR",null);try{const a=await m.A.get("follow-up",{params:t?.params});1===a?.data?.currentPage&&e("RESET_FOLLOW_UPS_BY_COMPANY"),e("SET_FOLLOW_UPS_BY_COMPANY",a?.data)}catch(t){e("SET_ERROR",{...t,customMessage:"Unable to fetch follow-ups history"})}},async addMarketResearch({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.post("market-researches",t,{headers:{"Content-Type":"multipart/form-data"}});return e?.data}catch(t){let a={...t,customMessage:"Unable to create new market research"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}},async updateMarketResearch({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.patch(`market-researches/${t?.id}`,t?.body,{headers:{"Content-Type":"multipart/form-data"}});return e?.data}catch(t){let a={...t,customMessage:"Unable to update market research"};return e("SET_ERROR",a),{message:(0,h.gW)(a),success:!1}}},async addQuotation({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.post("quotations/follow-up-quotation",t,{headers:{"Content-Type":"multipart/form-data"}});return e?.data}catch(t){let a={...t,customMessage:"Unable to add Follow Up"};return e("SET_ERROR",a),{success:!1,message:(0,h.gW)(a)}}}},getters:{getErrorMessage:e=>(0,h.gW)(e.error)},namespaced:!0},w={state:{error:null},mutations:{SET_ERROR(e,t){e.error=t}},actions:{async getFileBlob({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.get("files/download",{responseType:"blob",params:t?.params});return e?.data?{data:e?.data,message:e?.data?.message||"File downloaded successfully",success:e?.data?.success??!0}:{message:"Unable to download file",success:!1}}catch(t){console.log(t);let a={...t,customMessage:"Unable to download file"};return e("SET_ERROR",a),{success:!1,message:(0,h.gW)(a)}}},async getTempFileViewLink({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.get("files/view",{params:t?.params});return e?.data}catch(t){let a={...t,customMessage:"Unable to generate temporary file link"};return e("SET_ERROR",a),{success:!1,message:(0,h.gW)(a)}}},async getOptions({commit:e},t){e("SET_ERROR",null);try{const e=await m.A.get("options",{params:t?.params});return e?.data}catch(t){let a={...t,customMessage:"Unable to fetch  options"};return e("SET_ERROR",a),{success:!1,message:(0,h.gW)(a)}}}},getters:{getErrorMessage:e=>(0,h.gW)(e.error)},namespaced:!0};s.Ay.use(n.Ay);var v=new n.Ay.Store({modules:{auth:f,company:b,category:y,marketResearch:x,utils:w},strict:{NODE_ENV:"production",VUE_APP_BASE_URL:"https://construction-comercial-search-backend-dev.onrender.com/api/",VUE_APP_DEV_TOOLS:"false",BASE_URL:"/"}.DEBUGGING}),C=(a(44114),a(77788)),_={components:{AuthWrapper:()=>a.e(4932).then(a.bind(a,4932)),FormInput:()=>a.e(6342).then(a.bind(a,96342)),GeneralButton:()=>a.e(695).then(a.bind(a,90695))},data:()=>({email:"",password:"",error:"",isLoading:!1,fieldValidations:{email:new C.s({type:"EMAIL",required:!0}),password:new C.s({type:"PASSWORD",required:!0})}}),mounted(){this.email="",this.password=""},methods:{...(0,n.i0)("auth",["login"]),async handleLogin(){if(!this.$validateForm())return;this.isLoading=!0;const e=await this.login({email:this.email,password:this.password});e?.success?this.$router.push(this.$route?.query?.redirect||"/dashboard"):this.$toast.error(e?.message),this.isLoading=!1}}},k=_,R=(0,o.A)(k,(function(){var e=this,t=e._self._c;return t("AuthWrapper",{staticClass:"min-h-screen",attrs:{title:"Login"}},[t("form",{staticClass:"flex flex-1 flex-col overflow-y-auto px-spacing-300",on:{submit:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[t("div",{staticClass:"flex flex-1 flex-col gap-spacing-200 py-spacing-100"},[t("FormInput",{ref:"login-email",attrs:{autofocus:!0,"input-type":"email",label:"Email","input-id":"email",autocomplete:"on","field-validations":e.fieldValidations.email},on:{"enter-pressed":function(t){return e.$focusNextElement("password")}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),t("FormInput",{ref:"login-password",attrs:{"input-type":"password",label:"Password","field-validations":e.fieldValidations.password,"input-id":"password",autocomplete:"on"},on:{"enter-pressed":e.handleLogin},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),t("div",{staticClass:"flex w-full justify-start"},[t("RouterLink",{staticClass:"justify-end text-body/l/relaxed/400 text-constant-brand-primary",attrs:{to:"/forgot-password"}},[e._v(" Fogot password? ")])],1)],1),t("div",{staticClass:"sticky bottom-0 bg-bg-neutral-default pt-spacing-200"},[t("GeneralButton",{attrs:{"button-type":"button",type:"brand",size:"large",emphasis:"primary","icon-position":"none",icon:"",image:"","is-disabled":!1,"is-loading":e.isLoading,label:"Login"},nativeOn:{click:function(t){return e.handleLogin.apply(null,arguments)}}}),t("div",{staticClass:"mt-spacing-150 w-full"},[t("p",{staticClass:"text-center text-body/l/relaxed/400 text-content-on-neutral-secondary"},[e._v(" To Create an account, Contact Admin ")])])],1)])])}),[],!1,null,null,null),D=R.exports,E={data:()=>({open:!1,isLoading:!1,showSideBar:!1,timeout:null,isDarkMode:!1}),components:{IconX:()=>a.e(6847).then(a.bind(a,96847)),IconMoonStar:()=>a.e(7471).then(a.bind(a,37471)),IconSun:()=>a.e(9579).then(a.bind(a,39579))},mounted(){this.$bus.$on("open-sidebar",(()=>this.open=!0)),this.timeout=setTimeout((()=>{this.showSideBar=!0,clearTimeout(this.timeout)}),300),this.trackers||this.getTrackers(),"light"===localStorage.getItem("theme")?(document.documentElement.classList.remove("dark"),this.isDarkMode=!1):(document.documentElement.classList.add("dark"),this.isDarkMode=!0)},computed:{...(0,n.L8)({user:"auth/getUser",trackers:"auth/getUserTrackers"}),isSuperAdmin(){return"SUPER_ADMIN"===this.user?.role}},methods:{...(0,n.i0)({logout:"auth/logout",getTrackers:"auth/getTrackers"}),async handleLogout(){this.$bus.$emit("showLoader",{showLoader:!0,loaderText:"Logging out"}),this.isLoading=!0;const e=await this.logout();e?.success&&this.$router.replace({path:"/login"}),this.isLoading=!1,this.$bus.$emit("showLoader",!1)},closeSideBar(){this.open=!1},toggleTheme(){const e=document.documentElement;e.classList.contains("dark")?(e.classList.remove("dark"),localStorage.setItem("theme","light"),this.isDarkMode=!1):(e.classList.add("dark"),localStorage.setItem("theme","dark"),this.isDarkMode=!0)}},beforeDestroy(){clearTimeout(this.timeout),this.$bus.$off("open-sidebar")}},S=E,A=(0,o.A)(S,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"min-w-screen sidebar fixed left-spacing-0 top-spacing-0 z-[5000] flex h-screen max-h-screen w-screen flex-col overflow-y-auto text-constant-neutral-white shadow-lg nexus:static nexus:w-spacing-800 nexus:min-w-spacing-800 nexus:animate-none ipad:w-spacing-1300 ipad:min-w-spacing-1300",class:[e.open?"animate-slideIn":"animate-slideOut",e.showSideBar?"":"opacity-0 nexus:opacity-100"]},[t("div",{class:e.open?"nexus:hidden":"hidden",on:{click:function(t){return e.closeSideBar()}}},[t("IconX",{staticClass:"absolute right-spacing-200 top-spacing-200 h-spacing-300 w-spacing-300 cursor-pointer text-content-on-neutral-secondary hover:text-content-on-neutral-primary"})],1),t("ul",{staticClass:"flex h-full flex-1 flex-col text-body/m/relaxed/400"},[t("li",{staticClass:"py-spacing-50"},[t("div",{staticClass:"sidebar-tile w-full cursor-pointer items-center py-spacing-200 nexus:py-spacing-250 ipad:py-spacing-100",attrs:{tabindex:"0"},on:{click:function(t){return e.toggleTheme()}}},[t("IconMoonStar",{directives:[{name:"show",rawName:"v-show",value:e.isDarkMode,expression:"isDarkMode"}],staticClass:"h-spacing-250 w-spacing-250 text-constant-neutral-white"}),t("IconSun",{directives:[{name:"show",rawName:"v-show",value:!e.isDarkMode,expression:"!isDarkMode"}],staticClass:"h-spacing-250 w-spacing-250 text-constant-neutral-white"})],1)]),t("li",{staticClass:"flex w-full flex-1 items-center"},[t("RouterLink",{staticClass:"sidebar-tile flex-1 items-center py-spacing-200 nexus:py-spacing-250 ipad:py-spacing-100",attrs:{to:"/dashboard/companies"}},[t("i",{staticClass:"fa fa-building"}),t("span",{staticClass:"text-center nexus:hidden ipad:block"},[e._v("Companies")])])],1),t("li",{staticClass:"flex w-full flex-1 items-center"},[t("RouterLink",{staticClass:"sidebar-tile items-center py-spacing-200 nexus:py-spacing-250 ipad:py-spacing-100",attrs:{to:"/dashboard/category"}},[t("i",{staticClass:"fa fa-list"}),t("span",{staticClass:"text-center nexus:hidden ipad:block"},[e._v("Categories")])])],1),t("li",{staticClass:"flex w-full flex-1 items-center"},[t("RouterLink",{staticClass:"sidebar-tile items-center py-spacing-200 nexus:py-spacing-250 ipad:py-spacing-100",attrs:{to:"/dashboard/market-researches"}},[t("i",{staticClass:"fa fa-search"}),t("span",{staticClass:"text-center nexus:hidden ipad:block"},[e._v("Market Researches")])])],1),t("li",{staticClass:"flex w-full flex-1 items-center"},[t("RouterLink",{staticClass:"sidebar-tile items-center py-spacing-200 nexus:py-spacing-250 ipad:py-spacing-100",attrs:{to:"/dashboard/calendar"}},[t("i",{staticClass:"fa fa-calendar"}),t("span",{staticClass:"text-center nexus:hidden ipad:block"},[e._v("Calendar")])])],1),t("li",{staticClass:"flex w-full flex-1 items-center"},[t("RouterLink",{staticClass:"sidebar-tile items-center py-spacing-200 nexus:py-spacing-250 ipad:py-spacing-100",attrs:{to:"/dashboard/today"}},[t("i",{staticClass:"fa fa-sun"}),t("span",{staticClass:"text-center nexus:hidden ipad:block"},[e._v("Today")])])],1),t("div",{staticClass:"w-full border-t border-gray-50 dark:border-stroke-bold dark:nexus:border-gray-50"}),t("li",{staticClass:"flex w-full flex-1 items-center"},[t("RouterLink",{staticClass:"sidebar-tile items-center py-spacing-200 nexus:py-spacing-250 ipad:py-spacing-100",attrs:{to:"/dashboard/bulk-add"}},[t("i",{staticClass:"fa-solid fa-envelopes-bulk"}),t("span",{staticClass:"text-center nexus:hidden ipad:block"},[e._v("Bulk Add")])])],1),t("li",{staticClass:"flex w-full flex-1 items-center"},[t("RouterLink",{staticClass:"sidebar-tile items-center py-spacing-200 nexus:py-spacing-250 ipad:py-spacing-100",attrs:{to:"/dashboard/quick-price"}},[t("i",{staticClass:"fa-solid fa-truck-fast"}),t("span",{staticClass:"text-center nexus:hidden ipad:block"},[e._v("Quick Price")])])],1),t("li",{staticClass:"flex w-full flex-1 items-center"},[t("div",{staticClass:"sidebar-tile pointer-events-none items-center py-spacing-200 nexus:py-spacing-250 ipad:py-spacing-100"},[t("div",{staticClass:"relative"},[t("span",{staticClass:"absolute -top-spacing-150 left-spacing-100 flex max-h-spacing-250 min-w-spacing-250 items-center justify-center rounded-full bg-green-900 p-spacing-50 text-body/m/compact/400"},[e._v(e._s(e.trackers?.newStarts))]),t("i",{staticClass:"fa-brands fa-firstdraft"})]),t("span",{staticClass:"text-center nexus:hidden ipad:block"},[e._v("1st Approach")])])]),t("li",{staticClass:"flex w-full flex-1 items-center"},[t("div",{staticClass:"sidebar-tile pointer-events-none items-center py-spacing-200 nexus:py-spacing-250 ipad:py-spacing-100"},[t("div",{staticClass:"relative"},[t("span",{staticClass:"absolute -top-spacing-150 left-spacing-100 flex max-h-spacing-250 min-w-spacing-250 items-center justify-center rounded-full bg-violet-900 p-spacing-50 text-body/m/compact/400"},[e._v(e._s(e.trackers?.followUps))]),t("i",{staticClass:"fa-solid fa-list-check"})]),t("span",{staticClass:"text-center nexus:hidden ipad:block"},[e._v("Follow Ups")])])]),t("li",{staticClass:"flex w-full flex-1 items-center"},[t("div",{staticClass:"sidebar-tile pointer-events-none items-center py-spacing-200 nexus:py-spacing-250 ipad:py-spacing-100"},[t("div",{staticClass:"relative"},[t("span",{staticClass:"absolute -top-spacing-150 left-spacing-100 flex max-h-spacing-250 min-w-spacing-250 items-center justify-center rounded-full bg-sky-800 p-spacing-50 text-body/m/compact/400"},[e._v(e._s(e.trackers?.bulkAdds))]),t("i",{staticClass:"fa-solid fa-envelopes-bulk"})]),t("span",{staticClass:"text-center nexus:hidden ipad:block"},[e._v("Bulk Adds")])])]),e.isSuperAdmin?t("li",{staticClass:"flex w-full flex-1 items-center"},[t("RouterLink",{staticClass:"sidebar-tile items-center py-spacing-200 nexus:py-spacing-250 ipad:py-spacing-100",attrs:{to:"/dashboard/user-panel"}},[t("i",{staticClass:"fa-solid fa-users"}),t("span",{staticClass:"text-center nexus:hidden ipad:block"},[e._v("User Panel")])])],1):e._e(),t("div",{staticClass:"w-full border-t border-gray-50 dark:border-stroke-bold dark:nexus:border-gray-50"}),t("li",{staticClass:"flex w-full flex-1 items-center"},[t("RouterLink",{staticClass:"sidebar-tile items-center py-spacing-200 nexus:py-spacing-250 ipad:py-spacing-100",attrs:{to:"/profile"}},[t("i",{staticClass:"fa fa-user"}),t("span",{staticClass:"text-center nexus:hidden ipad:block"},[e._v(e._s(e.user?.name))])])],1),t("li",{staticClass:"flex w-full flex-1 items-center"},[t("button",{staticClass:"w-full bg-orange-600 py-spacing-200 text-constant-neutral-white hover:bg-orange-700 nexus:py-spacing-250 ipad:py-spacing-100",on:{click:function(t){return e.handleLogout()}}},[t("i",{staticClass:"fa fa-sign-out-alt"}),t("span",{staticClass:"text-center nexus:hidden ipad:block"},[e._v(" Logout ")])])])])])}),[],!1,null,"b8217750",null),T={components:{SideBar:A.exports,FileViewerModal:()=>a.e(5315).then(a.bind(a,85315)),RemoveConfirmationModal:()=>a.e(1974).then(a.bind(a,51974))},data:()=>({}),methods:{logout(){this.$router.push("/login")}}},P=(0,o.A)(T,(function(){var e=this._self._c;return e("div",{staticClass:"flex h-screen max-h-screen flex-row border-b bg-bg-neutral-default"},[e("SideBar"),e("div",{staticClass:"flex-grow overflow-x-auto"},[e("router-view")],1),e("FileViewerModal"),e("RemoveConfirmationModal")],1)}),[],!1,null,null,null),L=P.exports,O=(a(64979),a(71678),a(61527)),M={components:{draggable:a.n(O)(),TreeView:()=>a.e(6436).then(a.bind(a,16436)),ProductDetailsTable:()=>a.e(8519).then(a.bind(a,8519)),AddCategoryModal:()=>a.e(9495).then(a.bind(a,19495)),IconPlus:()=>a.e(531).then(a.bind(a,80531)),ProductDetailsTableModal:()=>a.e(3335).then(a.bind(a,83335)),GeneralButton:()=>a.e(695).then(a.bind(a,90695)),Search:()=>a.e(8130).then(a.bind(a,8130))},data:()=>({data:[],expandedTreeView:{expand:!1},selectedProduct:null,isDragging:!1,canDrag:!0,clonedData:null,selectProductListener:null,handleStateListener:null,refetchListener:null,isLoading:!1,searchItemName:""}),mounted(){this.handleStateListener=e=>{"CLONE"===e?.type?this.clonedData=structuredClone(this.data):"RESTORE"===e?.type&&(this.data=structuredClone(this.clonedData))},this.refetchListener=()=>{this.getCategoryList()},this.selectProductListener=e=>{this.selectedProduct=e,e&&this.$bus.$emit("product-details-table-modal",{showModal:!0,productId:e?._id})},this.$bus.$on("handle-commercial-items-state",this.handleStateListener),this.$bus.$on("refetch-commercial-items",this.refetchListener),this.$bus.$on("set-selected-product",this.selectProductListener),this.getCategoryList()},methods:{...(0,n.i0)("category",["getCommercialItems","reorderCommercialItems"]),async getCategoryList(){this.isLoading=!0,this.$bus.$emit("showLoader",{showLoader:!0});const e=await this.getCommercialItems({params:{mode:"FULL"}});e?.success?this.data=e?.data:this.$toast.error("Unable to load data"),this.$bus.$emit("showLoader",!1),this.isLoading=!1},addChild(){this.$bus.$emit("add-new-commercial-item-modal",{showModal:!0,parent:null})},async expandTreeView(){this.expandedTreeView={expand:!0}},async collapseTreeView(){this.expandedTreeView={expand:!1}},onDragStart(){this.clonedData=structuredClone(this.data),this.isDragging=!0},onDragEnd(e){this.isDragging=!1,e?.from?.id===e?.to?.id&&e.oldIndex===e.newIndex||this.reorderChildNodes(e?.from?.id,e?.to?.id,e?.oldIndex,e?.newIndex)},async reorderChildNodes(e,t,a,s){this.canDrag=!1,this.$bus.$emit("showLoader",{showLoader:!0});const n=await this.reorderCommercialItems({body:{from:e,to:t,oldIndex:a,newIndex:s,itemId:this.clonedData?.[a]?._id}});n?.success?(this.$bus.$emit("showLoader",!1),this.$toast.success(n?.message),this.$bus.$emit("refetch-commercial-items")):(this.$bus.$emit("showLoader",!1),this.$toast.error(n?.message),this.data=structuredClone(this.clonedData)),this.clonedData=null,this.canDrag=!0},searchByItemName(e){this.searchItemName=e,this.expandedTreeView={expand:!0}}},beforeDestroy(){this.$bus.$off("set-selected-product",this.selectProductListener),this.$bus.$off("refetch-commercial-items",this.refetchListener),this.$bus.$off("handle-commercial-items-state",this.handleStateListener)}},$=M,N=(0,o.A)($,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex h-full w-full overflow-y-auto bg-bg-neutral-default"},[t("div",{staticClass:"h-full w-full overflow-auto px-spacing-200 py-spacing-300 ipad:px-spacing-300",class:e.selectedProduct?"lg:w-[30%]":""},[t("div",{staticClass:"mb-spacing-300 flex items-center",class:e.selectedProduct?"flex-col gap-spacing-200":"flex-col gap-spacing-300 ipadPro:flex-row"},[t("div",{staticClass:"flex items-center gap-spacing-150"},[t("h1",{staticClass:"text-overline/l/relaxed/500 text-content-on-neutral-secondary ipad:text-overline/xl/relaxed/500"},[e._v(" CATEGORIES ")]),t("div",{staticClass:"flex h-spacing-250 w-spacing-250 cursor-pointer items-center justify-center rounded-full bg-constant-brand-primary",on:{click:function(t){return e.addChild()}}},[t("IconPlus",{staticClass:"h-spacing-200 w-spacing-200 text-constant-neutral-white"})],1)]),t("div",{staticClass:"flex items-center gap-spacing-150"},[t("GeneralButton",{attrs:{"button-type":"button",type:"success",size:"small",emphasis:"secondary",label:"Refresh","icon-slot":!0,"icon-position":"leading"},nativeOn:{click:function(t){return e.getCategoryList()}},scopedSlots:e._u([{key:"leading-icon",fn:function(){return[t("i",{staticClass:"fa-solid fa-refresh relative bottom-spacing-50",class:e.isLoading?"animate-spin":""})]},proxy:!0}])}),t("GeneralButton",{attrs:{"button-type":"button",type:"brand",size:"small",emphasis:"secondary",label:"Expand","icon-slot":!0,"icon-position":"leading"},nativeOn:{click:function(t){return e.expandTreeView()}},scopedSlots:e._u([{key:"leading-icon",fn:function(){return[t("i",{staticClass:"fa-solid fa-expand relative bottom-spacing-50"})]},proxy:!0}])}),t("GeneralButton",{attrs:{"button-type":"button",type:"brand-secondary",size:"small",emphasis:"secondary",label:"Collapse","icon-slot":!0,"icon-position":"leading"},nativeOn:{click:function(t){return e.collapseTreeView()}},scopedSlots:e._u([{key:"leading-icon",fn:function(){return[t("i",{staticClass:"fa-solid fa-compress relative bottom-spacing-50"})]},proxy:!0}])})],1),t("Search",{staticClass:"ipadPro:max-w-[400px]",attrs:{placeholder:"Search...",label:"Name","search-id":"commercial-item-name-search"},on:{search:e.searchByItemName}})],1),t("draggable",{attrs:{list:e.data,disabled:!e.canDrag,"ghost-class":"opacity-40",group:"tree",id:"root"},on:{start:e.onDragStart,end:e.onDragEnd}},e._l(e.data,(function(a,s){return t("div",{key:a?._id},[t("TreeView",{staticClass:"mb-spacing-150",attrs:{"node-obj":a,level:Number(0),index:s,"expanded-tree-view":e.expandedTreeView,"selected-product":e.selectedProduct,"search-item-name":e.searchItemName}})],1)})),0)],1),e.selectedProduct?._id?t("div",{staticClass:"hidden h-full bg-bg-neutral-raised pt-spacing-300 lg:block lg:w-[70%]"},[t("ProductDetailsTable")],1):e._e(),t("ProductDetailsTableModal",{staticClass:"lg:hidden"}),t("AddCategoryModal")],1)}),[],!1,null,null,null),I=N.exports,U=a(78626),j={components:{IconPlus:()=>a.e(531).then(a.bind(a,80531)),AddNewCompanyModal:()=>a.e(3577).then(a.bind(a,3577)),Search:()=>a.e(8130).then(a.bind(a,8130)),PaginatedTable:()=>a.e(9666).then(a.bind(a,19666)),MapComponent:()=>Promise.all([a.e(1943),a.e(537)]).then(a.bind(a,48278)),GeneralButton:()=>a.e(695).then(a.bind(a,90695)),CompanyMapModal:()=>a.e(7124).then(a.bind(a,37124)),GeneralSkeleton:()=>a.e(2174).then(a.bind(a,2174)),ProductSearchDropdown:()=>a.e(8118).then(a.bind(a,98118)),GeneralRemovableItem:()=>a.e(7349).then(a.bind(a,57349)),AddDetailsLaterModal:()=>a.e(9757).then(a.bind(a,59757))},data(){return{products:[],companyGS:"",companyName:"",isLoading:!1,sortKey:"",sortOrder:"",currentPage:0,headerData:[{key:"companyName",value:"Company Name",sortable:!0},{key:"GS",value:"GS",sortable:!0,description:"General Scoring"},{key:"RS",value:"RS",sortable:!0,description:"Retail Scoring"},{key:"annualRevenue",value:"AR",sortable:!0,description:"Annual Revenue"}],fetchDebouncedData:(0,U.debounce)(this.fetchData,300)}},mounted(){this.companiesData&&this.RESET_COMPANIES_DATA(),this.$bus.$on("refetch-companies",(()=>{this.fetchDebouncedData()})),this.fetchDebouncedData()},computed:{...(0,n.aH)({companiesData:e=>e.company?.companiesData,companies:e=>e.company?.companiesData?.companies,currentPageNumber:e=>e.company?.companiesData?.currentPage||0,totalPages:e=>e.company?.companiesData?.totalPages||1,totalCount:e=>e.company?.companiesData?.totalCount||0,error:e=>e.company?.error}),getMappedData(){let e=[];return this.companies?.length>0&&(e=this.companies?.map((e=>{let{products:t,...a}=e,s={...a};return t&&(s.products=t?.map((e=>({title:e?.productId?.title,_id:e?.productId?._id})))?.filter((e=>e?.title))),s}))),e},getProductIds(){let e=[];return e=this.products?.map((e=>e?._id)),e}},methods:{...(0,n.PY)("company",["RESET_COMPANIES_DATA"]),...(0,n.i0)("company",["getCompanies"]),async fetchData(e=1,t){if(this.isLoading)return;this.currentPage=e,this.isLoading=!0,await this.$nextTick();let a={params:{page:e,filter:{companyName:this.companyName?.trim(),companyGS:this.companyGS?.trim(),products:this.getProductIds},sort:this.sortKey||void 0,order:this.sortOrder||void 0}};await this.getCompanies(a),this.currentPage=this.currentPageNumber,this.isLoading=!1,t&&t()},fetchSortedData(e){this.sortKey=e.sortKey||"",this.sortOrder=e.sortOrder||"",this.fetchDebouncedData()},openAddCompanyModal(){this.$bus.$emit("add-new-company-modal",{showModal:!0})},goToCompany(e){this.$router.push({path:`/dashboard/companies/${e._id}`})},openCompanyMapModal(){this.$bus.$emit("company-map-modal",{showModal:!0,markersData:this.companies})},openSideBar(){this.$bus.$emit("open-sidebar")},updateProducts(e){this.products=e,this.fetchDebouncedData()},removeProductFromProducts(e){this.products=this.products?.filter((t=>t?._id!==e?._id)),this.fetchDebouncedData()},searchByGS(e){this.companyGS=e,this.fetchDebouncedData()},searchByCompanyName(e){this.companyName=e,this.fetchDebouncedData()}},beforeDestroy(){this.$bus.$off("refetch-companies")}},F=j,B=(0,o.A)(F,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex h-full w-full flex-col bg-bg-neutral-default ipadPro:flex-row"},[t("div",{staticClass:"flex w-full flex-1 flex-col overflow-y-auto pt-spacing-300 ipadPro:w-1/2"},[t("div",{staticClass:"flex w-full flex-col gap-spacing-200 px-spacing-200 ipad:px-spacing-300"},[t("div",{staticClass:"flex w-full items-center gap-spacing-200"},[t("h2",{staticClass:"cursor-pointer text-overline/l/relaxed/500 text-content-on-neutral-secondary hover:text-content-on-neutral-primary ipad:text-overline/xl/relaxed/500",on:{click:function(t){return e.openSideBar()}}},[e._v(" COMPANIES ")]),t("div",{staticClass:"flex h-spacing-250 w-spacing-250 cursor-pointer items-center justify-center rounded-full bg-constant-brand-primary",on:{click:e.openAddCompanyModal}},[t("IconPlus",{staticClass:"h-spacing-200 w-spacing-200 text-constant-neutral-white"})],1),t("div",{staticClass:"fixed right-spacing-300 top-spacing-300 ipadPro:hidden",on:{click:e.openCompanyMapModal}},[t("GeneralButton",{attrs:{"button-type":"button",type:"brand",size:"small",emphasis:"secondary","icon-position":"none",label:"Show On Map"}})],1)]),t("div",{staticClass:"flex flex-col gap-spacing-150"},[e.products?.length>0?t("div",{staticClass:"flex w-full flex-wrap gap-spacing-150"},e._l(e.products,(function(a){return t("GeneralRemovableItem",{key:a?._id,attrs:{"item-name":a?.originalTitle},on:{"on-item-removed":function(t){return e.removeProductFromProducts(a)}}})})),1):e._e(),t("ProductSearchDropdown",{staticClass:"mb-spacing-50",attrs:{"dropdown-label":"Products","dropdown-id":"products",products:e.products,"is-multi-select":!0,"show-error":!1,"show-selected-list":!1},on:{"on-products-update":e.updateProducts}}),t("div",{staticClass:"flex flex-col gap-spacing-200 nexus:flex-row ipad:gap-spacing-150"},[t("Search",{attrs:{placeholder:"Search...",label:"Company","search-id":"company-name-search"},on:{search:e.searchByCompanyName}}),t("Search",{attrs:{placeholder:"Search...",label:"GS","search-id":"general-score-search"},on:{search:e.searchByGS}})],1)],1)]),t("PaginatedTable",{attrs:{headers:e.headerData,"current-page":e.currentPage,"total-pages":e.totalPages,"sort-key":e.sortKey,"sort-order":e.sortOrder,"total-count":e.totalCount,error:e.error,"is-loading":e.isLoading},on:{"fetch-data":e.fetchData,"fetch-sorted-data":e.fetchSortedData},scopedSlots:e._u([{key:"table-body",fn:function(){return[e._l(e.getMappedData,(function(a){return t("tr",{key:a.id,staticClass:"cursor-pointer text-left text-body/m/relaxed/400 text-content-on-neutral-primary nexus:text-body/l/relaxed/400",on:{click:function(t){return e.goToCompany(a)}}},[t("td",{staticClass:"flex flex-col gap-spacing-25 border-b border-stroke-medium py-spacing-100 pr-spacing-100"},[t("span",{domProps:{innerHTML:e._s(e.$highlightMatch(a?.companyName,e.companyName))}}),t("p",{staticClass:"min-h-spacing-250"},e._l(a?.products,(function(a,s){return t("span",{key:s,staticClass:"text-body/s/relaxed/400 text-content-on-neutral-tertiary nexus:text-body/m/relaxed/400"},[s>0?t("span",[e._v(" | ")]):e._e(),t("span",[e._v(e._s(a?.title))])])})),0)]),t("td",{staticClass:"border-b border-stroke-medium py-spacing-100 pr-spacing-100"},[t("p",{domProps:{innerHTML:e._s(e.$highlightMatch(String(a?.GS??0),e.companyGS))}})]),t("td",{staticClass:"border-b border-stroke-medium py-spacing-100 pr-spacing-100"},[e._v(" "+e._s(a?.RS??0)+" ")]),t("td",{staticClass:"whitespace-nowrap border-b border-stroke-medium py-spacing-100 pr-spacing-100 text-content-on-neutral-secondary"},[e._v(" "+e._s(e._f("toCurrency")(a?.annualRevenue,0))+" ")])])})),e._l(new Array(6).fill(""),(function(a,s){return t("tr",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],key:`dummy-row-${s}`,staticClass:"text-left"},e._l(new Array(4).fill(""),(function(e,a){return t("td",{key:`dummy-col-${a}`,staticClass:"gap-spacing-25 py-spacing-150 pr-spacing-100"},[t("GeneralSkeleton",{class:a<1||a>2?"h-spacing-300 w-spacing-1200":"h-spacing-300 w-spacing-400",attrs:{"is-table-cell":!0}})],1)})),0)}))]},proxy:!0}])})],1),t("div",{staticClass:"hidden h-full w-full p-spacing-300 ipadPro:block ipadPro:w-1/2"},[t("MapComponent",{attrs:{"markers-data":e.companies,"map-container-id":"company-map-on-page"}})],1),t("AddNewCompanyModal"),t("AddDetailsLaterModal"),t("CompanyMapModal")],1)}),[],!1,null,null,null),G=B.exports,H={components:{GeneralButton:()=>a.e(695).then(a.bind(a,90695)),Search:()=>a.e(8130).then(a.bind(a,8130)),PaginatedTable:()=>a.e(9666).then(a.bind(a,19666)),GeneralTag:()=>a.e(9297).then(a.bind(a,49297)),GeneralSelect:()=>a.e(5933).then(a.bind(a,95933)),AddNewMarketResearchModal:()=>a.e(5548).then(a.bind(a,35548)),GeneralSkeleton:()=>a.e(2174).then(a.bind(a,2174)),ProductSearchDropdown:()=>a.e(8118).then(a.bind(a,98118))},data(){return{headers:[{key:"group",value:"Group",sortable:!1},{key:"dateStart",value:"Date Start",sortable:!0},{key:"name",value:"Name",sortable:!0},{key:"percentage",value:"%",sortable:!0},{key:"tag",value:"Tag",sortable:!1},{key:"prodcuts",value:"Products",sortable:!1},{key:"note",value:"Note",sortable:!1}],sortKey:"dateStart",sortOrder:"desc",search:"",tagFilter:"",limit:10,tagDropDownData:[{key:"",value:"Select Tag",default:!0},{key:"IN_PROGRESS",value:"in progress"},{key:"PENDING_APPROVAL",value:"pending approval"},{key:"COMPLETED",value:"completed"},{key:"STARTING_SOON",value:"starting soon"}],products:[],fetchDebouncedMarketResearches:(0,U.debounce)(this.fetchMarketResearches,300),isLoading:!1,currentPage:0}},mounted(){this.marketResearchesData&&this.RESET_MARKET_RESEARCHES_DATA(),this.$bus.$on("refetch-market-researches",(()=>{this.fetchDebouncedMarketResearches()})),this.fetchDebouncedMarketResearches()},computed:{...(0,n.aH)({marketResearchesData:e=>e.marketResearch.marketResearchesData,marketResearches:e=>e.marketResearch.marketResearchesData?.data,currentPageNumber:e=>e.marketResearch.marketResearchesData?.pagination?.currentPage||0,totalPages:e=>e.marketResearch.marketResearchesData?.pagination?.totalPages||1,totalCount:e=>e.marketResearch.marketResearchesData?.pagination?.total||0,error:e=>e.marketResearch.error}),getProductIds(){let e=[];return e=this.products?.map((e=>e?._id)),e},getMappedData(){const e=this.marketResearches?.map((e=>({...e,tag:this.tagDropDownData.find((t=>t?.key===e?.tag))})));return e}},methods:{...(0,n.i0)("marketResearch",["getMarketResearches"]),...(0,n.PY)("marketResearch",["RESET_MARKET_RESEARCHES_DATA"]),async fetchMarketResearches(e=1,t){if(this.isLoading)return;this.currentPage=e,this.isLoading=!0,await this.$nextTick();let a={params:{page:e,limit:this.limit,sortBy:this.sortKey,order:this.sortOrder,filter:{tag:this.tagFilter,search:this.search,products:this.getProductIds}}};await this.getMarketResearches(a),this.currentPage=this.currentPageNumber,this.isLoading=!1,t&&t()},handleClickNew(){this.$bus.$emit("add-new-market-research-modal",{showModal:!0})},handleSort({sortKey:e,sortOrder:t}){this.sortKey=e,this.sortOrder=t,this.fetchDebouncedMarketResearches()},getTagType(e){let t="";return"IN_PROGRESS"===e?t="warning":"PENDING_APPROVAL"===e?t="error":"COMPLETED"===e?t="success":"STARTING_SOON"===e&&(t="brand"),t},handleSelectedTag(e){this.tagFilter=e,this.fetchDebouncedMarketResearches()},goToDetailsPage(e){this.$router.push({path:`/dashboard/market-researches/${e}`})},seachByResearchName(e){this.search=e,this.fetchDebouncedMarketResearches()},updateProducts(e){this.products=e,this.fetchDebouncedMarketResearches()}},beforeDestroy(){this.$bus.$off("refetch-market-researches")}},V=H,z=(0,o.A)(V,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex h-full w-full flex-col bg-bg-neutral-default pt-spacing-300"},[t("div",{staticClass:"flex w-full items-center gap-spacing-300 px-spacing-200 ipad:px-spacing-300"},[t("h1",{staticClass:"text-overline/l/relaxed/500 text-content-on-neutral-secondary ipad:text-overline/xl/relaxed/500"},[e._v(" MARKET RESEARCHES ")]),t("div",{staticClass:"flex items-center gap-spacing-200"},[t("GeneralButton",{attrs:{"button-type":"button",type:"brand",size:"small",emphasis:"secondary","icon-slot":!0,"icon-position":"leading","is-disabled":!1,"is-loading":!1,label:"New"},nativeOn:{click:function(t){return e.handleClickNew()}},scopedSlots:e._u([{key:"leading-icon",fn:function(){return[t("i",{staticClass:"fa-solid fa-plus relative bottom-spacing-50"})]},proxy:!0}])}),t("GeneralButton",{attrs:{"button-type":"button",type:"success",size:"small",emphasis:"secondary",label:"Refresh","icon-slot":!0,"icon-position":"leading"},nativeOn:{click:function(t){return e.fetchDebouncedMarketResearches()}},scopedSlots:e._u([{key:"leading-icon",fn:function(){return[t("i",{staticClass:"fa-solid fa-refresh relative bottom-spacing-50",class:e.isLoading?"animate-spin":""})]},proxy:!0}])})],1)]),t("div",{staticClass:"mt-spacing-200 w-full max-w-[1000px] px-spacing-200 ipad:px-spacing-300"},[t("ProductSearchDropdown",{attrs:{"dropdown-label":"Products","dropdown-id":"products",products:e.products,"is-multi-select":!0,"show-error":!1,"show-selected-list":!0},on:{"on-products-update":e.updateProducts}})],1),t("div",{staticClass:"flex w-full max-w-[1000px] flex-col items-center gap-spacing-200 px-spacing-200 pb-spacing-100 pt-spacing-250 ipad:flex-row ipad:px-spacing-300"},[t("Search",{attrs:{placeholder:"Search...",label:"Market Research","search-id":"market-research-name-search"},on:{search:e.seachByResearchName}}),t("GeneralSelect",{attrs:{label:"Tag",options:e.tagDropDownData,"selected-option-key":e.tagFilter,"show-error":!1},on:{"option-selected":e.handleSelectedTag}})],1),t("PaginatedTable",{attrs:{headers:e.headers,"current-page":e.currentPage,"total-pages":e.totalPages,"sort-key":e.sortKey,"sort-order":e.sortOrder,error:e.error,"is-loading":e.isLoading},on:{"fetch-sorted-data":e.handleSort,"fetch-data":e.fetchMarketResearches},scopedSlots:e._u([{key:"table-body",fn:function(){return[e._l(e.getMappedData,(function(a){return t("tr",{key:a._id,staticClass:"cursor-pointer text-body/m/relaxed/400 text-content-on-neutral-primary ipad:text-body/l/relaxed/400",on:{click:function(t){return e.goToDetailsPage(a?._id)}}},[t("td",{staticClass:"gap-spacing-50 py-spacing-200 pr-spacing-50 ipad:pr-spacing-100"},[t("span",{staticClass:"text-body/m/relaxed/500 text-content-on-neutral-primary ipad:text-body/l/relaxed/500"},[e._v(" "+e._s(a?.leadRepresentative?.name)),t("br")]),e._l(a?.group,(function(a){return t("span",{key:a?._id,staticClass:"text-body/m/relaxed/400 text-content-on-neutral-secondary ipad:text-body/l/relaxed/400"},[e._v(e._s(a?.name)),t("br")])}))],2),t("td",{staticClass:"py-spacing-200 pr-spacing-50 ipad:pr-spacing-100"},[e._v(" "+e._s(e._f("toDate")(a.dateStart))+" ")]),t("td",{staticClass:"py-spacing-200 pr-spacing-50 text-body/m/relaxed/500 ipad:pr-spacing-100 ipad:text-body/l/relaxed/500"},[t("p",{domProps:{innerHTML:e._s(e.$highlightMatch(a.name,e.search))}})]),t("td",{staticClass:"py-spacing-200 pr-spacing-50 ipad:pr-spacing-100"},[e._v(" "+e._s(e._f("toPercentage")(a.percentage))+" ")]),t("td",{staticClass:"py-spacing-200 pr-spacing-50 ipad:pr-spacing-100"},[t("GeneralTag",{staticClass:"whitespace-nowrap",attrs:{type:e.getTagType(a?.tag?.key),content:a?.tag?.value}})],1),t("td",{staticClass:"py-spacing-200 pr-spacing-50 text-content-on-neutral-tertiary ipad:pr-spacing-100"},e._l(a?.products,(function(a,s){return t("span",{key:s,staticClass:"text-body/m/relaxed/400 text-content-on-neutral-primary ipad:text-body/l/relaxed/400"},[e._v(e._s(s+1)+". "+e._s(a?.title)),t("br")])})),0),t("td",{staticClass:"py-spacing-200 pr-spacing-50 text-content-on-neutral-tertiary ipad:pr-spacing-100"},[e._v(" "+e._s(a.note||"-----------")+" ")])])})),e._l(new Array(6).fill(""),(function(a,s){return t("tr",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],key:`dummy-row-${s}`,staticClass:"text-left"},e._l(new Array(7).fill(""),(function(e,a){return t("td",{key:`dummy-col-${a}`,staticClass:"gap-spacing-25 py-spacing-150 pr-spacing-100"},[t("GeneralSkeleton",{class:3===a?"h-spacing-300 w-spacing-400":"h-spacing-300 w-spacing-1200",attrs:{"is-table-cell":!0}})],1)})),0)}))]},proxy:!0}])}),t("AddNewMarketResearchModal")],1)}),[],!1,null,null,null),W=z.exports,q={components:{CompanyHeader:()=>a.e(5115).then(a.bind(a,25115)),CompanyGeneralDetails:()=>Promise.all([a.e(1943),a.e(8461)]).then(a.bind(a,25978)),CompanyOriginDetails:()=>a.e(2492).then(a.bind(a,32492)),CompanyAgentDetails:()=>a.e(7767).then(a.bind(a,60148)),CompanyProducts:()=>a.e(4104).then(a.bind(a,24104)),CompanyPrices:()=>a.e(2775).then(a.bind(a,22775)),UpdateCategoryToCompanyModal:()=>a.e(1188).then(a.bind(a,11188)),ProductDetailsTableModal:()=>a.e(3335).then(a.bind(a,83335)),AddCategoryModal:()=>a.e(9495).then(a.bind(a,19495)),AddNewCompanyModal:()=>a.e(3577).then(a.bind(a,3577)),AddDetailsLaterModal:()=>a.e(9757).then(a.bind(a,59757)),CompanyMapModal:()=>a.e(7124).then(a.bind(a,37124))},data:()=>({selectedDataMissingOption:"",isLoading:!1}),mounted(){const e=this.$route?.params?.id;this.fetchCompanyDetails(e),this.$bus.$on("refetch-company-details",(()=>{this.fetchCompanyDetails(e)}))},computed:{...(0,n.aH)({companyData:e=>e.company?.companyData,error:e=>e.company?.error})},methods:{...(0,n.i0)("company",["getCompanyDetails"]),async fetchCompanyDetails(e){this.isLoading=!0,await this.getCompanyDetails({id:e}),this.error&&this.$router.push({path:"/dashboard"}),this.isLoading=!1}},beforeDestroy(){this.$bus.$off("refetch-company-details")}},K=q,Y=(0,o.A)(K,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"h-full overflow-y-auto bg-bg-neutral-default px-spacing-300"},[!e.isLoading&&e.companyData?t("CompanyHeader",{attrs:{company:e.companyData}}):e.isLoading?t("div",{staticClass:"h-[60px] w-full"}):e._e(),t("div",{staticClass:"flex w-full flex-col items-stretch gap-spacing-200 ipadPro:flex-row ipadPro:gap-spacing-600"},[t("CompanyGeneralDetails",{attrs:{company:e.companyData}}),t("div",{staticClass:"w-full border border-stroke-bold ipadPro:w-0"}),t("CompanyOriginDetails",{attrs:{company:e.companyData}}),t("div",{staticClass:"w-full border border-stroke-bold ipadPro:w-0"}),t("CompanyAgentDetails",{attrs:{company:e.companyData}})],1),t("div",[t("div",{staticClass:"mt-spacing-100"},[t("CompanyProducts",{attrs:{company:e.companyData}})],1),t("div",{staticClass:"mt-spacing-400"},[e.companyData?t("CompanyPrices",{attrs:{prices:e.companyData?.prices,"company-id":e.companyData?._id}}):e._e()],1)]),t("UpdateCategoryToCompanyModal"),t("ProductDetailsTableModal"),t("AddCategoryModal"),t("AddNewCompanyModal"),t("AddDetailsLaterModal"),t("CompanyMapModal")],1)}),[],!1,null,null,null),Q=Y.exports,Z={components:{CalendarComponent:()=>a.e(6262).then(a.bind(a,46262))},data:()=>({events:[]}),mounted(){this.fetchEvents()},methods:{async fetchEvents(){const e=await m.A.get("/calendar/events");console.log(e.data),this.events=e?.data?.events}}},J=Z,X=(0,o.A)(J,(function(){var e=this._self._c;return e("div",{staticClass:"h-full overflow-y-auto bg-bg-neutral-default p-spacing-200"},[e("CalendarComponent",{attrs:{events:this.events}})],1)}),[],!1,null,null,null),ee=X.exports,te={components:{FormInput:()=>a.e(6342).then(a.bind(a,96342)),GeneralForm:()=>a.e(6277).then(a.bind(a,76277)),CompanySearchDropdown:()=>a.e(2750).then(a.bind(a,32750)),ProductSearchDropdown:()=>a.e(8118).then(a.bind(a,98118)),GeneralSelect:()=>a.e(5933).then(a.bind(a,95933))},data:()=>({formData:{company:null,product:null,variable:null,price:"",date:(0,h.wZ)(0)},productVariables:null,isFormSubmitting:!1}),computed:{isValid(){let e=!1;return this.formData?.company?._id&&this.formData?.date&&this.formData?.price&&this.formData?.product?._id&&(e=!0),e},variableOptions(){let e=[];return this.productVariableOptions&&Object.keys(this.productVariableOptions)?.length>0&&(e=this.productVariableOptions[this.formData?.product?._id]||[]),e},productVariableOptions(){return this.productVariables&&Object.keys(this.productVariables).length?Object.entries(this.productVariables)?.reduce(((e,[t,a])=>(e[t]=[...a?.filter((e=>!this.productPrices?.some((t=>t.variableId===e?._id))))?.map((e=>({key:e?._id,value:`${e.name} [${e.coefficient}]`}))),{key:"",value:"default [1]",default:!0}],e)),{}):{}}},methods:{...(0,n.i0)("category",["getProductVariables"]),...(0,n.i0)("company",["addQuickPrice"]),async handleSubmit(){this.isFormSubmitting=!0;let e={company:this.formData?.company?._id,product:this.formData?.product?._id,variable:this.formData?.variable?.id,price:this.formData?.price,date:this.formData?.date};const t=await this.addQuickPrice(e);t?.success?(this.formData={company:null,product:null,variable:null,price:"",date:(0,h.wZ)(0)},this.$toast.success(t?.message)):this.$toast.error(t?.message),this.isFormSubmitting=!1},updateCompany(e){this.formData.company=e,this.formData.product=null},async updateProduct(e){this.formData.product=e;const t=await this.getProductVariables({params:{productIds:[e?._id]}});t?.success&&(this.productVariables=t?.data)},handleVariableSelect(e){this.formData.variable={id:e?.key,name:e?.value}}}},ae=te,se=(0,o.A)(ae,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"m-auto h-full w-full max-w-[800px] bg-bg-neutral-default"},[t("GeneralForm",{staticClass:"flex-1",attrs:{heading:"Quick Price","sub-heading":"Add quick price for a product",showCloseButton:!1,"submit-button-label":"Add","submit-button-type":"success","submit-button-disabled":!e.isValid,"is-form-submitting":e.isFormSubmitting},on:{"form-submitted":e.handleSubmit},scopedSlots:e._u([{key:"form-body",fn:function(){return[t("div",{staticClass:"mt-spacing-300 flex w-full flex-col gap-spacing-200"},[t("CompanySearchDropdown",{attrs:{"dropdown-label":"Company","dropdown-id":"company","selected-company":e.formData.company},on:{"on-company-update":e.updateCompany}}),t("ProductSearchDropdown",{attrs:{"dropdown-label":"Product","dropdown-id":"product","selected-product":e.formData.product,"company-id":e.formData.company?._id,"show-select-button":!1},on:{"on-product-update":e.updateProduct}}),t("GeneralSelect",{attrs:{label:"Variable",options:e.variableOptions},on:{"option-selected-full":e.handleVariableSelect}}),t("div",{staticClass:"flex w-full flex-col gap-spacing-200 ipad:flex-row ipad:items-center"},[t("FormInput",{attrs:{label:"Price","input-type":"number",inputId:"price"},model:{value:e.formData.price,callback:function(t){e.$set(e.formData,"price",t)},expression:"formData.price"}}),t("FormInput",{attrs:{label:"Date Add","input-type":"date"},model:{value:e.formData.date,callback:function(t){e.$set(e.formData,"date",t)},expression:"formData.date"}})],1)],1)]},proxy:!0}])})],1)}),[],!1,null,null,null),ne=se.exports,re={components:{AuthWrapper:()=>a.e(4932).then(a.bind(a,4932)),FormInput:()=>a.e(6342).then(a.bind(a,96342)),IconInfo:()=>a.e(9794).then(a.bind(a,29794)),GeneralButton:()=>a.e(695).then(a.bind(a,90695))},data:()=>({email:"",password:"",loading:!1,fieldValidations:{email:new C.s({type:"EMAIL",required:!0})}}),methods:{...(0,n.i0)({forgotPassword:"auth/forgotPassword"}),async sendOTP(){let e=this.email;if(!this.$validateForm())return;this.loading=!0;const t=await this.forgotPassword(this.email);t?.success?(this.$toast.success(t?.message),this.$router.replace({name:"ResetPassword",params:{email:e}})):this.$toast.error(t?.message),this.loading=!1}}},ie=re,oe=(0,o.A)(ie,(function(){var e=this,t=e._self._c;return t("AuthWrapper",{staticClass:"min-h-screen",attrs:{title:"Forgot Password"}},[t("form",{staticClass:"flex flex-1 flex-col overflow-y-auto px-spacing-300",on:{submit:function(t){return t.preventDefault(),e.sendOTP.apply(null,arguments)}}},[t("div",{staticClass:"flex flex-1 flex-col gap-spacing-200 py-spacing-100"},[t("FormInput",{ref:"forgot-password-mail",attrs:{autofocus:!0,"input-type":"email",label:"Email","input-id":"email",autocomplete:"on","field-validations":e.fieldValidations?.email},on:{"enter-pressed":e.sendOTP},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),t("div",{staticClass:"text-content-on-status-on-info bg-bg-status-info border-stroke-info flex items-start gap-spacing-100 rounded-08 border px-spacing-100 py-spacing-50 text-body/m/relaxed/400"},[t("div",[t("IconInfo",{staticClass:"relative top-spacing-25 h-spacing-200 w-spacing-200 text-current"})],1),t("p",[e._v(" Enter your registered email address, and well send a OTP to help you reset your password. ")])])],1),t("div",{staticClass:"sticky bottom-0 bg-bg-neutral-default pt-spacing-200"},[t("GeneralButton",{attrs:{"button-type":"button",type:"brand",size:"large",emphasis:"primary","icon-position":"none",icon:"",image:"","is-disabled":!1,"is-loading":e.loading,label:"Send OTP"},nativeOn:{click:function(t){return e.sendOTP.apply(null,arguments)}}}),t("div",{staticClass:"mt-spacing-150 flex w-full justify-center"},[t("RouterLink",{staticClass:"text-center text-body/l/relaxed/400 text-constant-brand-primary",attrs:{to:"/login"}},[e._v(" Go to Login Page ")])],1)],1)])])}),[],!1,null,null,null),le=oe.exports,ce={components:{AuthWrapper:()=>a.e(4932).then(a.bind(a,4932)),FormInput:()=>a.e(6342).then(a.bind(a,96342)),IconCheck:()=>a.e(9496).then(a.bind(a,69496)),GeneralButton:()=>a.e(695).then(a.bind(a,90695))},props:{email:{type:String,default:""}},data:()=>({otp:"",newPassword:"",confirmPassword:"",fieldValidations:{otp:new C.s({minLength:6,maxLength:6,required:!0}),newPassword:new C.s({type:"PASSWORD",required:!0}),confirmPassword:new C.s({type:"PASSWORD",required:!0})},canResendOTP:!1,timeLeft:60,resendInterval:null,loading:!1}),mounted(){this.email?this.startTimer():this.$router.push("/login")},methods:{...(0,n.i0)({resetPassword:"auth/resetPassword",forgotPassword:"auth/forgotPassword"}),async resetPasswordFn(){if(!this.$validateForm())return;if(this.newPassword!==this.confirmPassword)return void this.$toast.error("Passwords do not match!");this.loading=!0;const e=await this.resetPassword({otp:this.otp,email:this.email,newPassword:this.newPassword});e?.success?(this.$toast.success(e?.message),clearInterval(this.resendInterval),this.$router.push("/login")):this.$toast.error(e?.message),this.loading=!1},async handleOTPResend(){this.$bus.$emit("showLoader",{showLoader:!0});const e=await this.forgotPassword(this.email);e?.success?(this.startTimer(),this.$toast.success(e?.message)):this.$toast.error(e?.message),this.$bus.$emit("showLoader",!1)},startTimer(){this.timeLeft=10,this.canResendOTP=!1,this.resendInterval=setInterval((()=>{this.timeLeft--,0===this.timeLeft&&this.clearTimer()}),1e3)},clearTimer(){clearInterval(this.resendInterval),this.canResendOTP=!0}},beforeDestroy(){clearInterval(this.resendInterval),this.resendInterval=null}},de=ce,ue=(0,o.A)(de,(function(){var e=this,t=e._self._c;return t("AuthWrapper",{staticClass:"min-h-screen",attrs:{title:"Reset Password"}},[t("form",{staticClass:"flex flex-1 flex-col overflow-y-auto px-spacing-300",on:{submit:function(t){return t.preventDefault(),e.resetPasswordFn.apply(null,arguments)}}},[t("div",{staticClass:"flex flex-1 flex-col gap-spacing-200 py-spacing-100"},[t("div",{staticClass:"mb-spacing-100 flex items-start gap-spacing-100 rounded-08 border border-stroke-success bg-bg-status-success px-spacing-100 py-spacing-100 text-body/m/relaxed/400 text-content-on-status-on-success"},[t("div",[t("IconCheck",{staticClass:"relative top-spacing-25 h-spacing-200 w-spacing-200 text-current"})],1),t("p",[e._v(" An OTP has been sent to "),t("span",{staticClass:"text-body/m/relaxed/500"},[e._v(e._s(e.email))]),e._v(". Please check your inbox (and spam folder) and enter the OTP. ")])]),t("FormInput",{ref:"password-reset-otp",attrs:{autofocus:!0,"input-type":"number",label:"OTP","input-id":"otp","field-validations":e.fieldValidations?.otp,"min-length":6,"max-length":6},on:{"enter-pressed":function(t){return e.$focusNextElement("new-password")}},model:{value:e.otp,callback:function(t){e.otp=t},expression:"otp"}}),t("FormInput",{ref:"password-reset-new-password",attrs:{"input-type":"password",label:"New Password","input-id":"new-password","field-validations":e.fieldValidations?.newPassword},on:{"enter-pressed":function(t){return e.$focusNextElement("confirm-password")}},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),t("FormInput",{ref:"password-reset-confirm-password",attrs:{"input-type":"password",label:"Confirm Password","input-id":"confirm-password","field-validations":e.fieldValidations?.confirmPassword},on:{"enter-pressed":e.resetPasswordFn},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1),t("div",{staticClass:"sticky bottom-0 bg-bg-neutral-default pt-spacing-200"},[t("GeneralButton",{attrs:{"button-type":"button",type:"brand",size:"large",emphasis:"primary","icon-position":"none",icon:"",image:"","is-disabled":!1,"is-loading":e.loading,label:"Submit"},nativeOn:{click:function(t){return e.resetPasswordFn.apply(null,arguments)}}}),t("div",{staticClass:"mt-spacing-150 w-full"},[e.canResendOTP?t("p",{staticClass:"text-center text-body/l/relaxed/400 text-content-on-neutral-secondary"},[e._v(" Didn't Recieve OTP? "),t("button",{staticClass:"bg-transparent",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.handleOTPResend.apply(null,arguments)}}},[t("span",{staticClass:"text-body/l/relaxed/500 hover:text-hover-constant-brand-primary"},[e._v("Resend")])])]):t("p",{staticClass:"text-center text-body/l/relaxed/400 text-content-on-neutral-secondary"},[e._v(" Resend OTP in "+e._s(e.timeLeft)+" seconds. ")])])],1)])])}),[],!1,null,null,null),pe=ue.exports,me={components:{GeneralButton:()=>a.e(695).then(a.bind(a,90695)),IconCheck:()=>a.e(9496).then(a.bind(a,69496)),ChangeEventDateModal:()=>a.e(4976).then(a.bind(a,14976)),IconCalendar:()=>a.e(8099).then(a.bind(a,8099))},data:()=>({overdueEvents:[],todayEvents:[],tabs:[{label:"Today",isActive:!0},{label:"Overdue",isActive:!1}]}),computed:{groupedEvents(){let e=this.todayEvents;return this.tabs[1]?.isActive&&(e=this.overdueEvents),e.reduce(((e,t)=>(e[t?.type]||(e[t?.type]=[]),e[t?.type].push(t),e)),{})}},mounted(){this.$bus.$on("refetch-today-events",(()=>{this.fetchTodayEvents()})),this.fetchTodayEvents()},methods:{selectTab(e){this.tabs.forEach(((t,a)=>{t.isActive=a===e}))},async fetchTodayEvents(){this.$bus.$emit("showLoader",{showLoader:!0});const e=await m.A.get("/calendar/events/today-and-overdue");this.$bus.$emit("showLoader",!1),this.overdueEvents=e?.data?.overdueEvents,this.todayEvents=e?.data?.todayEvents},changeEventDate(e){this.$bus.$emit("change-event-date-modal",{showModal:!0,event:e})},go(e){"QUOTATION_FOLLOW_UP_EVENT"===e.type?this.$router.push({path:`/dashboard/market-researches/${e?.marketResearchId?._id}`,query:{companyId:e?.companyId?._id}}):"COMPANY_DETAILS_MISSING"===e.type&&this.$router.push({path:`/dashboard/companies/${e?.companyId?._id}`,query:{edit:!0}})}},beforeDestroy(){this.$bus.$off("refetch-today-events")}},he=me,ge=(0,o.A)(he,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex h-full w-full flex-col bg-bg-neutral-default"},[t("div",{staticClass:"flex w-full justify-center bg-bg-neutral-default py-spacing-300"},[t("div",{staticClass:"mx-spacing-200 flex w-full max-w-[800px] items-center rounded-08 border-4 border-bg-neutral-sunken bg-bg-neutral-sunken px-spacing-0 py-spacing-0 text-body/l/relaxed/400 shadow-inner dark:border-bg-neutral-sunken"},e._l(e.tabs,(function(a,s){return t("div",{key:s,class:["flex-1 whitespace-nowrap rounded-06 px-spacing-150 py-spacing-100 text-center",a.isActive?"bg-bg-neutral-default text-content-on-neutral-primary dark:bg-bg-neutral-raised":"cursor-pointer text-content-on-neutral-tertiary"],on:{click:function(t){return e.selectTab(s)}}},[e._v(" "+e._s(a.label)+" ")])})),0)]),Object.keys(e.groupedEvents)?.length>0?t("div",{staticClass:"pb-spacing-300"},e._l(e.groupedEvents,(function(a,s,n){return t("div",{key:s,staticClass:"flex w-full flex-col gap-spacing-50 px-spacing-200 ipad:px-spacing-300",class:n>0?"mt-spacing-400":""},[t("div",{staticClass:"sticky top-spacing-0 z-10 flex items-center gap-spacing-200 bg-bg-neutral-default py-spacing-300"},["QUOTATION_FOLLOW_UP_EVENT"===s?t("span",{staticClass:"text-body/l/relaxed/400 text-content-on-neutral-primary"},[e._v("Research Follow Ups")]):"COMPANY_DETAILS_MISSING"===s?t("span",{staticClass:"text-body/l/relaxed/400 text-content-on-neutral-primary"},[e._v("Missing Company Details")]):e._e(),t("span",{staticClass:"flex-1 border-b border-constant-brand-primary"})]),t("div",{staticClass:"flex flex-col gap-spacing-100"},e._l(a,(function(a){return t("div",{key:a?._id,staticClass:"flex w-full items-center justify-between gap-spacing-200 rounded-08 bg-bg-neutral-raised px-spacing-200 py-spacing-150"},[t("p",{staticClass:"flex flex-col gap-spacing-50 text-content-on-neutral-primary"},[e.tabs[1]?.isActive?t("span",{staticClass:"text-content-on-status-on-info bg-bg-status-info border-stroke-info mb-spacing-50 self-start rounded-08 border px-spacing-100 py-spacing-50 text-body/s/relaxed/400"},[e._v(e._s(e._f("toDate")(a?.eventDate,"DD MMM YYYY")))]):e._e(),"COMPANY_DETAILS_MISSING"===a.type?t("span",{staticClass:"text-body/m/relaxed/400"},[e._v(" Add Missing Company Details ")]):t("span",{staticClass:"text-body/m/relaxed/400"},[e._v(e._s(a?.marketResearchId?.name))]),t("span",{staticClass:"text-body/s/relaxed/400 text-content-on-neutral-secondary"},[e._v(e._s(a?.companyId?.companyName))])]),"COMPLETED"===a.status?t("div",{staticClass:"mr-spacing-200 flex h-spacing-300 w-spacing-300 items-center justify-center rounded-full bg-constant-status-success"},[t("IconCheck",{staticClass:"h-spacing-250 w-spacing-250 text-constant-neutral-white"})],1):t("div",{staticClass:"flex items-center gap-spacing-150"},["COMPANY_DETAILS_MISSING"===a.type?t("GeneralButton",{attrs:{"button-type":"button",type:"success",size:"small",emphasis:"secondary","icon-position":"none",label:"Change Date"},nativeOn:{click:function(t){return e.changeEventDate(a)}}}):e._e(),t("GeneralButton",{attrs:{"button-type":"button",type:"brand",size:"small",emphasis:"secondary","icon-position":"none",label:"QUOTATION_FOLLOW_UP_EVENT"===s?"Start":"Add"},nativeOn:{click:function(t){return e.go(a)}}})],1)])})),0)])})),0):t("div",{staticClass:"flex h-full items-center justify-center"},[t("div",{staticClass:"flex flex-col items-center gap-spacing-200"},[t("IconCalendar",{staticClass:"h-spacing-600 w-spacing-600 text-content-on-neutral-tertiary"}),e.tabs[0].isActive?t("p",{staticClass:"text-headline/s/relaxed/500 text-content-on-neutral-tertiary"},[e._v(" No events for today! ")]):e.tabs[1].isActive?t("p",{staticClass:"text-headline/s/relaxed/500 text-content-on-neutral-tertiary"},[e._v(" No overdue events! ")]):e._e()],1)]),t("ChangeEventDateModal")],1)}),[],!1,null,null,null),fe=ge.exports,be={components:{ClassicTable:()=>a.e(440).then(a.bind(a,30440)),ResearchStatusModal:()=>a.e(5373).then(a.bind(a,85373)),GeneralButton:()=>a.e(695).then(a.bind(a,90695)),MoreFollowUpsModal:()=>a.e(5337).then(a.bind(a,45337)),Search:()=>a.e(8130).then(a.bind(a,8130)),AddNewMarketResearchModal:()=>a.e(5548).then(a.bind(a,35548)),AddNewCompanyModal:()=>a.e(3577).then(a.bind(a,3577)),FollowUpFullView:()=>a.e(9360).then(a.bind(a,39360)),FollowUpFullViewModal:()=>a.e(1870).then(a.bind(a,41870)),AddDetailsLaterModal:()=>a.e(9757).then(a.bind(a,59757)),GuidelinesAndEmailTemplateModal:()=>Promise.all([a.e(8031),a.e(3860)]).then(a.bind(a,3860))},data:()=>({bestPriceHeaders:[{key:"productName",value:"Product Name",sortable:!1},{key:"companyName",value:"Company Name",sortable:!1},{key:"price",value:"Price",sortable:!1},{key:"unit",value:"Unit",sortable:!1}],tabs:[{name:"Compact View",id:"compact"},{name:"Full View",id:"full"}],compactViewHeaders:[{key:"status",value:"Status",sortable:!1},{key:"followUpDate",value:"Follow Up Date",sortable:!1},{key:"lastUpdate",value:"Last Update",sortable:!1},{key:"companyName",value:"Company Name",sortable:!1},{key:"action",value:"Action",sortable:!1}],selectedTab:{name:"COMPACT VIEW",id:"compact"},userScoringHeader:[{key:"User",value:"User",sortable:!1},{key:"Score",value:"Score",sortable:!1}],isLoading:!1,sortByFollowUpDate:!1,searchQuery:"",deleteHandler:null,refetchHandler:null}),mounted(){this.deleteHandler=async({id:e})=>{if(this.marketResearchData?._id===e){let t={id:e};const a=await this.deleteMarketResearch(t);a?.success?(this.$toast.success(a?.message),this.$router.push("/dashboard/market-researches")):this.$toast.error(a?.message)}},this.refetchHandler=()=>{const e=this.$route?.params?.id;this.fetchMarketResearchDetails(e)},this.$bus.$on("delete-market-research",this.deleteHandler),this.$bus.$on("refetch-market-research-details",this.refetchHandler);const e=this.$route?.params?.id;this.fetchMarketResearchDetails(e)},computed:{...(0,n.aH)({marketResearchData:e=>e.marketResearch?.marketResearchData}),sortedAndFilteredProductSellingCompanies(){let e=[];return this.marketResearchData?.productSellingCompanies?.data?.length>0&&(e=[...this.marketResearchData.productSellingCompanies.data],this.searchQuery&&(e=e.filter((e=>e?.companyName?.toLowerCase()?.includes(this.searchQuery?.trim()?.toLowerCase())))),this.sortByFollowUpDate&&(e=e?.sort(((e,t)=>{const a=e?.followUpHistory?.nextFollowUpDate?new Date(e.followUpHistory.nextFollowUpDate):null,s=t?.followUpHistory?.nextFollowUpDate?new Date(t.followUpHistory.nextFollowUpDate):null;return a||s?a?s?a-s:-1:1:0})))),e},isFullView(){return"full"===this.selectedTab.id},bestPrices(){let e=[];return this.marketResearchData?.productSellingCompanies?.minPricesArray&&(e=this.marketResearchData?.productSellingCompanies?.minPricesArray),e},scoring(){let e=this.marketResearchData?.group?.map((e=>({name:e.name,points:20})));return e}},methods:{...(0,n.i0)("marketResearch",["getMarketResearchDetails","deleteMarketResearch"]),async handleDelete(){this.$bus.$emit("remove-confirmation-modal",{showModal:!0,confirmationText:`This market research (${this.marketResearchData?.name}) and all of its product prices and quotations will be deleted pemanently.`,confirmEvent:"delete-market-research",id:this.marketResearchData?._id})},addNewCompany(){this.$bus.$emit("add-new-company-modal",{showModal:!0,formData:{products:this.marketResearchData?.products?.map((e=>({originalTitle:e?.title,_id:e?._id})))},default:!0,refreshFlowEvent:"refetch-market-research-details"})},viewGuidelinesAndEmailTemplate(){this.$bus.$emit("guidelines-and-email-template-modal",{showModal:!0,marketResearchData:this.marketResearchData})},viewAttachedFiles(){this.$bus.$emit("guidelines-and-email-template-modal",{showModal:!0,marketResearchData:this.marketResearchData,type:"ATTACHED_FILES"})},handleEdit(){this.$bus.$emit("add-new-market-research-modal",{showModal:!0,marketResearchData:this.marketResearchData,update:!0})},handleSort(){this.sortByFollowUpDate=!this.sortByFollowUpDate},async fetchMarketResearchDetails(e){this.isLoading=!0,this.$bus.$emit("showLoader",{showLoader:!0}),await this.getMarketResearchDetails({id:e});const t=this.$route?.query?.companyId,a=this.$route?.query?.productId;this.$bus.$emit("showLoader",!1),this.isLoading=!1,t&&(this.selectedTab={name:"Full View",id:"full"},this.$nextTick((()=>{requestAnimationFrame((()=>{a?this.scrollToElement(`company-${t}-product-${a}`):this.scrollToElement(`company-${t}`)}))})))},async scrollToElement(e){this.$nextTick((()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{let t=document.getElementById(e);t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.classList.add("highlight"))}))}))}))},openStatusUpdateModal(e){this.$bus.$emit("research-status-modal",{showModal:!0,companyData:e,marketResearchId:this.marketResearchData?._id,marketResearchSettings:{...this.marketResearchData?.settings,dateStart:this.marketResearchData?.dateStart},statusOptions:this.marketResearchData?.statusOptions})},startFollowUp(e){this.openStatusUpdateModal(e)},search(e){this.searchQuery=e},showFullViewForFollowUp(e){this.$bus.$emit("follow-up-full-view-modal",{showModal:!0,companyData:e,marketResearchData:this.marketResearchData})},goToCompanyDetailsPage(e){this.$router.push(`/dashboard/companies/${e}`)}},beforeDestroy(){this.$bus.$off("refetch-market-research-details",this.refetchHandler),this.$bus.$off("delete-market-research",this.deleteHandler)}},ye=be,xe=(0,o.A)(ye,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"h-full"},[t("div",{staticClass:"flex h-full min-h-full flex-col overflow-y-auto"},[t("div",{staticClass:"flex-1"},[t("div",{staticClass:"px-spacing-200 pt-spacing-300 ipad:px-spacing-300"},[t("div",{staticClass:"flex flex-col items-start justify-between gap-spacing-200 ipadPro:flex-row"},[t("div",{staticClass:"w-full ipadPro:w-auto"},[t("div",{staticClass:"mb-spacing-150 flex flex-col gap-spacing-150 ipadPro:flex-row ipadPro:items-center"},[t("h2",{staticClass:"text-headline/s/relaxed/500 text-constant-brand-primary ipad:text-headline/m/relaxed/500"},[e._v(" "+e._s(e.marketResearchData?.name)+" ")]),t("div",{staticClass:"flex items-center gap-spacing-150"},[e.marketResearchData?.name?t("div",{on:{click:function(t){return e.handleEdit()}}},[t("GeneralButton",{attrs:{"button-type":"button",type:"brand-secondary",size:"small",emphasis:"secondary","icon-position":"none",icon:"",image:"","is-disabled":!1,"is-loading":!1,label:"Edit Details"}})],1):e._e(),e.marketResearchData?.name?t("div",{on:{click:function(t){return e.viewGuidelinesAndEmailTemplate()}}},[t("GeneralButton",{attrs:{"button-type":"button",type:"brand",size:"small",emphasis:"secondary","icon-position":"none",icon:"",image:"","is-disabled":!e.marketResearchData?.guidelines&&!e.marketResearchData?.emailTemplate,"is-loading":!1,label:"Guidelines & Email Template"}})],1):e._e(),e.marketResearchData?.name?t("div",{on:{click:function(t){return e.viewAttachedFiles()}}},[t("GeneralButton",{attrs:{"button-type":"button",type:"success",size:"small",emphasis:"secondary","icon-position":"none",icon:"",image:"","is-disabled":e.marketResearchData?.relatedFiles?.length<1,"is-loading":!1,label:"Attached Files"}})],1):e._e()])]),t("h3",{staticClass:"border-b border-stroke-bold pb-spacing-50 text-overline/l/relaxed/500 text-content-on-neutral-primary"},[e._v(" BEST PRICES ")]),t("ClassicTable",{staticClass:"mt-spacing-100 text-body/l/relaxed/400 text-content-on-neutral-primary",attrs:{headers:e.bestPriceHeaders,"horizontal-padding":"px-spacing-0",bgClass:"bg-transparent"},scopedSlots:e._u([{key:"table-body",fn:function(){return e._l(e.bestPrices,(function(a,s){return t("tr",{key:s,staticClass:"border-b border-stroke-medium"},[t("td",{staticClass:"py-spacing-50 pr-spacing-150"},[t("p",[e._v(e._s(a?.productName))]),t("span",{staticClass:"text-body/m/relaxed/400 italic text-content-on-neutral-secondary"},a?.variable?[e._v(" ["+e._s(a?.variable?.name)+", "+e._s(a?.variable?.coefficient)+"]")]:[e._v(" [default, 1]")])]),a?.companyName?t("td",{staticClass:"py-spacing-50 pr-spacing-150"},[e._v(" "+e._s(a?.companyName)+" ")]):t("td",{staticClass:"py-spacing-50 pr-spacing-150 text-content-on-neutral-tertiary"},[e._v(" Not Available ")]),isNaN(parseInt(a?.price))?t("td",{staticClass:"py-spacing-50 pr-spacing-150 text-content-on-neutral-tertiary"},[e._v(" Not Available ")]):t("td",{staticClass:"py-spacing-50 pr-spacing-150"},[e._v(" "+e._s(e._f("toCurrency")(a?.price))+" ")]),isNaN(parseInt(a?.price))?t("td",{staticClass:"py-spacing-50 pr-spacing-150 text-content-on-neutral-tertiary"},[e._v(" Not Available ")]):t("td",{staticClass:"py-spacing-50 pr-spacing-150 text-content-on-neutral-secondary"},[e._v(" "+e._s(a?.productUnit||"UNIT")+" ")])])}))},proxy:!0}])})],1),t("div",{staticClass:"w-full text-content-on-neutral-primary ipadPro:w-auto"},[t("h3",{staticClass:"border-b border-stroke-bold pb-spacing-50 text-overline/l/relaxed/500 text-content-on-neutral-primary"},[e._v(" SCORING ")]),t("div",{staticClass:"hidden gap-spacing-200 nexus:flex"},[t("ClassicTable",{staticClass:"mt-spacing-100",attrs:{headers:e.userScoringHeader,"horizontal-padding":"px-spacing-0",bgClass:"bg-transparent"},scopedSlots:e._u([{key:"table-body",fn:function(){return e._l(e.scoring?.slice(0,e.scoring?.length/2+1),(function(a,s){return t("tr",{key:s,staticClass:"text-body/l/relaxed/400 text-content-on-neutral-primary"},[t("td",{staticClass:"pr-spacing-100"},[e._v(e._s(a.name))]),t("td",{staticClass:"text-body/l/relaxed/500"},[e._v(" "+e._s(e._f("toPercentage")(a.points,!0))+" ")])])}))},proxy:!0}])}),t("ClassicTable",{staticClass:"mt-spacing-100",attrs:{headers:e.userScoringHeader,"horizontal-padding":"px-spacing-0",bgClass:"bg-transparent"},scopedSlots:e._u([{key:"table-body",fn:function(){return e._l(e.scoring?.slice(e.scoring?.length/2+1),(function(a,s){return t("tr",{key:s,staticClass:"text-body/l/relaxed/400 text-content-on-neutral-primary"},[t("td",{staticClass:"pr-spacing-100"},[e._v(e._s(a.name))]),t("td",{staticClass:"text-body/l/relaxed/500"},[e._v(" "+e._s(e._f("toPercentage")(a.points,!0))+" ")])])}))},proxy:!0}])})],1),t("div",{staticClass:"nexus:hidden"},[t("ClassicTable",{staticClass:"mt-spacing-100",attrs:{headers:e.userScoringHeader,"horizontal-padding":"px-spacing-0",bgClass:"bg-transparent"},scopedSlots:e._u([{key:"table-body",fn:function(){return e._l(e.scoring,(function(a,s){return t("tr",{key:s,staticClass:"text-body/l/relaxed/400 text-content-on-neutral-primary"},[t("td",{staticClass:"pr-spacing-100"},[e._v(e._s(a.name))]),t("td",{staticClass:"text-body/l/relaxed/500"},[e._v(" "+e._s(e._f("toPercentage")(a.points,!0))+" ")])])}))},proxy:!0}])})],1)])])]),t("div",{staticClass:"top-spacing-0 z-1 mt-spacing-100 flex flex-col gap-spacing-200 bg-bg-neutral-default px-spacing-200 py-spacing-200 ipad:sticky ipad:px-spacing-300 ipadPro:flex-row ipadPro:items-center"},[t("div",{staticClass:"flex-1"},[t("Search",{attrs:{placeholder:"Search...",label:"Company Name","search-id":"company-name-search"},on:{search:e.search}})],1),t("div",{staticClass:"flex flex-1 flex-col gap-spacing-200 nexus:flex-row nexus:items-center ipadPro:flex-none"},[t("div",{staticClass:"flex flex-1 cursor-pointer flex-nowrap items-center overflow-hidden rounded-08 bg-bg-neutral-raised px-spacing-200 py-spacing-150 ipadPro:flex-none",class:e.sortByFollowUpDate?"bg-bg-status-warning":"bg-bg-neutral-raised",on:{click:function(t){return e.handleSort()}}},[t("p",{staticClass:"w-full whitespace-nowrap text-center text-body/m/relaxed/400",class:e.sortByFollowUpDate?"text-content-on-status-on-warning":"text-content-on-neutral-secondary"},[e._v(" Sort By: Follow up date ")])]),t("div",{staticClass:"flex flex-1 items-center overflow-hidden rounded-08 bg-bg-neutral-raised"},e._l(e.tabs,(function(a,s){return t("div",{key:s,staticClass:"w-1/2 min-w-spacing-1600 px-spacing-200 py-spacing-150",class:e.selectedTab?.id===a?.id?"bg-bg-brand-secondary":"cursor-pointer",attrs:{tabindex:"0"},on:{click:function(t){e.selectedTab?.id===a?.id||(e.selectedTab=a)}}},[t("p",{staticClass:"whitespace-nowrap text-center text-body/m/relaxed/400",class:e.selectedTab?.id===a?.id?"text-content-on-brand-secondary":"text-content-on-neutral-secondary"},[e._v(" "+e._s(a?.name)+" ")])])})),0)])]),e.isFullView?t("div",e._l(e.sortedAndFilteredProductSellingCompanies,(function(a,s){return t("FollowUpFullView",{key:s,attrs:{"market-research-data":e.marketResearchData,"company-data":a,"search-query":e.searchQuery}})})),1):t("div",[t("ClassicTable",{attrs:{headers:e.compactViewHeaders,bgClass:"bg-transparent"},scopedSlots:e._u([{key:"table-body",fn:function(){return e._l(e.sortedAndFilteredProductSellingCompanies,(function(a,s){return t("tr",{key:s,staticClass:"cursor-pointer border-b border-stroke-medium text-left text-body/m/relaxed/400 text-content-on-neutral-primary nexus:text-body/l/relaxed/400",on:{click:function(t){return e.showFullViewForFollowUp(a)}}},[a?.followUpHistory?.status?t("td",{staticClass:"py-spacing-100 pr-spacing-100"},[e._v(" "+e._s(a?.followUpHistory?.status)+" ")]):t("td",{staticClass:"py-spacing-100 pr-spacing-100 text-content-on-neutral-tertiary"},[e._v(" Not Available ")]),a?.followUpHistory?.nextFollowUpDate?t("td",{staticClass:"py-spacing-100 pr-spacing-100"},[e._v(" "+e._s(e._f("toDate")(a?.followUpHistory?.nextFollowUpDate))+" ")]):t("td",{staticClass:"py-spacing-100 pr-spacing-100 text-content-on-neutral-tertiary"},[e._v(" Not Available ")]),a?.followUpHistory?.recentFollowUps?.length>0?t("td",{staticClass:"py-spacing-100 pr-spacing-100"},[e._v(" "+e._s(e._f("toDate")(a?.followUpHistory?.recentFollowUps[0]?.date))+" | "+e._s(a?.followUpHistory?.recentFollowUps[0]?.note||"------------")+" ")]):t("td",{staticClass:"py-spacing-100 pr-spacing-100 text-content-on-neutral-tertiary"},[e._v(" Not Available ")]),t("td",{staticClass:"py-spacing-100 pr-spacing-100"},[t("p",{staticClass:"cursor-pointer hover:text-hover-constant-brand-primary",domProps:{innerHTML:e._s(e.$highlightMatch(a?.companyName,e.searchQuery))},on:{click:function(t){return t.stopPropagation(),e.goToCompanyDetailsPage(a?.companyId)}}})]),t("td",{staticClass:"py-spacing-100 pr-spacing-100"},[t("div",{on:{click:function(t){return t.stopPropagation(),e.startFollowUp(a)}}},[t("GeneralButton",{attrs:{"button-type":"button",type:0===a?.followUpHistory?.recentFollowUps?.length?"brand":"success",size:"small",emphasis:"secondary","icon-position":"none",label:0===a?.followUpHistory?.recentFollowUps?.length?"Start":"Add"}})],1)])])}))},proxy:!0}])})],1)]),t("div",{staticClass:"sticky bottom-0 flex gap-spacing-200 bg-bg-neutral-default px-spacing-200 py-spacing-200 ipad:px-spacing-300"},[t("GeneralButton",{attrs:{"button-type":"button",type:"brand",size:"small",emphasis:"secondary","icon-position":"none",label:"New Company"},nativeOn:{click:function(t){return e.addNewCompany.apply(null,arguments)}}}),t("div",{on:{click:function(t){return e.handleDelete()}}},[t("GeneralButton",{attrs:{"button-type":"button",type:"destructive",size:"small",emphasis:"secondary","icon-position":"none",icon:"",image:"","is-disabled":!1,"is-loading":!1,label:"Delete Market Research"}})],1)],1)]),t("AddNewCompanyModal"),t("AddDetailsLaterModal"),t("FollowUpFullViewModal"),t("AddNewMarketResearchModal"),t("ResearchStatusModal"),t("MoreFollowUpsModal"),t("GuidelinesAndEmailTemplateModal")],1)}),[],!1,null,null,null),we=xe.exports,ve={components:{FormInput:()=>a.e(6342).then(a.bind(a,96342)),SpreadSheet:()=>a.e(7608).then(a.bind(a,47608)),ClassicTable:()=>a.e(440).then(a.bind(a,30440)),ProductSearchDropdown:()=>a.e(8118).then(a.bind(a,98118)),LocationSearchDropdown:()=>a.e(9007).then(a.bind(a,29007)),AddNewCompanyModal:()=>a.e(3577).then(a.bind(a,3577))},data:()=>({formData:{date:(0,h.wZ)(0),originList:"",location:null,products:[]},fieldValidations:{date:new C.s({}),originList:new C.s({}),location:new C.s({}),products:new C.s({})},archiveHeaders:[{key:"user",value:"User"},{key:"status",value:"Status"},{key:"name",value:"Name"},{key:"genNumber",value:"General Number"},{key:"commNumber",value:"Commercial Number"},{key:"country",value:"Country"},{key:"originList",value:"Origin List"}],companyHeaders:[{key:"name",value:"Name"},{key:"email",value:"Email"},{key:"genNumber",value:"General Number"},{key:"commNumber",value:"Commercial Number"},{key:"country",value:"Country"},{key:"originList",value:"Origin List"},{key:"addedToMainDB",value:"Added to main DB"}],isFormSubmitting:!1,bulk_Added_Companies:[],archivedCompanies:[],tabs:[{label:"Bulk Add",isActive:!0},{label:"Companies List",isActive:!1},{label:"Archive",isActive:!1}]}),computed:{...(0,n.L8)({user:"auth/getUser"})},mounted(){this.$bus.$on("refetch-bulk-added-companies",(()=>{this.showAllCompanies()})),this.$bus.$on("refetch-archived-companies",(()=>{this.showArchived()}))},methods:{...(0,n.i0)({addCompanies:"company/addCompanies",getTrackers:"auth/getTrackers"}),selectTab(e){this.tabs.forEach(((t,a)=>{t.isActive=a===e})),this.tabs[1]?.isActive?this.showAllCompanies():this.tabs[2].isActive&&this.showArchived()},getArchiveReasonClass(e){switch(e){case"NO_INTERNET_REFRENCE":return"bg-bg-status-info text-content-on-status-on-info";case"NO":case"DELETED_FROM_MAIN_DB":return"bg-bg-status-error text-content-on-status-on-error";case"YES":case"COMPANY_SUCCESSFULLY_ADDED":return"bg-bg-status-success text-content-on-status-on-success";default:return"bg-bg-status-warning text-content-on-status-on-warning"}},updateLocation(e){this.formData.location=e},updateProducts(e){this.formData.products=e},async handleSave(e){if(e?.length<1)return this.$toast.error("Please add one or more companies");if(!this.$validateForm())return;this.isFormSubmitting=!0;const t=this.buildPayload(e),a=await this.addCompanies(t);a?.success?(this.$toast.success(a?.message),this.getTrackers(),this.resetAllFields()):this.$toast.error(a?.message),this.isFormSubmitting=!1},buildPayload(e){let t=e?.map((e=>({companyName:e?.companyName,genNumber:"+0000 000 00 00 000"===e?.generalNumber?"":e?.generalNumber,commNumber:"+0000 000 00 00 000"===e?.commercialNumber?"":e?.commercialNumber,email:e?.email,annualRevenue:Number(e?.annualRevenue),location:this.formData?.location?.display_name||"",lat:this.formData?.location?.lat||"",long:this.formData?.location?.lon||"",origin:"BULK_ADD",originList:this.formData?.originList,agents:[],products:this.formData?.products?.map((e=>({productId:e?._id}))),addUser:this.user?._id,addToArchive:!0,addToMainDB:e?.addToMainDB||!1})));return t},async showAllCompanies(){this.$bus.$emit("showLoader",{showLoader:!0});const e=await m.A.get("companies/archive-confirmation-pending");e?.data?.success?this.bulk_Added_Companies=e?.data?.data:this.$toast.error(e?.data?.message),this.$bus.$emit("showLoader",!1)},resetAllFields(){this.formData.date="",this.formData.location=null,this.formData.originList="",this.formData.products=[],this.$bus.$emit("clear-spreadsheet-data")},handleEdit(e){this.$bus.$emit("add-new-company-modal",{showModal:!0,companyId:e?._id,formData:{companyName:e?.companyName,genNumber:e?.genNumber,commNumber:e?.commNumber,email:e?.email,annualRevenue:e?.annualRevenue,origin:e?.origin,originList:e?.originList,location:{display_name:e?.location,lat:e?.lat,lon:e?.long},GS:e?.GS,RS:e?.RS,agents:e?.agents?.map((e=>({genNumber:e?.genNumber,commNumber:e?.commNumber,email:e?.email}))),products:e?.products?.map((e=>({originalTitle:e?.productId?.title,_id:e?.productId?._id})))},analyze:!this.tabs[2]?.isActive,addedToMainDB:e?.addedToMainDB||!1,update:!0})},async showArchived(){this.$bus.$emit("showLoader",{showLoader:!0});const e=await m.A.get("companies/archived");e?.data?.success?this.archivedCompanies=e?.data?.data:this.$toast.error(e?.data?.message),this.$bus.$emit("showLoader",!1)}},beforeDestroy(){this.$bus.$off("refetch-bulk-added-companies"),this.$bus.$off("refetch-archived-companies")}},Ce=ve,_e=(0,o.A)(Ce,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex h-full w-full flex-col bg-bg-neutral-default"},[t("div",{staticClass:"mx-spacing-200 my-spacing-300 flex max-w-[800px] items-center rounded-08 border-4 border-bg-neutral-sunken bg-bg-neutral-sunken px-spacing-0 py-spacing-0 text-body/l/relaxed/400 shadow-inner dark:border-bg-neutral-sunken"},e._l(e.tabs,(function(a,s){return t("div",{key:s,class:["flex-1 whitespace-nowrap rounded-06 px-spacing-150 py-spacing-100 text-center",a.isActive?"bg-bg-neutral-default text-content-on-neutral-primary dark:bg-bg-neutral-raised":"cursor-pointer text-content-on-neutral-tertiary"],on:{click:function(t){return e.selectTab(s)}}},[e._v(" "+e._s(a.label)+" ")])})),0),e.tabs[0]?.isActive?t("div",{staticClass:"mb-spacing-250 flex flex-1 flex-col overflow-y-auto"},[t("div",{staticClass:"mx-spacing-200 flex max-w-[800px] flex-col"},[t("div",{staticClass:"flex flex-col gap-spacing-200 py-spacing-50 ipad:flex-row"},[t("FormInput",{ref:"date",attrs:{label:"Date",inputId:"date","input-type":"date","field-validations":e.fieldValidations?.date,order:1},on:{"enter-pressed":function(t){return e.$focusNextElement("originList")}},model:{value:e.formData.date,callback:function(t){e.$set(e.formData,"date",t)},expression:"formData.date"}}),t("FormInput",{ref:"originList",attrs:{label:"Origin List",inputId:"originList","field-validations":e.fieldValidations?.originList,order:2},on:{"enter-pressed":function(t){return e.$focusNextElement("location")}},model:{value:e.formData.originList,callback:function(t){e.$set(e.formData,"originList",t)},expression:"formData.originList"}})],1),t("div",{staticClass:"flex flex-col gap-spacing-200 ipad:flex-row"},[t("LocationSearchDropdown",{staticClass:"flex-1",attrs:{"dropdown-label":"Location","dropdown-id":"location","selected-location":e.formData?.location?e.formData?.location:void 0,order:3},on:{"on-location-update":e.updateLocation,"enter-pressed":function(t){return e.$focusNextElement("products")}}})],1),t("ProductSearchDropdown",{staticClass:"my-spacing-100",attrs:{"dropdown-label":"Products","dropdown-id":"products",products:e.formData.products,"is-multi-select":!0,order:4},on:{"on-products-update":e.updateProducts}})],1),t("SpreadSheet",{staticClass:"sticky top-0 flex-1 px-spacing-200",on:{"spreadsheet-data":e.handleSave}})],1):e.tabs[1]?.isActive?t("div",{staticClass:"mb-spacing-250 flex flex-1 flex-col overflow-y-auto"},[e.bulk_Added_Companies?.length>0?t("ClassicTable",{attrs:{headers:e.companyHeaders},scopedSlots:e._u([{key:"table-body",fn:function(){return e._l(e.bulk_Added_Companies,(function(a,s){return t("tr",{key:s,staticClass:"cursor-pointer border-b border-stroke-medium text-body/m/relaxed/400 text-content-on-neutral-primary",on:{click:function(t){return e.handleEdit(a)}}},[t("td",{staticClass:"py-spacing-150 pr-spacing-100"},[e._v(" "+e._s(a?.companyName)+" ")]),t("td",{staticClass:"py-spacing-150 pr-spacing-100"},[e._v(" "+e._s(a?.email)+" ")]),t("td",{staticClass:"py-spacing-150 pr-spacing-100"},[e._v(" "+e._s(a?.genNumber)+" ")]),t("td",{staticClass:"py-spacing-150 pr-spacing-100"},[e._v(" "+e._s(a?.commNumber)+" ")]),t("td",{staticClass:"py-spacing-150 pr-spacing-100"},[e._v(" "+e._s(a?.location)+" ")]),t("td",{staticClass:"py-spacing-150 pr-spacing-100"},[e._v(" "+e._s(a?.originList)+" ")]),t("td",{staticClass:"py-spacing-150 pr-spacing-100"},[a?.addedToMainDB?t("span",{staticClass:"rounded-08 px-spacing-100 py-spacing-50",class:e.getArchiveReasonClass("YES")},[e._v("YES")]):t("span",{staticClass:"rounded-08 px-spacing-100 py-spacing-50",class:e.getArchiveReasonClass("NO")},[e._v("NO")])])])}))},proxy:!0}],null,!1,164508657)}):e._e()],1):e.tabs[2]?.isActive?t("div",{staticClass:"mb-spacing-250 flex flex-1 flex-col overflow-y-auto"},[e.archivedCompanies?.length>0?t("ClassicTable",{attrs:{headers:e.archiveHeaders},scopedSlots:e._u([{key:"table-body",fn:function(){return e._l(e.archivedCompanies,(function(a,s){return t("tr",{key:s,staticClass:"border-b border-stroke-medium text-body/m/relaxed/400 text-content-on-neutral-primary"},[t("td",{staticClass:"py-spacing-150 pr-spacing-100"},[e._v(" "+e._s(a?.addUser?.name)+" ")]),t("td",{staticClass:"py-spacing-150 pr-spacing-100"},[t("span",{staticClass:"rounded-08 px-spacing-100 py-spacing-50",class:e.getArchiveReasonClass(a?.archiveReason)},[e._v(e._s(a?.archiveReason))])]),t("td",{staticClass:"py-spacing-150 pr-spacing-100"},[e._v(" "+e._s(a?.companyName)+" ")]),t("td",{staticClass:"py-spacing-150 pr-spacing-100"},[e._v(" "+e._s(a?.genNumber)+" ")]),t("td",{staticClass:"py-spacing-150 pr-spacing-100"},[e._v(" "+e._s(a?.commNumber)+" ")]),t("td",{staticClass:"py-spacing-150 pr-spacing-100"},[e._v(" "+e._s(a?.location)+" ")]),t("td",{staticClass:"py-spacing-150 pr-spacing-100"},[e._v(" "+e._s(a?.originList)+" ")])])}))},proxy:!0}],null,!1,2704332651)}):e._e()],1):e._e(),t("AddNewCompanyModal")],1)}),[],!1,null,null,null),ke=_e.exports,Re={components:{SignupPage:()=>a.e(3343).then(a.bind(a,33343)),Search:()=>a.e(8130).then(a.bind(a,8130)),PaginatedTable:()=>a.e(9666).then(a.bind(a,19666)),GeneralSkeleton:()=>a.e(2174).then(a.bind(a,2174)),GeneralButton:()=>a.e(695).then(a.bind(a,90695)),IconEdit3:()=>a.e(807).then(a.bind(a,70807)),IconTrash2:()=>a.e(4956).then(a.bind(a,14956))},data(){return{selectedUserData:null,update:!1,showCreateForm:!1,userName:"",userEmail:"",limit:20,isLoading:!1,sortKey:"createdAt",sortOrder:"desc",currentPage:0,headerData:[{key:"createdAt",value:"Account Created",sortable:!0},{key:"name",value:"Name",sortable:!0,description:"User Name"},{key:"email",value:"Email",sortable:!1,description:"User Email"},{key:"bulk-adds",value:"Bulk adds",sortable:!1,description:"Number of companies bulk added by user"},{key:"new-starts",value:"New starts",sortable:!1,description:"Number of new starts done by user"},{key:"follow-ups",value:"Follow ups",sortable:!1,description:"Number of follow ups done by user"},{key:"role",value:"Role",sortable:!1,description:"User Role Assigned"},{key:"action",value:"Action",sortable:!1,description:""}],fetchDebouncedData:(0,U.debounce)(this.fetchData,300),updateHandler:null}},mounted(){"SUPER_ADMIN"!==this.user?.role&&this.$router.push("/dashboard"),this.usersData&&this.RESET_USERS_DATA(),this.updateHandler=()=>{this.fetchDebouncedData()},this.deleteHandler=async({id:e})=>{this.$bus.$emit("showLoader",{showLoader:!0});const t=await this.deleteUserByID(e);t?.success?(this.handleClose(),this.fetchDebouncedData(),this.$toast.success(t?.message)):this.$toast.error(t?.message),this.$bus.$emit("showLoader",!1)},this.$bus.$on("refresh-users-list",this.updateHandler),this.$bus.$on("delete-user",this.deleteHandler)},computed:{...(0,n.aH)({usersData:e=>e.auth?.usersData,users:e=>e.auth?.usersData?.users,currentPageNumber:e=>e.auth?.usersData?.currentPage||0,totalPages:e=>e.auth?.usersData?.totalPages||1,totalCount:e=>e.auth?.usersData?.totalCount||0,error:e=>e.auth?.error}),...(0,n.L8)({user:"auth/getUser"})},methods:{...(0,n.PY)("auth",["RESET_USERS_DATA"]),...(0,n.i0)("auth",["getAllUsers","deleteUserByID"]),async fetchData(e=1,t){if(this.isLoading)return;this.currentPage=e,this.isLoading=!0,await this.$nextTick();let a={params:{page:e,filter:{name:this.userName?.trim(),email:this.userEmail?.trim()},sortBy:this.sortKey||void 0,sort:this.sortOrder||void 0,limit:this.limit}};await this.getAllUsers(a),this.currentPage=this.currentPageNumber,this.isLoading=!1,t&&t()},fetchSortedData(e){this.sortKey=e.sortKey||"",this.sortOrder=e.sortOrder||"",this.fetchDebouncedData()},searchByUserEmail(e){this.userEmail=e,this.fetchDebouncedData()},searchByUserName(e){this.userName=e,this.fetchDebouncedData()},handleClickNew(){this.update=!1,this.showCreateForm=!0},handleClose(){this.update=!1,this.showCreateForm=!1},handleEdit(e){this.showCreateForm=!0,this.update=!0,this.selectedUserData=e},handleDelte(e){this.$bus.$emit("remove-confirmation-modal",{showModal:!0,confirmationText:`This user (${e?.name}) and all of its references will be deleted pemanently.`,confirmEvent:"delete-user",id:e?._id})}},beforeDestroy(){this.$bus.$off("refresh-users-list",this.updateHandler),this.$bus.$off("delete-user",this.deleteHandler),this.updateHandler=null,this.deleteHandler=null}},De=Re,Ee=(0,o.A)(De,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex h-full w-full flex-col bg-bg-neutral-default lg:flex-row"},[t("div",{staticClass:"flex w-full flex-1 flex-col overflow-y-auto",class:e.showCreateForm?"lg:w-1/2":""},[t("div",{staticClass:"flex w-full flex-col gap-spacing-300 px-spacing-200 pb-spacing-100 pt-spacing-300 ipad:px-spacing-300"},[t("div",{staticClass:"flex w-full items-center gap-spacing-300"},[t("h1",{staticClass:"text-overline/l/relaxed/500 text-content-on-neutral-secondary ipad:text-overline/xl/relaxed/500"},[e._v(" MANAGE USERS ")]),t("div",{staticClass:"flex items-center gap-spacing-200"},[t("GeneralButton",{attrs:{"button-type":"button",type:"brand",size:"small",emphasis:"secondary","icon-slot":!0,"icon-position":"leading","is-disabled":!1,"is-loading":!1,label:"New"},nativeOn:{click:function(t){return e.handleClickNew()}},scopedSlots:e._u([{key:"leading-icon",fn:function(){return[t("i",{staticClass:"fa-solid fa-plus relative bottom-spacing-50"})]},proxy:!0}])}),t("GeneralButton",{attrs:{"button-type":"button",type:"success",size:"small",emphasis:"secondary",label:"Refresh","icon-slot":!0,"icon-position":"leading"},nativeOn:{click:function(t){return e.fetchDebouncedData()}},scopedSlots:e._u([{key:"leading-icon",fn:function(){return[t("i",{staticClass:"fa-solid fa-refresh relative bottom-spacing-50",class:e.isLoading?"animate-spin":""})]},proxy:!0}])})],1)]),t("div",{staticClass:"flex flex-col gap-spacing-200 nexus:flex-row ipad:gap-spacing-150"},[t("Search",{attrs:{placeholder:"Search...",label:"Name","search-id":"user-name-search"},on:{search:e.searchByUserName}}),t("Search",{attrs:{placeholder:"Search...",label:"Email","search-id":"user-email-search"},on:{search:e.searchByUserEmail}})],1)]),t("PaginatedTable",{attrs:{headers:e.headerData,"current-page":e.currentPage,"total-pages":e.totalPages,"sort-key":e.sortKey,"sort-order":e.sortOrder,"total-count":e.totalCount,error:e.error,"is-loading":e.isLoading},on:{"fetch-data":e.fetchData,"fetch-sorted-data":e.fetchSortedData},scopedSlots:e._u([{key:"table-body",fn:function(){return[e._l(e.users,(function(a){return t("tr",{key:a._id,staticClass:"text-left text-body/m/relaxed/400 text-content-on-neutral-primary nexus:text-body/l/relaxed/400"},[t("td",{staticClass:"flex flex-col gap-spacing-25 border-b border-stroke-medium py-spacing-100 pr-spacing-100"},[e._v(" "+e._s(e._f("toDate")(a.createdAt))+" ")]),t("td",{staticClass:"border-b border-stroke-medium py-spacing-100 pr-spacing-100"},[t("p",{domProps:{innerHTML:e._s(e.$highlightMatch(a?.name,e.userName))}})]),t("td",{staticClass:"border-b border-stroke-medium py-spacing-100 pr-spacing-100"},[t("p",{domProps:{innerHTML:e._s(e.$highlightMatch(a?.email,e.userEmail))}})]),t("td",{staticClass:"border-b border-stroke-medium py-spacing-100 pr-spacing-100"},[e._v(" "+e._s(a?.trackers?.bulkAdds)+" ")]),t("td",{staticClass:"border-b border-stroke-medium py-spacing-100 pr-spacing-100"},[e._v(" "+e._s(a?.trackers?.newStarts)+" ")]),t("td",{staticClass:"border-b border-stroke-medium py-spacing-100 pr-spacing-100"},[e._v(" "+e._s(a?.trackers?.followUps)+" ")]),t("td",{staticClass:"border-b border-stroke-medium py-spacing-100 pr-spacing-100"},[e._v(" "+e._s(a?.role)+" ")]),t("td",{staticClass:"border-b border-stroke-medium py-spacing-100 pr-spacing-100 text-content-on-neutral-secondary"},[t("div",{staticClass:"flex items-center gap-spacing-200"},[t("IconEdit3",{staticClass:"h-spacing-200 w-spacing-200 cursor-pointer text-current hover:text-constant-status-info",nativeOn:{click:function(t){return e.handleEdit(a)}}}),t("IconTrash2",{staticClass:"h-spacing-200 w-spacing-200 cursor-pointer text-current hover:text-constant-status-error",nativeOn:{click:function(t){return e.handleDelte(a)}}})],1)])])})),e._l(new Array(6).fill(""),(function(a,s){return t("tr",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],key:`dummy-row-${s}`,staticClass:"text-left"},e._l(new Array(8).fill(""),(function(e,a){return t("td",{key:`dummy-col-${a}`,staticClass:"gap-spacing-25 py-spacing-150 pr-spacing-100"},[t("GeneralSkeleton",{staticClass:"h-spacing-300 w-spacing-1200",attrs:{"is-table-cell":!0}})],1)})),0)}))]},proxy:!0}])})],1),e.showCreateForm?t("div",{staticClass:"nexus:min-w-[500px] lg:w-1/3"},[t("SignupPage",{attrs:{formData:e.update?e.selectedUserData:void 0,update:e.update,"show-cross-icon":!0},on:{"close-pressed":e.handleClose}})],1):e._e()])}),[],!1,null,null,null),Se=Ee.exports;s.Ay.use(p.Ay);const Ae=new p.Ay({mode:"history",routes:[{path:"/login",name:"Login",component:D},{path:"/forgot-password",name:"ForgotPassword",component:le,props:!0},{path:"/reset-password",name:"ResetPassword",component:pe,props:!0},{path:"/dashboard",component:L,children:[{path:"",redirect:"companies"},{path:"companies",name:"Companies",component:G},{path:"category",name:"Category",component:I},{path:"companies/:id",name:"CompanyDetails",component:Q,props:!0},{path:"market-researches",name:"Researches",component:W},{path:"market-researches/:id",name:"MarketResearchDetails",component:we,props:!0},{path:"calendar",name:"Calendar",component:ee},{path:"quick-price",name:"QuickPrice",component:ne},{path:"bulk-add",name:"BulkAdd",component:ke},{path:"user-panel",name:"UserPanel",component:Se},{path:"today",name:"Today",component:fe}],meta:{requiresAuth:!0}},{path:"*",redirect:"/login"}]});Ae.beforeEach((async(e,t,a)=>{try{let t=v.state.auth.isAuthenticated;const s=g.A.get("auth_token");!t&&s&&await v.dispatch("auth/getProfile"),t=v.state.auth.isAuthenticated,"/login"===e.path||"/reset-password"===e.path||"/forgot-password"===e.path?t?a("/dashboard"):a():e.matched?.some((e=>e.meta.requiresAuth))?t||"login"===e.name?a():a("/login"):a()}catch(e){console.log("error",e)}}));var Te=Ae,Pe=a(49148),Le=a.n(Pe);s.Ay.filter("toDate",(function(e,t="DD-MM-YYYY"){return e?Le()(e)?.format(t):""})),s.Ay.filter("toPercentage",(function(e,t){return"number"!=typeof e||isNaN(e)?e:t?`${e.toFixed(2)}%`:`${(100*e).toFixed(2)}%`})),s.Ay.filter("toDistance",(function(e,t="km"){if("string"==typeof e&&(e=parseFloat(e)),isNaN(e))return"";let a;switch(t){case"km":default:a=e;break;case"m":a=1e3*e;break;case"mi":a=e/1.60934}return a.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})+" "+t})),s.Ay.filter("toCurrency",((e,t=2)=>{if(["To be added","NA","Not Available"].includes(e))return e;if(null==e||""===e)return` 0${t>0?",":""}${"0".repeat(t)}`;let a=parseFloat(e);return isNaN(a)?` 0${t>0?",":""}${"0".repeat(t)}`:new Intl.NumberFormat("sfb",{style:"currency",currency:"EUR",minimumFractionDigits:t,maximumFractionDigits:t}).format(a).replace(""," ").replace(/,/g," ").replace(/\./g,",")}));var Oe=a(99553);s.Ay.use(Oe.Ay,{bodyClassName:["font-sans"],newestOnTop:!0}),s.Ay.config.productionTip=!1,s.Ay.config.devtools=!1,s.Ay.prototype.$bus=new s.Ay,s.Ay.prototype.$validateForm=C.l,s.Ay.prototype.$highlightMatch=(e,t)=>{if(!e||!t)return e;const a=new RegExp(`(${t?.trim()})`,"i");return e?.replace(a,'<span class="bg-blue-700 text-constant-neutral-white">$1</span>')},"light"===localStorage.getItem("theme")?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark"),s.Ay.prototype.$focusNextElement=e=>{s.Ay.nextTick((()=>{const t=document.getElementById(e);t&&t.focus()}))},-1!==navigator.userAgent.indexOf("Windows")&&document.documentElement.classList.add("windows"),new s.Ay({router:Te,store:v,render:e=>e(u)}).$mount("#app")},77788:function(e,t,a){"use strict";a.d(t,{l:function(){return i},s:function(){return r}});var s=a(46684),n=a.n(s);class r{constructor(e={}){this.required=e.required||!1,this.minLength=e.minLength||null,this.maxLength=e.maxLength||null,this.min=e.min??null,this.max=e.max??null,this.regex=e.regex||null,this.type=e.type||null,this.minDate=e.minDate?new Date(e.minDate):null,this.maxDate=e.maxDate?new Date(e.maxDate):null}validate(e){if(!this.required&&(null==e||""===e))return null;if(this.required&&(null==e||""===e))return"This field is required.";if(null!==this.minLength&&String(e).length<this.minLength)return`Minimum length is ${this.minLength} characters.`;if(null!==this.maxLength&&String(e).length>this.maxLength)return`Maximum length is ${this.maxLength} characters.`;if(null!==this.min&&e<this.min)return`Value must be at least ${this.min}.`;if(null!==this.max&&e>this.max)return`Value must not exceed ${this.max}.`;if(this.regex&&!this.regex.test(e))return"Invalid format.";if("EMAIL"===this.type&&!n().isEmail(e))return"Invalid Email.";if("PASSWORD"===this.type&&!n().isStrongPassword(e,{minLength:8,maxLength:16,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1})&&"12345678"!==e)return"Password must be 8-16 characters long, and contain one number, one symbol, one uppercase and one lowercase character.";if("DATE"===this.type){const t=new Date(e);if(isNaN(t))return"Invalid date format.";if(this.minDate&&t<new Date(this.minDate))return`Date must not be earlier than ${new Date(this.minDate).toDateString()}.`;if(this.maxDate&&t>new Date(this.maxDate))return`Date must not be later than ${new Date(this.maxDate).toDateString()}.`}else if("NUMBER"===this.type&&!n().isNumeric(e))return"Invalid Number Format";return null}}function i(){let e=null,t=1e5;const a=Object.values(this.$refs).flatMap((e=>Array.isArray(e)?e:[e])).filter((e=>"function"==typeof e?.validate)).map((a=>{if(a?.validate){let s=a?.validate();return s||a?.order<t&&(t=a?.order,e=a),s}return!0})).every((e=>!0===e));return e&&!a&&e?.scrollToComponent(),a}},12247:function(e,t){"use strict";const a={LOCAL:localStorage,SESSION:sessionStorage},s={get:(e,t=a.LOCAL)=>{try{const a=t.getItem(e);return a?JSON.parse(a):null}catch(e){return console.error("Error getting data from storage",e),null}},set:(e,t,s=a.LOCAL)=>{try{s.setItem(e,JSON.stringify(t))}catch(e){console.error("Error setting data in storage",e)}},remove:(e,t=a.LOCAL)=>{try{t.removeItem(e)}catch(e){console.error("Error removing data from storage",e)}},clear:(e=a.LOCAL)=>{try{e.clear()}catch(e){console.error("Error clearing storage",e)}},exists:(e,t=a.LOCAL)=>{try{return null!==t.getItem(e)}catch(e){return console.error("Error checking existence of key in storage",e),!1}},STORAGE_TYPES:a};t.A=s},78275:function(e,t,a){"use strict";a.d(t,{My:function(){return r},gW:function(){return s},wZ:function(){return n}});const s=e=>e?.response?.data?.message||e?.message||e?.customMessage||"An unknown error occurred",n=e=>{const t=new Date,a=new Date(t);return a.setDate(t.getDate()+e),a.toISOString().split("T")[0]},r=(e,t,a)=>{const s=new Date(e);if(isNaN(s))throw new Error("Invalid date provided");s.setDate(s.getDate()+t);let n=0;if(!a){const e=s.getDay();6===e?(s.setDate(s.getDate()+2),n=2):0===e&&(s.setDate(s.getDate()+1),n=1)}return{date:s?.toISOString()?.substring(0,10),shifted:n}}}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=e,function(){var e=[];a.O=function(t,s,n,r){if(!s){var i=1/0;for(d=0;d<e.length;d++){s=e[d][0],n=e[d][1],r=e[d][2];for(var o=!0,l=0;l<s.length;l++)(!1&r||i>=r)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(o=!1,r<i&&(i=r));if(o){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[s,n,r]}}(),a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))},a.u=function(e){return"js/"+e+"."+{79:"d817d04a",440:"53b9f31d",531:"199151ec",537:"36630f7c",647:"6d2944ce",695:"fcb7f4c7",807:"f248c2d5",1004:"2733b5f8",1103:"78e2c5bc",1188:"dfdbeeb8",1212:"2f642650",1459:"11b9fc88",1476:"12d7fb79",1870:"d515b9b8",1919:"00ae5719",1943:"f308da7e",1974:"65da7313",2174:"02c19f5b",2198:"34202115",2443:"f6c9ed16",2492:"78e16c71",2750:"ce7be718",2757:"9062bded",2775:"19a2f763",2936:"1209076e",3147:"a0f9f80e",3335:"84cf4684",3343:"3c197ac3",3577:"5ccedcc7",3860:"50c8b6e2",3886:"98c1ad4c",3960:"62ec6e32",4028:"be4a0c7e",4077:"6474b41c",4104:"fa45f944",4242:"2a8ae844",4932:"89dde335",4956:"8d17a5ca",4976:"086d6554",5115:"767fec6f",5315:"b1683bcb",5337:"b0b07eba",5373:"09453db6",5548:"05f06bf2",5677:"b52445d9",5827:"0fbb6b11",5856:"96d2941c",5933:"ab6b004c",5960:"57118410",6189:"07b1b707",6262:"ce29f74f",6277:"323d255a",6342:"70ee5506",6436:"e7277131",6691:"51109ec8",6847:"baf3b9e7",7084:"554d2b14",7124:"eab8e78e",7233:"92d3c887",7259:"8129ed2b",7349:"f05e1b25",7469:"9be5e372",7471:"9bfff450",7501:"d414c0d2",7608:"f34becb9",7648:"4042ce76",7767:"6600333c",8031:"46619e26",8099:"0113d7d8",8116:"9875fa4f",8118:"7cc8a84b",8130:"a64c4d88",8251:"1592f065",8282:"24554c01",8461:"b5529c17",8519:"ab58d4d0",8625:"ca9a5a20",9002:"2ecb70ad",9007:"a99e238b",9297:"8042b4a4",9360:"daa5840a",9495:"cee1e33c",9496:"8e744ae1",9579:"1671a7c7",9666:"3de3b4b6",9667:"ccea9f2e",9757:"ba15c43a",9794:"2acdf409"}[e]+".js"},a.miniCssF=function(e){return"css/"+e+"."+{537:"73ee9bd3",695:"2cdf7b82",2174:"2ee09582",2443:"2ca98bab",2492:"677c479e",4932:"e9d320b8",5315:"b1fce484",6342:"41155eef",7084:"73ee9bd3",7608:"92a62b8a",7767:"677c479e",8031:"2ca98bab",8130:"60974870",8461:"73ee9bd3"}[e]+".css"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="construction-commercial-search-frontend:";a.l=function(s,n,r,i){if(e[s])e[s].push(n);else{var o,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+r){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",t+r),o.src=s),e[s]=[n];var p=function(t,a){o.onerror=o.onload=null,clearTimeout(m);var n=e[s];if(delete e[s],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((function(e){return e(a)})),t)return t(a)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),l&&document.head.appendChild(o)}}}(),a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},a.p="/",function(){if("undefined"!=typeof document){var e={3524:0};a.f.miniCss=function(t,s){e[t]?s.push(e[t]):0!==e[t]&&{537:1,695:1,2174:1,2443:1,2492:1,4932:1,5315:1,6342:1,7084:1,7608:1,7767:1,8031:1,8130:1,8461:1}[t]&&s.push(e[t]=function(e){return new Promise((function(t,s){var n=a.miniCssF(e),r=a.p+n;if(function(e,t){for(var a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var n=a[s],r=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(r===e||r===t))return n}var i=document.getElementsByTagName("style");for(s=0;s<i.length;s++)if((r=(n=i[s]).getAttribute("data-href"))===e||r===t)return n}(n,r))return t();!function(e,t,s,n,r){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",a.nc&&(i.nonce=a.nc),i.onerror=i.onload=function(a){if(i.onerror=i.onload=null,"load"===a.type)n();else{var s=a&&a.type,o=a&&a.target&&a.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+": "+o+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=o,i.parentNode&&i.parentNode.removeChild(i),r(l)}},i.href=t,document.head.appendChild(i)}(e,r,0,t,s)}))}(t).then((function(){e[t]=0}),(function(a){throw delete e[t],a})))}}}(),function(){var e={3524:0};a.f.j=function(t,s){var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else if(8031!=t){var r=new Promise((function(a,s){n=e[t]=[a,s]}));s.push(n[2]=r);var i=a.p+a.u(t),o=new Error;a.l(i,(function(s){if(a.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",o.name="ChunkLoadError",o.type=r,o.request=i,n[1](o)}}),"chunk-"+t,t)}else e[t]=0},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,r,i=s[0],o=s[1],l=s[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(l)var d=l(a)}for(t&&t(s);c<i.length;c++)r=i[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},s=self.webpackChunkconstruction_commercial_search_frontend=self.webpackChunkconstruction_commercial_search_frontend||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(14729)}));s=a.O(s)}();