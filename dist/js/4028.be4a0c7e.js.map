{"version":3,"file":"js/4028.be4a0c7e.js","mappings":"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","sources":["webpack://construction-commercial-search-frontend/./src/components/General/Modal.vue","webpack://construction-commercial-search-frontend/src/components/General/Modal.vue","webpack://construction-commercial-search-frontend/./src/components/General/Modal.vue?022d","webpack://construction-commercial-search-frontend/./src/components/General/Modal.vue?c152","webpack://construction-commercial-search-frontend/./src/components/Modals/AllQuotationPricesModal.vue","webpack://construction-commercial-search-frontend/src/components/Modals/AllQuotationPricesModal.vue","webpack://construction-commercial-search-frontend/./src/components/Modals/AllQuotationPricesModal.vue?a579","webpack://construction-commercial-search-frontend/./src/components/Modals/AllQuotationPricesModal.vue?dc21"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.active)?_c('div',{staticClass:\"fixed inset-0 z-[9999] flex h-screen w-full items-center justify-center overflow-y-auto\",class:_vm.customOverlay,attrs:{\"id\":_vm.eventName},on:{\"click\":function($event){if($event.target !== $event.currentTarget)return null;return _vm.closeModal()}}},[_c('div',{staticClass:\"fixed bottom-0 overflow-y-auto shadow-lg nexus:relative\",class:_vm.customClass},[_vm._t(\"default\")],2)]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <transition name=\"fade\">\r\n    <div\r\n      v-if=\"active\"\r\n      :id=\"eventName\"\r\n      class=\"fixed inset-0 z-[9999] flex h-screen w-full items-center justify-center overflow-y-auto\"\r\n      :class=\"customOverlay\"\r\n      @click.self=\"closeModal()\"\r\n    >\r\n      <div\r\n        class=\"fixed bottom-0 overflow-y-auto shadow-lg nexus:relative\"\r\n        :class=\"customClass\"\r\n      >\r\n        <slot />\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    active: {\r\n      required: true,\r\n      type: Boolean,\r\n    },\r\n    eventName: {\r\n      required: true,\r\n      type: String,\r\n    },\r\n    preventClose: {\r\n      required: false,\r\n      type: Boolean,\r\n    },\r\n    customStyle: {\r\n      required: false,\r\n      type: [String, Array],\r\n      default: \"\",\r\n    },\r\n    customBackground: {\r\n      required: false,\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    fullScreen: {\r\n      required: false,\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    customVerticalPadding: {\r\n      required: false,\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    customHorizontalPadding: {\r\n      required: false,\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    customPadding: {\r\n      required: false,\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    customWidth: {\r\n      required: false,\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    customHeight: {\r\n      required: false,\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    customBorderRadius: {\r\n      required: false,\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    customOverlay: {\r\n      required: false,\r\n      type: String,\r\n      default: \"bg-bg-overlay\",\r\n    },\r\n  },\r\n  computed: {\r\n    customClass() {\r\n      return [\r\n        this.widthClass,\r\n        this.paddingClass,\r\n        this.heightClass,\r\n        this.roundedClass,\r\n        this.backgroundClass,\r\n      ];\r\n    },\r\n    widthClass() {\r\n      let output = \"w-full nexus:w-[448px]\";\r\n      if (this.customWidth) {\r\n        output = this.customWidth;\r\n      }\r\n      return output;\r\n    },\r\n    heightClass() {\r\n      let output = \"min-h-[268px]\";\r\n      if (this.customHeight) {\r\n        output = `min-h-[268px] ${this.customHeight}`;\r\n      }\r\n      if (this.fullScreen === \"mobile\") {\r\n        output = this.customHeight\r\n          ? `min-h-[268px] h-[100dvh] ${this.customHeight}`\r\n          : `min-h-[268px] h-[100dvh] nexus:h-auto`;\r\n      } else if (this.fullScreen === \"nexus\") {\r\n        output = this.customHeight\r\n          ? `min-h-[268px] h-[100dvh] ${this.customHeight}`\r\n          : `min-h-[268px] h-[100dvh] ipad:h-auto`;\r\n      } else if (this.fullScreen === \"ipad\") {\r\n        output = `min-h-[268px] h-[100dvh]`;\r\n      }\r\n      return output;\r\n    },\r\n    paddingClass() {\r\n      let output =\r\n        \"py-spacing-200 nexus:py-spacing-250 ipad:py-spacing-300 px-spacing-200 nexus:px-spacing-250 ipad:px-spacing-300\";\r\n      if (this.customPadding) {\r\n        output = this.customPadding;\r\n      } else if (this.customVerticalPadding || this.customHorizontalPadding) {\r\n        output = `${this.customVerticalPadding} ${this.customHorizontalPadding}`;\r\n      }\r\n      return output;\r\n    },\r\n    backgroundClass() {\r\n      let output = \"bg-bg-neutral-default\";\r\n      if (this.customBackground) {\r\n        output = this.customBackground;\r\n      }\r\n      return output;\r\n    },\r\n    roundedClass() {\r\n      let output = `rounded-t-08 nexus:rounded-b-08`;\r\n      if (this.fullScreen === \"ipad\") {\r\n        output = \"\";\r\n      } else if (this.fullScreen === \"nexus\") {\r\n        output = `ipad:rounded-t-08 ipad:rounded-b-08`;\r\n      } else if (this.fullScreen === \"mobile\") {\r\n        output = `nexus:rounded-t-08 nexus:rounded-b-08`;\r\n      } else if (this.customBorderRadius) {\r\n        output = this.customBorderRadius;\r\n      }\r\n      return output;\r\n    },\r\n  },\r\n  watch: {\r\n    active(newValue) {\r\n      if (newValue) {\r\n        document.addEventListener(\"keyup\", this.handleKeyUp);\r\n        document.body.style.cssText = \"overflow:hidden\";\r\n      } else {\r\n        document.removeEventListener(\"keyup\", this.handleKeyUp);\r\n        document.body.style.cssText = \"\";\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    handleKeyUp(event) {\r\n      const escPressed = event?.key === \"Escape\";\r\n      const element = document.getElementById(this.eventName);\r\n      if (escPressed && this.active) {\r\n        this.closeModal();\r\n        document.removeEventListener(\"keyup\", this.handleKeyUp);\r\n      }\r\n      if (!this.active || !element) {\r\n        document.removeEventListener(\"keyup\", this.handleKeyUp);\r\n      }\r\n    },\r\n    closeModal() {\r\n      if (!this.preventClose) {\r\n        document.removeEventListener(\"keyup\", this.handleKeyUp);\r\n        this.$bus.$emit(this.eventName, false);\r\n      }\r\n    },\r\n  },\r\n  beforeDestroy() {\r\n    document.body.style.cssText = \"\";\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=64cedc62\"\nimport script from \"./Modal.vue?vue&type=script&lang=js\"\nexport * from \"./Modal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('Modal',{attrs:{\"active\":_vm.showModal,\"event-name\":'all-quotation-prices-modal',\"full-screen\":'nexus',\"custom-width\":'w-full ipad:w-[768px] ipadPro:w-[1024px]',\"custom-padding\":'p-spacing-0'}},[_c('div',{staticClass:\"h-full min-h-[400px] w-full\"},[_c('GeneralForm',{staticClass:\"flex-1\",attrs:{\"heading\":_vm.data?.companyName,\"sub-heading\":_vm.getSubHeading,\"show-submit-button\":false},on:{\"close-pressed\":_vm.handleClose},scopedSlots:_vm._u([{key:\"form-body\",fn:function(){return [_c('ClassicTable',{attrs:{\"headers\":_vm.quotationHeaders,\"sort-key\":_vm.sortKey,\"sort-order\":_vm.sortOrder,\"horizontal-padding\":'px-spacing-0',\"bgClass\":'bg-transparent'},on:{\"fetch-sorted-data\":_vm.handleSort},scopedSlots:_vm._u([{key:\"table-body\",fn:function(){return _vm._l((_vm.computedQuotations),function(quotation,index){return _c('tr',{key:index,staticClass:\"border-b border-stroke-medium text-body/m/relaxed/400 text-content-on-neutral-primary\"},[_c('td',{staticClass:\"py-spacing-100 pr-spacing-100\"},[_c('p',[(quotation?.marketResearchId?._id)?_c('span',{staticClass:\"cursor-pointer\",on:{\"click\":function($event){$event.stopPropagation();return _vm.goToMarketResearch(quotation)}}},[_vm._v(_vm._s(quotation?.marketResearchId?.name))]):_c('span',[_vm._v(_vm._s(quotation?.type))]),(quotation?.latest)?_c('span',{staticClass:\"ml-spacing-50 rounded-04 bg-bg-status-success px-spacing-50 py-spacing-0 text-overline/s/relaxed/500 text-content-on-status-on-success\"},[_vm._v(\" LATEST \")]):_vm._e()])]),_c('td',{staticClass:\"py-spacing-100 pr-spacing-100\"},[_vm._v(\" \"+_vm._s(_vm._f(\"toCurrency\")(quotation?.price))+\" \")]),_c('td',{staticClass:\"py-spacing-100 pr-spacing-100\"},[_vm._v(\" \"+_vm._s(_vm._f(\"toCurrency\")(quotation?.calculatedPrice))+\" \")]),_c('td',{staticClass:\"py-spacing-100 pr-spacing-100\"},[_vm._v(\" \"+_vm._s(_vm._f(\"toDate\")(quotation?.dateOfPriceAdded))+\" \")]),_c('td',{staticClass:\"py-spacing-100 pr-spacing-100\"},[(quotation?.quotationFile)?_c('DownloadAndView',{attrs:{\"file\":quotation?.quotationFile}}):_c('span',{staticClass:\"text-content-on-neutral-tertiary\"},[_vm._v(\"Not Available\")])],1)])})},proxy:true}])})]},proxy:true}])})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Modal\r\n    :active=\"showModal\"\r\n    :event-name=\"'all-quotation-prices-modal'\"\r\n    :full-screen=\"'nexus'\"\r\n    :custom-width=\"'w-full ipad:w-[768px] ipadPro:w-[1024px]'\"\r\n    :custom-padding=\"'p-spacing-0'\"\r\n  >\r\n    <div class=\"h-full min-h-[400px] w-full\">\r\n      <GeneralForm\r\n        :heading=\"data?.companyName\"\r\n        :sub-heading=\"getSubHeading\"\r\n        :show-submit-button=\"false\"\r\n        @close-pressed=\"handleClose\"\r\n        class=\"flex-1\"\r\n      >\r\n        <template #form-body>\r\n          <ClassicTable\r\n            :headers=\"quotationHeaders\"\r\n            @fetch-sorted-data=\"handleSort\"\r\n            :sort-key=\"sortKey\"\r\n            :sort-order=\"sortOrder\"\r\n            :horizontal-padding=\"'px-spacing-0'\"\r\n            :bgClass=\"'bg-transparent'\"\r\n          >\r\n            <template #table-body>\r\n              <tr\r\n                v-for=\"(quotation, index) in computedQuotations\"\r\n                class=\"border-b border-stroke-medium text-body/m/relaxed/400 text-content-on-neutral-primary\"\r\n                :key=\"index\"\r\n              >\r\n                <td class=\"py-spacing-100 pr-spacing-100\">\r\n                  <p>\r\n                    <span\r\n                      v-if=\"quotation?.marketResearchId?._id\"\r\n                      @click.stop=\"goToMarketResearch(quotation)\"\r\n                      class=\"cursor-pointer\"\r\n                      >{{ quotation?.marketResearchId?.name }}</span\r\n                    >\r\n                    <span v-else>{{ quotation?.type }}</span>\r\n                    <span\r\n                      v-if=\"quotation?.latest\"\r\n                      class=\"ml-spacing-50 rounded-04 bg-bg-status-success px-spacing-50 py-spacing-0 text-overline/s/relaxed/500 text-content-on-status-on-success\"\r\n                    >\r\n                      LATEST\r\n                    </span>\r\n                  </p>\r\n                </td>\r\n                <td class=\"py-spacing-100 pr-spacing-100\">\r\n                  {{ quotation?.price | toCurrency }}\r\n                </td>\r\n                <td class=\"py-spacing-100 pr-spacing-100\">\r\n                  {{ quotation?.calculatedPrice | toCurrency }}\r\n                </td>\r\n                <td class=\"py-spacing-100 pr-spacing-100\">\r\n                  {{ quotation?.dateOfPriceAdded | toDate }}\r\n                </td>\r\n                <td class=\"py-spacing-100 pr-spacing-100\">\r\n                  <DownloadAndView\r\n                    v-if=\"quotation?.quotationFile\"\r\n                    :file=\"quotation?.quotationFile\"\r\n                  />\r\n                  <span v-else class=\"text-content-on-neutral-tertiary\"\r\n                    >Not Available</span\r\n                  >\r\n                </td>\r\n              </tr>\r\n            </template>\r\n          </ClassicTable>\r\n        </template>\r\n      </GeneralForm>\r\n    </div>\r\n  </Modal>\r\n</template>\r\n\r\n<script>\r\nimport Modal from \"@/components/General/Modal.vue\";\r\nexport default {\r\n  components: {\r\n    Modal,\r\n    GeneralForm: () => import(\"@/components/General/Form.vue\"),\r\n    ClassicTable: () => import(\"@/components/General/Table/ClassicTable.vue\"),\r\n    DownloadAndView: () => import(\"@/components/Quotation/DownloadAndView.vue\"),\r\n  },\r\n  data() {\r\n    return {\r\n      showModal: false,\r\n      data: null,\r\n      sortKey: \"dateOfPriceAdded\",\r\n      sortOrder: \"desc\",\r\n    };\r\n  },\r\n  computed: {\r\n    computedQuotations() {\r\n      if (!this.data?.allQuotations?.length) {\r\n        return [];\r\n      }\r\n      // Map with calculatedPrice\r\n      let output = this.data.allQuotations.map((item) => ({\r\n        ...item,\r\n        calculatedPrice: item.price * (item?.variableId?.coefficient || 1),\r\n      }));\r\n\r\n      // Mark the first item as `latest`\r\n      output[0].latest = true;\r\n\r\n      // Sorting logic\r\n      if (this.sortKey === \"dateOfPriceAdded\") {\r\n        if (this.sortOrder === \"asc\") {\r\n          output = output?.reverse();\r\n        }\r\n      } else if (\r\n        this.sortKey === \"price\" ||\r\n        this.sortKey === \"calculatedPrice\"\r\n      ) {\r\n        output = output.sort((a, b) =>\r\n          this.sortOrder === \"asc\" ? a.price - b.price : b.price - a.price,\r\n        );\r\n      }\r\n      return output;\r\n    },\r\n\r\n    quotationHeaders() {\r\n      let output = [\r\n        { key: \"origin\", value: `Origin`, sortable: false },\r\n        { key: \"price\", value: `Price/UNIT`, sortable: true },\r\n        { key: \"calculatedPrice\", value: `=Price/UNIT`, sortable: true },\r\n        { key: \"dateOfPriceAdded\", value: `Date added`, sortable: true },\r\n        { key: \"quotation\", value: `Quotation` },\r\n      ];\r\n\r\n      if (this.data?.unit) {\r\n        output = [\r\n          { key: \"origin\", value: `Origin`, sortable: false },\r\n          {\r\n            key: \"price\",\r\n            value: `Price/${this.data?.unit}`,\r\n            sortable: true,\r\n          },\r\n          {\r\n            key: \"=price\",\r\n            value: `=Price/${this.data?.unit}`,\r\n            sortable: true,\r\n          },\r\n          { key: \"dateOfPriceAdded\", value: `Date added`, sortable: true },\r\n          { key: \"quotation\", value: `Quotation` },\r\n        ];\r\n      }\r\n\r\n      return output;\r\n    },\r\n    getSubHeading() {\r\n      let output = \"\";\r\n      if (this.data?.productName) {\r\n        output = `${this.data?.productName} - [${\r\n          this.data?.allQuotations?.[0]?.variableId?.name || \"default\"\r\n        }, ${this.data?.allQuotations?.[0]?.variableId?.coefficient || 1}]`;\r\n      }\r\n      return output;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$bus.$on(\"all-quotation-prices-modal\", (data) => {\r\n      if (data?.showModal) {\r\n        this.showModal = data?.showModal;\r\n        this.data = data?.data;\r\n      } else {\r\n        this.showModal = false;\r\n        this.data = null;\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    goToMarketResearch(quotation) {\r\n      console.log(\"quotation\", quotation);\r\n      this.$router.push({\r\n        path: `/dashboard/market-researches/${quotation?.marketResearchId?._id}`,\r\n        query: {\r\n          companyId: this.data?._id,\r\n          productId: quotation?.variableId?._id\r\n            ? quotation?.variableId?._id\r\n            : quotation?.productId,\r\n        },\r\n      });\r\n    },\r\n    handleClose() {\r\n      this.$bus.$emit(\"all-quotation-prices-modal\", { showModal: false });\r\n    },\r\n    handleSort({ sortKey, sortOrder }) {\r\n      this.sortKey = sortKey;\r\n      this.sortOrder = sortOrder;\r\n    },\r\n  },\r\n  beforeDestroy() {\r\n    this.$bus.$off(\"all-quotation-prices-modal\");\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AllQuotationPricesModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AllQuotationPricesModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AllQuotationPricesModal.vue?vue&type=template&id=9808140a\"\nimport script from \"./AllQuotationPricesModal.vue?vue&type=script&lang=js\"\nexport * from \"./AllQuotationPricesModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","active","staticClass","class","customOverlay","eventName","on","$event","target","currentTarget","closeModal","customClass","_t","_e","staticRenderFns","props","required","type","Boolean","String","preventClose","customStyle","Array","default","customBackground","fullScreen","customVerticalPadding","customHorizontalPadding","customPadding","customWidth","customHeight","customBorderRadius","computed","widthClass","paddingClass","heightClass","roundedClass","backgroundClass","output","watch","newValue","document","addEventListener","handleKeyUp","body","style","cssText","removeEventListener","methods","event","escPressed","key","element","getElementById","$bus","$emit","beforeDestroy","component","showModal","data","companyName","getSubHeading","handleClose","scopedSlots","_u","fn","quotationHeaders","sortKey","sortOrder","handleSort","_l","computedQuotations","quotation","index","marketResearchId","_id","stopPropagation","goToMarketResearch","_v","_s","name","latest","_f","price","calculatedPrice","dateOfPriceAdded","quotationFile","proxy","components","Modal","GeneralForm","ClassicTable","DownloadAndView","allQuotations","length","map","item","variableId","coefficient","reverse","sort","a","b","value","sortable","unit","productName","mounted","$on","console","log","$router","push","path","query","companyId","productId","$off"],"sourceRoot":""}