{"version":3,"file":"js/7084.554d2b14.js","mappings":"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","sources":["webpack://construction-commercial-search-frontend/./src/components/General/Form.vue","webpack://construction-commercial-search-frontend/src/components/General/Form.vue","webpack://construction-commercial-search-frontend/./src/components/General/Form.vue?d4ee","webpack://construction-commercial-search-frontend/./src/components/General/Form.vue?a0af","webpack://construction-commercial-search-frontend/./src/components/MapComponent/SelectLocation.vue","webpack://construction-commercial-search-frontend/src/components/MapComponent/SelectLocation.vue","webpack://construction-commercial-search-frontend/./src/components/MapComponent/SelectLocation.vue?e0bb","webpack://construction-commercial-search-frontend/./src/components/MapComponent/SelectLocation.vue?a047"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{staticClass:\"relative flex h-full w-full flex-col bg-bg-neutral-default ipad:max-h-[90dvh]\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit()}}},[_c('div',{staticClass:\"sticky top-spacing-0 z-[100] w-full bg-bg-neutral-default px-spacing-200 pb-spacing-200 pt-spacing-300 ipad:px-spacing-300 ipad:pt-spacing-400\"},[(_vm.showBackButton)?_c('div',{staticClass:\"absolute left-spacing-200 top-spacing-300 cursor-pointer ipad:left-spacing-300\",on:{\"click\":function($event){return _vm.handleBack()}}},[_c('IconArrowLeft',{staticClass:\"h-spacing-300 w-spacing-300 text-content-on-neutral-secondary hover:text-content-on-neutral-primary\"})],1):_vm._e(),(_vm.heading)?_c('h2',{staticClass:\"m-auto max-w-[85%] text-center text-overline/l/relaxed/500 text-content-on-neutral-secondary ipad:text-overline/xl/relaxed/500\"},[_vm._v(\" \"+_vm._s(_vm.heading?.toUpperCase())+\" \"),(_vm.subHeading)?_c('p',{staticClass:\"text-body/m/relaxed/400 text-content-on-neutral-tertiary\"},[_vm._v(\" \"+_vm._s(_vm.subHeading)+\" \")]):_vm._e()]):_vm._e(),(_vm.showCloseButton)?_c('div',{staticClass:\"absolute right-spacing-200 top-spacing-300 cursor-pointer ipad:right-spacing-300\",on:{\"click\":function($event){return _vm.handleClose()}}},[_c('IconX',{staticClass:\"h-spacing-300 w-spacing-300 text-content-on-neutral-secondary hover:text-content-on-neutral-primary\"})],1):_vm._e()]),_c('div',{staticClass:\"relative flex-1 overflow-y-auto px-spacing-200 py-spacing-50 ipad:px-spacing-300\"},[_vm._t(\"form-body\")],2),(_vm.showSubmitButton && !_vm.showCustomButtons)?_c('div',{staticClass:\"sticky bottom-0 z-[100] flex w-full items-center gap-spacing-200 bg-bg-neutral-default px-spacing-200 pb-spacing-200 pt-spacing-200 ipad:px-spacing-300\"},[(_vm.formType === 'delete')?_c('div',{staticClass:\"flex-1\",on:{\"click\":function($event){return _vm.handleClose()}}},[_c('GeneralButton',{attrs:{\"button-type\":'button',\"type\":'neutral',\"size\":'large',\"emphasis\":'primary',\"icon-position\":'none',\"label\":'Cancel',\"is-loading\":false,\"is-disabled\":false}})],1):_vm._e(),_c('div',{staticClass:\"flex-1\",on:{\"click\":function($event){return _vm.handleSubmit()}}},[_c('GeneralButton',{attrs:{\"button-type\":'button',\"type\":_vm.submitButtonType,\"size\":'large',\"emphasis\":'primary',\"icon-position\":'none',\"label\":_vm.submitButtonLabel,\"is-loading\":_vm.isFormSubmitting,\"is-disabled\":_vm.submitButtonDisabled}})],1)]):(_vm.showCustomButtons && _vm.customButtons?.length > 0)?_c('div',{staticClass:\"sticky bottom-0 z-[100] flex w-full items-center gap-spacing-200 bg-bg-neutral-default px-spacing-200 pb-spacing-200 pt-spacing-200 ipad:px-spacing-300\"},_vm._l((_vm.customButtons),function(button,index){return _c('GeneralButton',{key:index,staticClass:\"flex-1\",attrs:{\"button-type\":'button',\"type\":button?.type,\"size\":'large',\"emphasis\":button?.emphasis,\"icon-position\":'none',\"label\":button?.label,\"is-loading\":_vm.isFormSubmitting,\"is-disabled\":button?.isDisabled},nativeOn:{\"click\":function($event){return _vm.handleSubmit(button?.payload)}}})}),1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <form\r\n    @submit.prevent=\"handleSubmit()\"\r\n    class=\"relative flex h-full w-full flex-col bg-bg-neutral-default ipad:max-h-[90dvh]\"\r\n  >\r\n    <!-- Header Start -->\r\n    <div\r\n      class=\"sticky top-spacing-0 z-[100] w-full bg-bg-neutral-default px-spacing-200 pb-spacing-200 pt-spacing-300 ipad:px-spacing-300 ipad:pt-spacing-400\"\r\n    >\r\n      <!-- Back Button -->\r\n      <div\r\n        v-if=\"showBackButton\"\r\n        class=\"absolute left-spacing-200 top-spacing-300 cursor-pointer ipad:left-spacing-300\"\r\n        @click=\"handleBack()\"\r\n      >\r\n        <IconArrowLeft\r\n          class=\"h-spacing-300 w-spacing-300 text-content-on-neutral-secondary hover:text-content-on-neutral-primary\"\r\n        />\r\n      </div>\r\n\r\n      <!-- Heading -->\r\n      <h2\r\n        v-if=\"heading\"\r\n        class=\"m-auto max-w-[85%] text-center text-overline/l/relaxed/500 text-content-on-neutral-secondary ipad:text-overline/xl/relaxed/500\"\r\n      >\r\n        {{ heading?.toUpperCase() }}\r\n        <p\r\n          v-if=\"subHeading\"\r\n          class=\"text-body/m/relaxed/400 text-content-on-neutral-tertiary\"\r\n        >\r\n          {{ subHeading }}\r\n        </p>\r\n      </h2>\r\n\r\n      <!-- Close Button -->\r\n      <div\r\n        v-if=\"showCloseButton\"\r\n        class=\"absolute right-spacing-200 top-spacing-300 cursor-pointer ipad:right-spacing-300\"\r\n        @click=\"handleClose()\"\r\n      >\r\n        <IconX\r\n          class=\"h-spacing-300 w-spacing-300 text-content-on-neutral-secondary hover:text-content-on-neutral-primary\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <!-- Header End -->\r\n\r\n    <!-- Form Body -->\r\n    <div\r\n      class=\"relative flex-1 overflow-y-auto px-spacing-200 py-spacing-50 ipad:px-spacing-300\"\r\n    >\r\n      <slot name=\"form-body\" />\r\n    </div>\r\n\r\n    <!-- Footer Start -->\r\n    <div\r\n      v-if=\"showSubmitButton && !showCustomButtons\"\r\n      class=\"sticky bottom-0 z-[100] flex w-full items-center gap-spacing-200 bg-bg-neutral-default px-spacing-200 pb-spacing-200 pt-spacing-200 ipad:px-spacing-300\"\r\n    >\r\n      <div v-if=\"formType === 'delete'\" @click=\"handleClose()\" class=\"flex-1\">\r\n        <GeneralButton\r\n          :button-type=\"'button'\"\r\n          :type=\"'neutral'\"\r\n          :size=\"'large'\"\r\n          :emphasis=\"'primary'\"\r\n          :icon-position=\"'none'\"\r\n          :label=\"'Cancel'\"\r\n          :is-loading=\"false\"\r\n          :is-disabled=\"false\"\r\n        />\r\n      </div>\r\n      <div @click=\"handleSubmit()\" class=\"flex-1\">\r\n        <GeneralButton\r\n          :button-type=\"'button'\"\r\n          :type=\"submitButtonType\"\r\n          :size=\"'large'\"\r\n          :emphasis=\"'primary'\"\r\n          :icon-position=\"'none'\"\r\n          :label=\"submitButtonLabel\"\r\n          :is-loading=\"isFormSubmitting\"\r\n          :is-disabled=\"submitButtonDisabled\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div\r\n      v-else-if=\"showCustomButtons && customButtons?.length > 0\"\r\n      class=\"sticky bottom-0 z-[100] flex w-full items-center gap-spacing-200 bg-bg-neutral-default px-spacing-200 pb-spacing-200 pt-spacing-200 ipad:px-spacing-300\"\r\n    >\r\n      <GeneralButton\r\n        v-for=\"(button, index) in customButtons\"\r\n        :key=\"index\"\r\n        :button-type=\"'button'\"\r\n        :type=\"button?.type\"\r\n        :size=\"'large'\"\r\n        :emphasis=\"button?.emphasis\"\r\n        :icon-position=\"'none'\"\r\n        :label=\"button?.label\"\r\n        :is-loading=\"isFormSubmitting\"\r\n        :is-disabled=\"button?.isDisabled\"\r\n        @click.native=\"handleSubmit(button?.payload)\"\r\n        class=\"flex-1\"\r\n      />\r\n    </div>\r\n    <!-- Footer End -->\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    heading: {\r\n      type: String,\r\n      required: false,\r\n    },\r\n    subHeading: {\r\n      type: String,\r\n      required: false,\r\n    },\r\n    showCloseButton: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    showBackButton: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    showSubmitButton: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    submitButtonLabel: {\r\n      type: String,\r\n      default: \"Add\",\r\n    },\r\n    submitButtonType: {\r\n      type: String,\r\n      default: \"success\",\r\n    },\r\n    submitButtonDisabled: {\r\n      type: Boolean,\r\n      default: false,\r\n      required: false,\r\n    },\r\n    isFormSubmitting: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    formType: {\r\n      type: String,\r\n      default: \"input\",\r\n    },\r\n    customButtons: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    showCustomButtons: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  components: {\r\n    IconX: () => import(\"@/components/svgIcons/x.vue\"),\r\n    IconArrowLeft: () => import(\"@/components/svgIcons/arrow-left.vue\"),\r\n    GeneralButton: () => import(\"@/components/General/CustomButton.vue\"),\r\n  },\r\n  methods: {\r\n    handleSubmit(payload) {\r\n      if (payload) {\r\n        this.$emit(\"form-submitted\", payload);\r\n      } else {\r\n        this.$emit(\"form-submitted\");\r\n      }\r\n    },\r\n    handleBack() {\r\n      this.$emit(\"back-pressed\");\r\n    },\r\n    handleClose() {\r\n      this.$emit(\"close-pressed\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=0109a3da\"\nimport script from \"./Form.vue?vue&type=script&lang=js\"\nexport * from \"./Form.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex h-full min-h-[90dvh] w-full flex-col\"},[_c('GeneralForm',{staticClass:\"flex-1\",attrs:{\"heading\":_vm.update ? 'Update Location' : 'Select Location',\"sub-heading\":\"Click on map to select a location\",\"showCloseButton\":false,\"submit-button-label\":\"Confirm\"},on:{\"form-submitted\":_vm.handleSubmit},scopedSlots:_vm._u([{key:\"form-body\",fn:function(){return [(_vm.selectedLocation)?_c('p',{staticClass:\"mb-spacing-200 text-body/m/relaxed/400 text-content-on-neutral-primary\"},[_c('span',{staticClass:\"text-body/l/relaxed/500\"},[_vm._v(\"Selected Location: \")]),_vm._v(\" \"+_vm._s(`${_vm.selectedLocation?.display_name || \"\"} (Lat: ${Number( _vm.selectedLocation?.lat, )?.toFixed(2)}, Long: ${Number(_vm.selectedLocation?.lon)?.toFixed(2)})`)+\" \")]):_vm._e(),_c('div',{staticClass:\"pointer-events-auto h-full w-full flex-1 cursor-default rounded-12 shadow-card\",attrs:{\"id\":_vm.mapContainerId}})]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"flex h-full min-h-[90dvh] w-full flex-col\">\r\n    <GeneralForm\r\n      :heading=\"update ? 'Update Location' : 'Select Location'\"\r\n      sub-heading=\"Click on map to select a location\"\r\n      :showCloseButton=\"false\"\r\n      @form-submitted=\"handleSubmit\"\r\n      submit-button-label=\"Confirm\"\r\n      class=\"flex-1\"\r\n    >\r\n      <template #form-body>\r\n        <p\r\n          v-if=\"selectedLocation\"\r\n          class=\"mb-spacing-200 text-body/m/relaxed/400 text-content-on-neutral-primary\"\r\n        >\r\n          <!-- This should be the location with lat, lon, name, etc. -->\r\n          <span class=\"text-body/l/relaxed/500\">Selected Location: </span>\r\n          {{\r\n            `${selectedLocation?.display_name || \"\"} (Lat: ${Number(\r\n              selectedLocation?.lat,\r\n            )?.toFixed(2)}, Long: ${Number(selectedLocation?.lon)?.toFixed(2)})`\r\n          }}\r\n        </p>\r\n        <div\r\n          :id=\"mapContainerId\"\r\n          class=\"pointer-events-auto h-full w-full flex-1 cursor-default rounded-12 shadow-card\"\r\n        />\r\n      </template>\r\n    </GeneralForm>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport GeneralForm from \"@/components/General/Form.vue\";\r\nimport L from \"leaflet\";\r\nimport {\r\n  getCurrentLocation,\r\n  initializeMap,\r\n} from \"@/utilities/helpers/locationServices\";\r\nimport axios from \"axios\";\r\nimport { debounce } from \"lodash\";\r\n\r\nexport default {\r\n  props: {\r\n    mapContainerId: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    selectedLocationCoords: {\r\n      type: Object,\r\n      required: false,\r\n      default: () => ({}),\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      map: null,\r\n      markers: [],\r\n      userLocation: [],\r\n      selectedLocation: null,\r\n      selectionMarker: null,\r\n      update: false,\r\n    };\r\n  },\r\n  components: { GeneralForm },\r\n  async mounted() {\r\n    try {\r\n      await this.initMap();\r\n    } catch (error) {\r\n      this.$toast.error(\"Error initializing the map. Please try again.\");\r\n      console.error(\"Error initializing map:\", error);\r\n    }\r\n  },\r\n  methods: {\r\n    async initMap() {\r\n      try {\r\n        this.map = initializeMap(this.mapContainerId);\r\n        if (!this.map) throw new Error(\"Map initialization failed\");\r\n\r\n        this.userLocation = await getCurrentLocation();\r\n        this.addMarker(this.userLocation, \"You are here\", true);\r\n\r\n        // Preselect default location if provided\r\n        if (\r\n          this.selectedLocationCoords?.lat &&\r\n          this.selectedLocationCoords?.lon\r\n        ) {\r\n          this.selectedLocation = {\r\n            lat: this.selectedLocationCoords.lat,\r\n            lon: this.selectedLocationCoords.lon,\r\n          };\r\n          await this.fetchLocation(\r\n            this.selectedLocationCoords.lat,\r\n            this.selectedLocationCoords.lon,\r\n          );\r\n        }\r\n\r\n        this.map.on(\"click\", this.onMapClick);\r\n      } catch (error) {\r\n        this.$toast.error(error);\r\n      }\r\n    },\r\n\r\n    clearMarkers() {\r\n      this.markers.forEach((marker) => this.map.removeLayer(marker));\r\n      this.markers = [];\r\n    },\r\n\r\n    addMarker(coords, popupContent, openPopup = false) {\r\n      const marker = L.marker(coords).addTo(this.map);\r\n      marker.bindPopup(\r\n        `<div class=\"text-content-on-neutral-primary text-body/l/relaxed/500 bg-bg-neutral-raised w-full h-full font-sans\">${popupContent}</div>`,\r\n      );\r\n      if (openPopup) marker.openPopup();\r\n      this.markers.push(marker);\r\n    },\r\n\r\n    onMapClick(event) {\r\n      const { lat, lng: lon } = event.latlng;\r\n      this.selectedLocation = { lat, lon };\r\n      this.debouncedFetchLocation(lat, lon);\r\n    },\r\n\r\n    async fetchLocation(lat, lon) {\r\n      try {\r\n        this.updateSelectionMarker(\r\n          [lat, lon],\r\n          `<span class=\"text-constant-brand-primary\">Fetching Location...</span>`,\r\n        );\r\n        const { data } = await axios.get(\r\n          \"https://nominatim.openstreetmap.org/reverse\",\r\n          {\r\n            params: { lat, lon, format: \"json\" },\r\n          },\r\n        );\r\n        const locationName =\r\n          data?.display_name ||\r\n          `Lat: ${lat?.toFixed(5)}, Long: ${lon?.toFixed(5)}`;\r\n\r\n        this.selectedLocation = { lat, lon, display_name: locationName };\r\n        this.updateSelectionMarker(\r\n          [lat, lon],\r\n          `Selected Location: <br/><span class=\"text-body/m/relaxed/400\">${locationName}</span>`,\r\n        );\r\n      } catch (error) {\r\n        this.$toast.error(\r\n          \"Failed to fetch the location details. Please try again.\",\r\n        );\r\n        // Fallback to coordinates only\r\n        this.selectedLocation = { lat, lon, display_name: null };\r\n        this.updateSelectionMarker(\r\n          [lat, lon],\r\n          `Lat: ${lat?.toFixed(5)}, Long: ${lon?.toFixed(5)}`,\r\n        );\r\n      }\r\n    },\r\n\r\n    debouncedFetchLocation: debounce(function (lat, lon) {\r\n      this.fetchLocation(lat, lon);\r\n    }, 500),\r\n\r\n    updateSelectionMarker(coords, popupContent) {\r\n      if (this.selectionMarker) {\r\n        this.map.removeLayer(this.selectionMarker);\r\n      }\r\n      this.selectionMarker = L.marker(coords, { draggable: true }).addTo(\r\n        this.map,\r\n      );\r\n\r\n      this.selectionMarker\r\n        .bindPopup(\r\n          `<div class=\"text-content-on-neutral-primary text-body/l/relaxed/500 bg-bg-neutral-raised w-full h-full font-sans\">${popupContent}</div>`,\r\n        )\r\n        .openPopup();\r\n\r\n      this.selectionMarker.on(\"dragend\", (event) => {\r\n        const { lat, lng } = event?.target?.getLatLng();\r\n        this.selectedLocation = { lat, lon: lng };\r\n        this.debouncedFetchLocation(lat, lng);\r\n      });\r\n    },\r\n\r\n    handleSubmit() {\r\n      if (!this.selectedLocation) {\r\n        this.$toast.error(\"Please select a location before submitting.\");\r\n        return;\r\n      }\r\n      this.$bus.$emit(\"set-company-location\", this.selectedLocation);\r\n      this.handleClose();\r\n    },\r\n    handleClose() {\r\n      this.$bus.$emit(\"company-map-modal\", false);\r\n    },\r\n  },\r\n  beforeDestroy() {\r\n    if (this.map) {\r\n      this.map.off();\r\n      this.map.remove();\r\n    }\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectLocation.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectLocation.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SelectLocation.vue?vue&type=template&id=343a2cd8\"\nimport script from \"./SelectLocation.vue?vue&type=script&lang=js\"\nexport * from \"./SelectLocation.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","on","$event","preventDefault","handleSubmit","showBackButton","handleBack","_e","heading","_v","_s","toUpperCase","subHeading","showCloseButton","handleClose","_t","showSubmitButton","showCustomButtons","formType","attrs","submitButtonType","submitButtonLabel","isFormSubmitting","submitButtonDisabled","customButtons","length","_l","button","index","key","type","emphasis","label","isDisabled","nativeOn","payload","staticRenderFns","props","String","required","Boolean","default","Array","components","IconX","IconArrowLeft","GeneralButton","methods","$emit","component","update","scopedSlots","_u","fn","selectedLocation","display_name","Number","lat","toFixed","lon","mapContainerId","proxy","selectedLocationCoords","Object","data","map","markers","userLocation","selectionMarker","GeneralForm","mounted","initMap","error","$toast","console","initializeMap","Error","getCurrentLocation","addMarker","fetchLocation","onMapClick","clearMarkers","forEach","marker","removeLayer","coords","popupContent","openPopup","L","addTo","bindPopup","push","event","lng","latlng","debouncedFetchLocation","updateSelectionMarker","axios","get","params","format","locationName","debounce","draggable","target","getLatLng","$bus","beforeDestroy","off","remove"],"sourceRoot":""}