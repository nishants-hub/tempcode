"use strict";(self.webpackChunkconstruction_commercial_search_frontend=self.webpackChunkconstruction_commercial_search_frontend||[]).push([[2775],{22775:function(e,t,a){a.r(t),a.d(t,{default:function(){return n}});var r=(a(44114),{props:{prices:{type:Array,required:!1,default:()=>[]},companyId:{type:String,required:!0}},components:{ClassicTable:()=>a.e(440).then(a.bind(a,30440)),DownloadAndView:()=>a.e(1004).then(a.bind(a,71004)),Search:()=>a.e(8130).then(a.bind(a,8130))},data:()=>({headers:[{key:"origin",value:"Origin",sortable:!1},{key:"productName",value:"Product",sortable:!1},{key:"price",value:"Price",sortable:!1},{key:"=price",value:"=Price",sortable:!1},{key:"unit",value:"Unit",sortable:!1},{key:"score",value:"Score",sortable:!1},{key:"mr",value:"MR",sortable:!1},{key:"dateInput",value:"Date Input",sortable:!1},{key:"quotation",value:"Quotation",sortable:!1}],productName:"",marketResearchName:""}),computed:{filteredPrices(){let e=[...this.prices];return this.productName&&(e=e?.filter((e=>e?.productId?.title?.toLowerCase().includes(this.productName?.trim()?.toLowerCase())))),this.marketResearchName&&(e=e?.filter((e=>e?.marketResearchId?.name?.toLowerCase().includes(this.marketResearchName?.trim()?.toLowerCase())))),e}},methods:{goToMarketResearch(e){this.$router.push({path:`/dashboard/market-researches/${e?.marketResearchId?._id}`,query:{companyId:this.companyId,productId:e?.variableId?._id?e?.variableId?._id:e?.productId?._id}})},searchByProductName(e){this.productName=e},searchByMRName(e){this.marketResearchName=e}}}),s=r,c=(0,a(81656).A)(s,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"py-spacing-100"},[t("div",{staticClass:"mb-spacing-100 flex flex-col gap-spacing-200 ipad:flex-row ipad:items-center"},[t("h3",{staticClass:"text-overline/l/relaxed/500 text-content-on-neutral-primary"},[e._v(" PRICES ")]),t("Search",{attrs:{placeholder:"Search...",label:"Product","search-id":"product-name-search"},on:{search:e.searchByProductName}}),t("Search",{attrs:{placeholder:"Search...",label:"Market Research","search-id":"market-research-name-search"},on:{search:e.searchByMRName}})],1),t("ClassicTable",{staticClass:"mt-spacing-200",attrs:{headers:e.headers,bgClass:"bg-transparent","horizontal-padding":"px-spacing-0"},scopedSlots:e._u([e.filteredPrices?.length>0?{key:"table-body",fn:function(){return e._l(e.filteredPrices,(function(a,r){return t("tr",{key:r,staticClass:"border-b border-stroke-medium text-left text-body/m/relaxed/400 text-content-on-neutral-primary ipad:text-body/l/relaxed/400"},[t("td",{staticClass:"py-spacing-100 pr-spacing-100"},[t("span",{staticClass:"text-body/m/relaxed/400 text-content-on-neutral-secondary"},[e._v(e._s(e._f("toDate")(a?.marketResearchId?.dateStart)))]),t("p",a?.marketResearchId?._id?{staticClass:"cursor-pointer hover:text-hover-constant-brand-primary",domProps:{innerHTML:e._s(e.$highlightMatch(a?.marketResearchId?.name,e.marketResearchName))},on:{click:function(t){return t.stopPropagation(),e.goToMarketResearch(a)}}}:[e._v(" "+e._s(a?.type)+" ")])]),t("td",{staticClass:"py-spacing-100 pr-spacing-100"},[t("span",{staticClass:"text-body/m/relaxed/400 italic text-content-on-neutral-secondary"},a?.variableId?[e._v("["+e._s(a?.variableId?.name)+", "+e._s(a?.variableId?.coefficient)+"]")]:[e._v("[default, 1]")]),t("p",{domProps:{innerHTML:e._s(e.$highlightMatch(a?.productId?.title,e.productName))}})]),t("td",{staticClass:"whitespace-nowrap py-spacing-100 pr-spacing-100"},[e._v(" "+e._s(e._f("toCurrency")(a?.price))+" ")]),t("td",{staticClass:"py-spacing-100 pr-spacing-100"},[e._v(" "+e._s(e._f("toCurrency")(a?.price*(a?.variableId?.coefficient||1)))+" ")]),t("td",{staticClass:"py-spacing-100 pr-spacing-100 text-content-on-neutral-secondary"},[e._v(" "+e._s(a?.productId?.productDetails?.unit||"UNIT")+" ")]),t("td",{staticClass:"py-spacing-100 pr-spacing-100 text-content-on-neutral-secondary"},[e._v(" NA ")]),t("td",{staticClass:"py-spacing-100 pr-spacing-100 text-content-on-neutral-secondary"},[e._v(" NA ")]),t("td",{staticClass:"py-spacing-100 pr-spacing-100"},[e._v(" "+e._s(e._f("toDate")(a?.dateOfPriceAdded))+" ")]),t("td",{staticClass:"py-spacing-100 pr-spacing-100"},[a?.quotationFile?t("DownloadAndView",{attrs:{file:a?.quotationFile}}):t("p",{staticClass:"text-content-on-neutral-tertiary"},[e._v("Not Available")])],1)])}))},proxy:!0}:{key:"table-body",fn:function(){return[t("tr",[t("td",{attrs:{colspan:"9"}},[t("div",{staticClass:"flex flex-col items-center justify-center gap-spacing-200 py-spacing-1000 text-center text-headline/s/relaxed/500 text-content-on-neutral-tertiary"},[t("i",{staticClass:"fa fa-exclamation-circle scale-[1.5]"}),t("p",[e._v("No records found")])])])])]},proxy:!0}],null,!0)})],1)}),[],!1,null,null,null),n=c.exports}}]);