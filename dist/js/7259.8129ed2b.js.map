{"version":3,"file":"js/7259.8129ed2b.js","mappings":"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","sources":["webpack://construction-commercial-search-frontend/./src/components/General/FileUpload.vue","webpack://construction-commercial-search-frontend/src/components/General/FileUpload.vue","webpack://construction-commercial-search-frontend/./src/components/General/FileUpload.vue?3fef","webpack://construction-commercial-search-frontend/./src/components/General/FileUpload.vue?a4aa"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-col gap-spacing-100\"},[(_vm.label)?_c('label',{staticClass:\"text-body/m/relaxed/400\",class:_vm.isFocused\n        ? 'text-constant-brand-primary'\n        : 'text-content-on-neutral-secondary',attrs:{\"for\":\"file-upload\"}},[_vm._v(_vm._s(_vm.label))]):_vm._e(),_c('div',{staticClass:\"flex min-h-40 w-full cursor-pointer items-center justify-center rounded-10 border border-dashed border-stroke-bold text-content-on-neutral-secondary transition focus-within:border-solid focus-within:border-constant-brand-primary hover:border-constant-brand-primary\",attrs:{\"tabindex\":\"0\",\"id\":\"file-upload\"},on:{\"dragover\":function($event){$event.preventDefault();},\"drop\":_vm.handleDrop,\"paste\":_vm.handlePaste,\"focus\":function($event){_vm.isFocused = true},\"blur\":function($event){_vm.isFocused = false}}},[_c('p',{staticClass:\"p-spacing-200 text-center\"},[_vm._v(\" Drag & Drop files here, paste from clipboard, or \"),_c('a',{staticClass:\"cursor-pointer text-constant-brand-primary hover:underline\",attrs:{\"href\":\"#\",\"aria-label\":_vm.ariaLabel},on:{\"click\":function($event){$event.preventDefault();return _vm.triggerFileDialog.apply(null, arguments)}}},[_vm._v(\" Upload \")]),_c('br'),_c('span',{staticClass:\"text-body/m/relaxed/400 text-content-on-neutral-secondary\"},[_vm._v(\"Allowed File Types: \"+_vm._s(_vm.acceptedFileTypeString))])]),_c('input',{ref:\"fileInput\",staticClass:\"hidden\",attrs:{\"type\":\"file\",\"accept\":_vm.acceptedFileTypeString,\"multiple\":_vm.allowMultiple},on:{\"change\":_vm.handleFiles}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flex flex-col gap-spacing-100\">\n    <label\n      v-if=\"label\"\n      for=\"file-upload\"\n      class=\"text-body/m/relaxed/400\"\n      :class=\"\n        isFocused\n          ? 'text-constant-brand-primary'\n          : 'text-content-on-neutral-secondary'\n      \"\n      >{{ label }}</label\n    >\n    <div\n      @dragover.prevent\n      @drop=\"handleDrop\"\n      @paste=\"handlePaste\"\n      class=\"flex min-h-40 w-full cursor-pointer items-center justify-center rounded-10 border border-dashed border-stroke-bold text-content-on-neutral-secondary transition focus-within:border-solid focus-within:border-constant-brand-primary hover:border-constant-brand-primary\"\n      tabindex=\"0\"\n      @focus=\"isFocused = true\"\n      @blur=\"isFocused = false\"\n      id=\"file-upload\"\n    >\n      <p class=\"p-spacing-200 text-center\">\n        Drag & Drop files here, paste from clipboard, or\n        <a\n          href=\"#\"\n          class=\"cursor-pointer text-constant-brand-primary hover:underline\"\n          :aria-label=\"ariaLabel\"\n          @click.prevent=\"triggerFileDialog\"\n        >\n          Upload </a\n        ><br />\n        <span class=\"text-body/m/relaxed/400 text-content-on-neutral-secondary\"\n          >Allowed File Types: {{ acceptedFileTypeString }}</span\n        >\n      </p>\n      <input\n        type=\"file\"\n        ref=\"fileInput\"\n        @change=\"handleFiles\"\n        class=\"hidden\"\n        :accept=\"acceptedFileTypeString\"\n        :multiple=\"allowMultiple\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { FILE_VALIDATION_OBJECT } from \"@/utilities/constants/constants\";\n\nexport default {\n  props: {\n    label: {\n      type: String,\n    },\n    acceptedFileTypes: {\n      type: Array,\n      default: () => FILE_VALIDATION_OBJECT.DEFAULT.ALLOWED_FILE_EXTENSIONS,\n    },\n    allowMultiple: {\n      type: Boolean,\n      default: false,\n    },\n    ariaLabel: {\n      type: String,\n      default: \"Upload Files\",\n    },\n  },\n  data() {\n    return {\n      isFocused: false,\n    };\n  },\n  computed: {\n    acceptedFileTypeString() {\n      let output = this.acceptedFileTypes?.join(\",\");\n      return output;\n    },\n  },\n  methods: {\n    triggerFileDialog() {\n      this.$refs.fileInput.click();\n    },\n    handleFiles(event) {\n      const files = Array.from(event.target.files);\n      this.$refs.fileInput.value = null;\n      this.emitFiles(files);\n    },\n    handleDrop(event) {\n      event.preventDefault();\n      const files = Array.from(event.dataTransfer.files);\n      this.emitFiles(files);\n    },\n    handlePaste(event) {\n      if (!this.isFocused) return;\n      const clipboardItems = event.clipboardData?.items || [];\n      const files = Array.from(clipboardItems)\n        .filter((item) => item.kind === \"file\")\n        .map((item) => item.getAsFile());\n      this.emitFiles(files);\n    },\n    emitFiles(files) {\n      if (!files.length) return;\n      if (!this.allowMultiple && files.length > 1) {\n        return this.$toast.warning(\"Only one file is allowed.\");\n      }\n      files.forEach((file) => {\n        const fileExtension = file?.name?.slice(file?.name?.lastIndexOf(\".\"));\n        if (!this.acceptedFileTypes.includes(fileExtension?.toLowerCase())) {\n          this.$toast.warning(\n            `Invalid file type for ${file.name}. Please upload a valid file.`,\n          );\n          return;\n        }\n      });\n      this.$emit(\"files-uploaded\", files);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileUpload.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileUpload.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FileUpload.vue?vue&type=template&id=ae86a022\"\nimport script from \"./FileUpload.vue?vue&type=script&lang=js\"\nexport * from \"./FileUpload.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","label","class","isFocused","attrs","_v","_s","_e","on","$event","preventDefault","handleDrop","handlePaste","ariaLabel","triggerFileDialog","apply","arguments","acceptedFileTypeString","ref","allowMultiple","handleFiles","staticRenderFns","props","type","String","acceptedFileTypes","Array","default","FILE_VALIDATION_OBJECT","DEFAULT","ALLOWED_FILE_EXTENSIONS","Boolean","data","computed","output","join","methods","$refs","fileInput","click","event","files","from","target","value","emitFiles","dataTransfer","clipboardItems","clipboardData","items","filter","item","kind","map","getAsFile","length","$toast","warning","forEach","file","fileExtension","name","slice","lastIndexOf","includes","toLowerCase","$emit","component"],"sourceRoot":""}