{"version":3,"file":"js/1004.2733b5f8.js","mappings":"4NAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,MAAM,CAACE,YAAY,mCAAmCC,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOC,kBAAyBP,EAAIQ,SAASC,MAAM,KAAMC,UAAU,IAAI,CAACR,EAAG,UAAU,CAACE,YAAY,4GAA4G,GAAGF,EAAG,MAAM,CAACE,YAAY,mCAAmCC,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOC,kBAAyBP,EAAIW,aAAaF,MAAM,KAAMC,UAAU,IAAI,CAACR,EAAG,oBAAoB,CAACE,YAAY,yGAAyG,MACpvB,EACIQ,EAAkB,G,sBCkBtB,GACAC,MAAA,CACAC,KAAA,CACAC,KAAAC,OACAC,UAAA,IAGAC,WAAA,CACAC,QAAAA,IAAA,gCACAC,kBAAAA,IAAA,iCAEAC,QAAA,KACAC,EAAAA,EAAAA,IAAA,yBACAd,QAAAA,GACA,IAAAe,EAAA,KAAAT,KACA,KAAAU,KAAAC,MAAA,mBAAAC,WAAA,EAAAH,QAAAA,GACA,EACA,kBAAAZ,GACA,IAAAY,EAAA,KAAAT,KACA,KAAAU,KAAAC,MAAA,cACAE,YAAA,EACAC,WAAA,qBAEA,MAAAC,QAAA,KAAAC,YAAA,CACAC,OAAA,CACAR,aAGA,GAAAM,GAAAG,QAAA,CACA,MAAAC,GAAAC,EAAAA,EAAAA,GAAA,CACAC,KAAAZ,GAAAa,MAAA,MAAAC,MACAvB,KAAAe,GAAAS,OAEAL,GAAAD,QACA,KAAAO,OAAAP,QAAAC,GAAAO,SAEA,KAAAD,OAAAE,MAAAR,GAAAO,QAEA,MACA,KAAAD,OAAAE,MAAAZ,GAAAW,SAEA,KAAAhB,KAAAC,MAAA,gBACA,IC9DuQ,I,WCOnQiB,GAAY,OACd,EACA3C,EACAa,GACA,EACA,KACA,KACA,MAIF,EAAe8B,EAAiB,O,mFCJzB,SAASR,EAAwBS,GACtC,IACE,MAAM,KAAER,EAAI,KAAErB,GAAS6B,EACjBC,EAAUC,IAAIC,gBAAgBhC,GAC9BiC,EAASC,SAASC,cAAc,KAOtC,OANAF,EAAOG,KAAON,EACdG,EAAOI,SAAWhB,EAClBa,SAASI,KAAKC,YAAYN,GAC1BA,EAAOO,QACPN,SAASI,KAAKG,YAAYR,GAC1BF,IAAIW,gBAAgBZ,GACb,CAAEZ,SAAS,EAAMQ,QAAS,gCACnC,CAAE,MAAOC,GACP,MAAO,CAAEA,QAAOD,QAASC,GAAOD,QAASR,SAAS,EACpD,CACF,C","sources":["webpack://construction-commercial-search-frontend/./src/components/Quotation/DownloadAndView.vue","webpack://construction-commercial-search-frontend/src/components/Quotation/DownloadAndView.vue","webpack://construction-commercial-search-frontend/./src/components/Quotation/DownloadAndView.vue?8741","webpack://construction-commercial-search-frontend/./src/components/Quotation/DownloadAndView.vue?8af7","webpack://construction-commercial-search-frontend/./src/utilities/helpers/fileOperations.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"flex items-center gap-spacing-200\"},[_c('div',{staticClass:\"flex cursor-pointer items-center\",on:{\"click\":function($event){$event.stopPropagation();return _vm.viewFile.apply(null, arguments)}}},[_c('IconEye',{staticClass:\"h-spacing-250 w-spacing-250 text-content-on-neutral-secondary hover:text-hover-constant-status-success\"})],1),_c('div',{staticClass:\"flex cursor-pointer items-center\",on:{\"click\":function($event){$event.stopPropagation();return _vm.downloadFile.apply(null, arguments)}}},[_c('IconDownloadCloud',{staticClass:\"h-spacing-250 w-spacing-250 text-constant-brand-secondary hover:text-hover-constant-brand-secondary\"})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"flex\">\r\n    <div class=\"flex items-center gap-spacing-200\">\r\n      <div class=\"flex cursor-pointer items-center\" @click.stop=\"viewFile\">\r\n        <IconEye\r\n          class=\"h-spacing-250 w-spacing-250 text-content-on-neutral-secondary hover:text-hover-constant-status-success\"\r\n        />\r\n      </div>\r\n      <div class=\"flex cursor-pointer items-center\" @click.stop=\"downloadFile\">\r\n        <IconDownloadCloud\r\n          class=\"h-spacing-250 w-spacing-250 text-constant-brand-secondary hover:text-hover-constant-brand-secondary\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { downloadFileFromBrowser } from \"@/utilities/helpers/fileOperations\";\r\nimport { mapActions } from \"vuex\";\r\nexport default {\r\n  props: {\r\n    file: {\r\n      type: String, // url\r\n      required: true,\r\n    },\r\n  },\r\n  components: {\r\n    IconEye: () => import(\"@/components/svgIcons/eye.vue\"),\r\n    IconDownloadCloud: () => import(\"@/components/svgIcons/download-cloud.vue\"),\r\n  },\r\n  methods: {\r\n    ...mapActions(\"utils\", [\"getFileBlob\"]),\r\n    viewFile() {\r\n      let fileUrl = this.file;\r\n      this.$bus.$emit(\"file-view-modal\", { showModal: true, fileUrl: fileUrl });\r\n    },\r\n    async downloadFile() {\r\n      let fileUrl = this.file;\r\n      this.$bus.$emit(\"showLoader\", {\r\n        showLoader: true,\r\n        loaderText: \"Downloading File\",\r\n      });\r\n      const response = await this.getFileBlob({\r\n        params: {\r\n          fileUrl,\r\n        },\r\n      });\r\n      if (response?.success) {\r\n        const result = downloadFileFromBrowser({\r\n          name: fileUrl?.split(\"/\")?.pop(),\r\n          file: response?.data,\r\n        });\r\n        if (result?.success) {\r\n          this.$toast.success(result?.message);\r\n        } else {\r\n          this.$toast.error(result?.message);\r\n        }\r\n      } else {\r\n        this.$toast.error(response?.message);\r\n      }\r\n      this.$bus.$emit(\"showLoader\", false);\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DownloadAndView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DownloadAndView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DownloadAndView.vue?vue&type=template&id=2733c643\"\nimport script from \"./DownloadAndView.vue?vue&type=script&lang=js\"\nexport * from \"./DownloadAndView.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function viewFileInBrowser(file) {\n  const fileURL = URL.createObjectURL(file); // Generate the object URL\n\n  // Create an anchor element to trigger a download with a filename\n  const anchor = document.createElement(\"a\");\n  anchor.href = fileURL;\n  anchor.target = \"_blank\"; // Open in a new tab\n  anchor.download = file.name; // Use the file's original name\n  anchor.click();\n\n  // Clean up the URL object to avoid memory leaks\n  URL.revokeObjectURL(fileURL);\n}\n\nexport function downloadFileFromBrowser(fileObject) {\n  try {\n    const { name, file } = fileObject;\n    const fileURL = URL.createObjectURL(file);\n    const anchor = document.createElement(\"a\");\n    anchor.href = fileURL;\n    anchor.download = name;\n    document.body.appendChild(anchor); // required for firefox\n    anchor.click();\n    document.body.removeChild(anchor); // required for firefox\n    URL.revokeObjectURL(fileURL);\n    return { success: true, message: \"File downloaded successfully.\" };\n  } catch (error) {\n    return { error, message: error?.message, success: false };\n  }\n}\n"],"names":["render","_vm","this","_c","_self","staticClass","on","$event","stopPropagation","viewFile","apply","arguments","downloadFile","staticRenderFns","props","file","type","String","required","components","IconEye","IconDownloadCloud","methods","mapActions","fileUrl","$bus","$emit","showModal","showLoader","loaderText","response","getFileBlob","params","success","result","downloadFileFromBrowser","name","split","pop","data","$toast","message","error","component","fileObject","fileURL","URL","createObjectURL","anchor","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL"],"sourceRoot":""}