"use strict";(self.webpackChunkconstruction_commercial_search_frontend=self.webpackChunkconstruction_commercial_search_frontend||[]).push([[5933],{95933:function(e,t,n){n.r(t),n.d(t,{default:function(){return r}});var s={props:{options:{type:Array,required:!0,default:()=>[]},errorMessage:{type:String,default:""},label:{type:String,required:!1,default:""},selectedOptionKey:{type:String,required:!1},isDisabled:{type:Boolean,required:!1,default:!1},showError:{type:Boolean,default:!0}},components:{IconChevronDown:()=>n.e(8282).then(n.bind(n,38282))},data(){return{isDropdownOpen:!1,highlightedIndex:-1,selectedOption:this.selectedOptionKey}},watch:{selectedOptionKey(){this.selectedOption=this.selectedOptionKey}},computed:{getSelectedOptionValue(){return this.options?.find((e=>e?.key===this.selectedOption))?.value},getDefaultOptionValue(){const e=this.options?.find((e=>e?.default));return e?e?.value:"Select an option"}},methods:{handleFocus(){return!this.isDisabled&&(this.$emit("focus"),!0)},handleBlur(){return!this.isDisabled&&(this.$emit("blur"),this.isDropdownOpen=!1,this.highlightedIndex=-1,!0)},toggleDropDown(){this.isDisabled||(this.isDropdownOpen=!this.isDropdownOpen,this.isDropdownOpen||(this.highlightedIndex=-1))},selectOption(e){this.selectedOption=e?.key,this.isDropdownOpen=!1,this.highlightedIndex=-1,this.$emit("option-selected",e?.key),this.$emit("option-selected-full",e)},navigateOptions(e){0!==this.options.length&&(this.highlightedIndex=(this.highlightedIndex+e+this.options.length)%this.options.length,this.$nextTick((()=>{const e=this.$refs.optionRefs?.[this.highlightedIndex];e&&e.scrollIntoView({behavior:"smooth",block:"nearest"})})))},handleKeydown(e){this.isDisabled||(["ArrowDown","ArrowUp","Enter","Escape"].includes(e.key)&&e.preventDefault(),"ArrowDown"===e.key?this.navigateOptions(1):"ArrowUp"===e.key?this.navigateOptions(-1):"Enter"===e.key?this.highlightedIndex>=0?this.selectOption(this.options[this.highlightedIndex]):this.isDropdownOpen||(this.isDropdownOpen=!0):"Escape"===e.key&&(this.isDropdownOpen=!1))}}},i=s,o=(0,n(81656).A)(i,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"relative w-full"},[t("div",{staticClass:"relative rounded-08 border border-solid",class:[e.errorMessage?"border-constant-status-error text-constant-status-error":"border-stroke-bold text-content-on-neutral-secondary focus-within:border-constant-brand-primary focus-within:text-constant-brand-primary",e.isDisabled?"cursor-not-allowed":""]},[e.label?t("label",{staticClass:"floating-form-select-label absolute"},[e._v(" "+e._s(e.label)+" ")]):e._e(),t("div",{ref:"dropdown",staticClass:"flex w-full appearance-none justify-between bg-transparent p-spacing-200 py-spacing-150 text-left text-body/m/relaxed/500 text-content-on-neutral-primary antialiased focus:outline-none ipad:text-body/m/relaxed/500",class:e.isDisabled?"cursor-not-allowed":"cursor-pointer",attrs:{tabindex:e.isDisabled?void 0:"0"},on:{click:e.toggleDropDown,focus:e.handleFocus,blur:e.handleBlur,keydown:function(t){return t.stopPropagation(),e.handleKeydown.apply(null,arguments)}}},[e._v(" "+e._s(e.selectedOption?e.getSelectedOptionValue:e.getDefaultOptionValue)+" "),t("IconChevronDown",{staticClass:"h-spacing-250 w-spacing-250 text-content-on-neutral-primary",class:e.isDropdownOpen?"rotate-180 transition-all duration-300":"rotate-0 transition-all duration-300"})],1),e.isDropdownOpen&&!e.isDisabled?t("div",{staticClass:"absolute left-spacing-0 right-spacing-0 z-[100] mt-spacing-25 max-h-[250px] w-full overflow-y-auto rounded-08 bg-bg-neutral-default shadow-card"},e._l(e.options,(function(n,s){return t("p",{key:s,ref:"optionRefs",refInFor:!0,staticClass:"cursor-pointer border-b border-stroke-bold px-spacing-150 py-spacing-150 text-body/m/relaxed/400 text-content-on-neutral-primary",class:s===e.highlightedIndex?"bg-bg-neutral-disabled":"bg-bg-neutral-raised hover:bg-bg-neutral-disabled",on:{mousedown:function(t){return t.preventDefault(),e.selectOption(n)}}},[e._v(" "+e._s(n?.value)+" ")])})),0):e._e()]),e.showError?t("p",{staticClass:"mt-spacing-50 min-h-spacing-200 text-left text-body/s/relaxed/400 text-constant-status-error"},[e._v(" "+e._s(e.errorMessage?e.errorMessage:"")+" ")]):e._e()])}),[],!1,null,null,null),r=o.exports}}]);