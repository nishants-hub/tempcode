{"version":3,"file":"js/647.6d2944ce.js","mappings":"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","sources":["webpack://construction-commercial-search-frontend/./src/components/Company/NewCompanyForm.vue","webpack://construction-commercial-search-frontend/src/components/Company/NewCompanyForm.vue","webpack://construction-commercial-search-frontend/./src/components/Company/NewCompanyForm.vue?cfe4","webpack://construction-commercial-search-frontend/./src/components/Company/NewCompanyForm.vue?91aa"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"h-full w-full\"},[_c('GeneralForm',{attrs:{\"heading\":_vm.update ? (_vm.analyze ? 'Analyze' : 'Edit Details') : 'New Company',\"showCloseButton\":true,\"is-form-submitting\":_vm.isFormSubmitting,\"submit-button-label\":_vm.update ? (_vm.analyze ? 'Done' : 'Update') : 'Add',\"show-submit-button-force\":true,\"submit-button-type\":_vm.update ? (_vm.analyze ? 'brand-secondary' : 'brand') : 'success',\"custom-buttons\":_vm.analyze ? _vm.customButtonsAnalyze : _vm.customButtons,\"show-custom-buttons\":_vm.areSomeFieldsMissing},on:{\"close-pressed\":_vm.handleClose,\"form-submitted\":_vm.handleSubmit},scopedSlots:_vm._u([{key:\"form-body\",fn:function(){return [(_vm.addedToMainDB)?_c('div',{staticClass:\"mb-spacing-300 flex items-center gap-spacing-100 rounded-08 border border-stroke-info bg-bg-status-info px-spacing-200 py-spacing-100\"},[_c('IconInfo',{staticClass:\"h-spacing-200 w-spacing-200 text-content-on-status-on-info\"}),_c('p',{staticClass:\"text-body/m/relaxed/400 text-content-on-status-on-info\"},[_vm._v(\" This company already added in the main database. \")])],1):_vm._e(),_c('div',{staticClass:\"relative\"},[_c('FormInput',{ref:\"companyName\",staticClass:\"mb-spacing-100\",attrs:{\"autofocus\":true,\"label\":\"Company Name\",\"inputId\":\"companyName\",\"field-validations\":_vm.fieldValidations?.companyName,\"order\":1,\"check-availability\":true,\"checking-availability\":_vm.checkingCompanyName,\"is-available\":_vm.isCompanyNameAvailable,\"not-available-error-message\":'Company already exists'},on:{\"enter-pressed\":function($event){return _vm.$focusNextElement('genNumber')},\"blur\":function($event){_vm.companyNameSuggestions = []},\"focus\":function($event){return _vm.checkForCompanyDebounced(_vm.formData.companyName)}},model:{value:(_vm.formData.companyName),callback:function ($$v) {_vm.$set(_vm.formData, \"companyName\", $$v)},expression:\"formData.companyName\"}}),(_vm.companyNameSuggestions?.length || _vm.checkingCompanyName)?_c('div',{staticClass:\"absolute left-spacing-0 right-spacing-0 top-[44px] z-[101] mt-spacing-25 max-h-[250px] w-full overflow-y-auto rounded-08 bg-bg-neutral-default shadow-card\"},_vm._l((_vm.companyNameSuggestions),function(suggestion,index){return _c('div',{key:index,staticClass:\"flex cursor-not-allowed items-center justify-between border-b border-stroke-bold bg-bg-neutral-raised px-spacing-150 py-spacing-150\"},[_c('p',{staticClass:\"text-body/m/relaxed/400 text-content-on-neutral-primary\"},[_vm._v(\" \"+_vm._s(suggestion?.display_name)+\" \")]),_c('i',{staticClass:\"fa-solid fa-ban text-content-on-status-on-error\"})])}),0):_vm._e()],1),_c('div',{staticClass:\"grid grid-cols-1 gap-x-spacing-200 gap-y-spacing-100 ipad:grid-cols-2\"},[_c('FormInput',{ref:\"genNumber\",attrs:{\"label\":\"General Number\",\"input-type\":\"phoneNumber\",\"inputId\":\"genNumber\",\"field-validations\":_vm.fieldValidations?.genNumber,\"order\":2},on:{\"enter-pressed\":function($event){return _vm.$focusNextElement('commNumber')}},model:{value:(_vm.formData.genNumber),callback:function ($$v) {_vm.$set(_vm.formData, \"genNumber\", $$v)},expression:\"formData.genNumber\"}}),_c('FormInput',{ref:\"commNumber\",attrs:{\"label\":\"Commercial Number\",\"input-type\":\"phoneNumber\",\"inputId\":\"commNumber\",\"field-validations\":_vm.fieldValidations?.commNumber,\"order\":3},on:{\"enter-pressed\":function($event){return _vm.$focusNextElement('email')}},model:{value:(_vm.formData.commNumber),callback:function ($$v) {_vm.$set(_vm.formData, \"commNumber\", $$v)},expression:\"formData.commNumber\"}}),_c('FormInput',{ref:\"companyEmail\",attrs:{\"label\":\"Email\",\"input-type\":'email',\"inputId\":\"email\",\"field-validations\":_vm.fieldValidations?.email,\"order\":4},on:{\"enter-pressed\":function($event){return _vm.$focusNextElement('origin')}},model:{value:(_vm.formData.email),callback:function ($$v) {_vm.$set(_vm.formData, \"email\", $$v)},expression:\"formData.email\"}}),_c('FormInput',{attrs:{\"label\":\"Origin\",\"inputId\":\"origin\",\"order\":5},on:{\"enter-pressed\":function($event){return _vm.$focusNextElement('originList')}},model:{value:(_vm.formData.origin),callback:function ($$v) {_vm.$set(_vm.formData, \"origin\", $$v)},expression:\"formData.origin\"}}),_c('FormInput',{attrs:{\"label\":\"Origin List\",\"inputId\":\"originList\",\"order\":6},on:{\"enter-pressed\":function($event){return _vm.$focusNextElement('annualRevenue')}},model:{value:(_vm.formData.originList),callback:function ($$v) {_vm.$set(_vm.formData, \"originList\", $$v)},expression:\"formData.originList\"}}),_c('FormInput',{ref:\"annualRevenue\",attrs:{\"label\":\"Annual Revenue\",\"input-type\":\"number\",\"inputId\":\"annualRevenue\",\"field-validations\":_vm.fieldValidations?.annualRevenue,\"order\":7},on:{\"enter-pressed\":function($event){return _vm.$focusNextElement('location')}},model:{value:(_vm.formData.annualRevenue),callback:function ($$v) {_vm.$set(_vm.formData, \"annualRevenue\", $$v)},expression:\"formData.annualRevenue\"}})],1),_c('div',{staticClass:\"my-spacing-100 flex items-center gap-spacing-200\"},[_c('LocationSearchDropdown',{staticClass:\"flex-1\",attrs:{\"dropdown-label\":'Location',\"dropdown-id\":'location',\"selected-location\":_vm.formData?.location ? _vm.formData?.location : undefined,\"order\":8},on:{\"on-location-update\":_vm.updateLocation,\"enter-pressed\":function($event){return _vm.$focusNextElement('products')}}}),_c('div',{staticClass:\"mb-spacing-250 cursor-pointer\",on:{\"click\":function($event){$event.stopPropagation();return _vm.selectLocationOnMap.apply(null, arguments)}}},[_c('i',{staticClass:\"fa-solid fa-location scale-[1.5] text-constant-brand-secondary hover:text-hover-constant-brand-secondary\"})])],1),_c('ProductSearchDropdown',{staticClass:\"my-spacing-100\",attrs:{\"dropdown-label\":'Products',\"dropdown-id\":'products',\"products\":_vm.formData.products,\"is-multi-select\":true,\"order\":9},on:{\"on-products-update\":_vm.updateProducts,\"enter-pressed\":function($event){return _vm.$focusNextElement('agentGenNumber0')}}}),_c('div',{staticClass:\"grid grid-cols-1 gap-x-spacing-200 gap-y-spacing-200 ipad:grid-cols-2\"},_vm._l((_vm.formData.agents),function(agent,index){return _c('div',{key:index,staticClass:\"relative flex flex-col gap-spacing-100 rounded-12 border border-stroke-bold p-spacing-150 pt-spacing-300\"},[_c('p',{staticClass:\"absolute -top-[14px] left-spacing-200 origin-0 bg-bg-neutral-default p-spacing-50 text-body/m/relaxed/400 text-content-on-neutral-secondary\"},[_vm._v(\" Agent \"+_vm._s(index + 1)+\" \")]),_c('div',{staticClass:\"absolute -right-spacing-150 -top-spacing-150 z-10 flex h-spacing-300 w-spacing-300 cursor-pointer items-center justify-center rounded-full bg-bg-neutral-disabled text-content-on-neutral-secondary hover:bg-constant-status-error hover:text-constant-neutral-white\",on:{\"click\":function($event){return _vm.removeAgent(index)}}},[_c('IconX',{staticClass:\"h-spacing-250 w-spacing-250 text-current\"})],1),_c('FormInput',{ref:\"agentGenNumber\",refInFor:true,attrs:{\"label\":`General Number`,\"input-type\":\"text\",\"inputId\":'agentGenNumber' + index,\"field-validations\":_vm.fieldValidations?.agents?.genNumber,\"order\":10 + index * 3},on:{\"enter-pressed\":function($event){return _vm.$focusNextElement('agentCommNumber' + index)}},model:{value:(agent.genNumber),callback:function ($$v) {_vm.$set(agent, \"genNumber\", $$v)},expression:\"agent.genNumber\"}}),_c('FormInput',{ref:\"agentCommNumber\",refInFor:true,attrs:{\"label\":`Commercial Number`,\"input-type\":\"text\",\"inputId\":'agentCommNumber' + index,\"field-validations\":_vm.fieldValidations?.agents?.commNumber,\"order\":11 + index * 3},on:{\"enter-pressed\":function($event){return _vm.$focusNextElement('agentEmail' + index)}},model:{value:(agent.commNumber),callback:function ($$v) {_vm.$set(agent, \"commNumber\", $$v)},expression:\"agent.commNumber\"}}),_c('FormInput',{ref:\"agentEmail\",refInFor:true,attrs:{\"label\":`Email`,\"input-type\":'email',\"inputId\":'agentEmail' + index,\"field-validations\":_vm.fieldValidations?.agents?.email,\"order\":12 + index * 3},on:{\"enter-pressed\":function($event){_vm.$focusNextElement('agentGenNumber' + (index + 1))}},model:{value:(agent.email),callback:function ($$v) {_vm.$set(agent, \"email\", $$v)},expression:\"agent.email\"}})],1)}),0),_c('div',{staticClass:\"my-spacing-150 flex w-full\"},[_c('div',{on:{\"click\":_vm.addAgent}},[_c('GeneralButton',{attrs:{\"button-type\":'button',\"type\":'brand',\"size\":'small',\"emphasis\":'secondary',\"icon-position\":'none',\"label\":'Add Agent'}})],1)])]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"h-full w-full\">\r\n    <GeneralForm\r\n      :heading=\"update ? (analyze ? 'Analyze' : 'Edit Details') : 'New Company'\"\r\n      :showCloseButton=\"true\"\r\n      @close-pressed=\"handleClose\"\r\n      @form-submitted=\"handleSubmit\"\r\n      :is-form-submitting=\"isFormSubmitting\"\r\n      :submit-button-label=\"update ? (analyze ? 'Done' : 'Update') : 'Add'\"\r\n      :show-submit-button-force=\"true\"\r\n      :submit-button-type=\"\r\n        update ? (analyze ? 'brand-secondary' : 'brand') : 'success'\r\n      \"\r\n      :custom-buttons=\"analyze ? customButtonsAnalyze : customButtons\"\r\n      :show-custom-buttons=\"areSomeFieldsMissing\"\r\n    >\r\n      <template #form-body>\r\n        <!-- Company Name -->\r\n        <div\r\n          v-if=\"addedToMainDB\"\r\n          class=\"mb-spacing-300 flex items-center gap-spacing-100 rounded-08 border border-stroke-info bg-bg-status-info px-spacing-200 py-spacing-100\"\r\n        >\r\n          <IconInfo\r\n            class=\"h-spacing-200 w-spacing-200 text-content-on-status-on-info\"\r\n          />\r\n          <p class=\"text-body/m/relaxed/400 text-content-on-status-on-info\">\r\n            This company already added in the main database.\r\n          </p>\r\n        </div>\r\n\r\n        <div class=\"relative\">\r\n          <FormInput\r\n            ref=\"companyName\"\r\n            :autofocus=\"true\"\r\n            label=\"Company Name\"\r\n            v-model=\"formData.companyName\"\r\n            inputId=\"companyName\"\r\n            :field-validations=\"fieldValidations?.companyName\"\r\n            @enter-pressed=\"$focusNextElement('genNumber')\"\r\n            class=\"mb-spacing-100\"\r\n            :order=\"1\"\r\n            :check-availability=\"true\"\r\n            :checking-availability=\"checkingCompanyName\"\r\n            :is-available=\"isCompanyNameAvailable\"\r\n            :not-available-error-message=\"'Company already exists'\"\r\n            @blur=\"companyNameSuggestions = []\"\r\n            @focus=\"checkForCompanyDebounced(formData.companyName)\"\r\n          />\r\n          <div\r\n            v-if=\"companyNameSuggestions?.length || checkingCompanyName\"\r\n            class=\"absolute left-spacing-0 right-spacing-0 top-[44px] z-[101] mt-spacing-25 max-h-[250px] w-full overflow-y-auto rounded-08 bg-bg-neutral-default shadow-card\"\r\n          >\r\n            <div\r\n              v-for=\"(suggestion, index) in companyNameSuggestions\"\r\n              :key=\"index\"\r\n              class=\"flex cursor-not-allowed items-center justify-between border-b border-stroke-bold bg-bg-neutral-raised px-spacing-150 py-spacing-150\"\r\n            >\r\n              <p\r\n                class=\"text-body/m/relaxed/400 text-content-on-neutral-primary\"\r\n              >\r\n                {{ suggestion?.display_name }}\r\n              </p>\r\n              <i class=\"fa-solid fa-ban text-content-on-status-on-error\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Other Fields in Two Columns -->\r\n        <div\r\n          class=\"grid grid-cols-1 gap-x-spacing-200 gap-y-spacing-100 ipad:grid-cols-2\"\r\n        >\r\n          <FormInput\r\n            ref=\"genNumber\"\r\n            label=\"General Number\"\r\n            v-model=\"formData.genNumber\"\r\n            input-type=\"phoneNumber\"\r\n            inputId=\"genNumber\"\r\n            :field-validations=\"fieldValidations?.genNumber\"\r\n            @enter-pressed=\"$focusNextElement('commNumber')\"\r\n            :order=\"2\"\r\n          />\r\n          <FormInput\r\n            ref=\"commNumber\"\r\n            label=\"Commercial Number\"\r\n            v-model=\"formData.commNumber\"\r\n            input-type=\"phoneNumber\"\r\n            inputId=\"commNumber\"\r\n            :field-validations=\"fieldValidations?.commNumber\"\r\n            @enter-pressed=\"$focusNextElement('email')\"\r\n            :order=\"3\"\r\n          />\r\n          <FormInput\r\n            ref=\"companyEmail\"\r\n            label=\"Email\"\r\n            v-model=\"formData.email\"\r\n            :input-type=\"'email'\"\r\n            inputId=\"email\"\r\n            :field-validations=\"fieldValidations?.email\"\r\n            @enter-pressed=\"$focusNextElement('origin')\"\r\n            :order=\"4\"\r\n          />\r\n          <FormInput\r\n            label=\"Origin\"\r\n            v-model=\"formData.origin\"\r\n            inputId=\"origin\"\r\n            @enter-pressed=\"$focusNextElement('originList')\"\r\n            :order=\"5\"\r\n          />\r\n          <FormInput\r\n            label=\"Origin List\"\r\n            v-model=\"formData.originList\"\r\n            inputId=\"originList\"\r\n            @enter-pressed=\"$focusNextElement('annualRevenue')\"\r\n            :order=\"6\"\r\n          />\r\n          <FormInput\r\n            ref=\"annualRevenue\"\r\n            label=\"Annual Revenue\"\r\n            v-model=\"formData.annualRevenue\"\r\n            input-type=\"number\"\r\n            inputId=\"annualRevenue\"\r\n            :field-validations=\"fieldValidations?.annualRevenue\"\r\n            @enter-pressed=\"$focusNextElement('location')\"\r\n            :order=\"7\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"my-spacing-100 flex items-center gap-spacing-200\">\r\n          <LocationSearchDropdown\r\n            :dropdown-label=\"'Location'\"\r\n            :dropdown-id=\"'location'\"\r\n            :selected-location=\"\r\n              formData?.location ? formData?.location : undefined\r\n            \"\r\n            @on-location-update=\"updateLocation\"\r\n            @enter-pressed=\"$focusNextElement('products')\"\r\n            :order=\"8\"\r\n            class=\"flex-1\"\r\n          />\r\n\r\n          <div\r\n            @click.stop=\"selectLocationOnMap\"\r\n            class=\"mb-spacing-250 cursor-pointer\"\r\n          >\r\n            <i\r\n              class=\"fa-solid fa-location scale-[1.5] text-constant-brand-secondary hover:text-hover-constant-brand-secondary\"\r\n            ></i>\r\n          </div>\r\n        </div>\r\n\r\n        <ProductSearchDropdown\r\n          :dropdown-label=\"'Products'\"\r\n          :dropdown-id=\"'products'\"\r\n          :products=\"formData.products\"\r\n          :is-multi-select=\"true\"\r\n          class=\"my-spacing-100\"\r\n          @on-products-update=\"updateProducts\"\r\n          @enter-pressed=\"$focusNextElement('agentGenNumber0')\"\r\n          :order=\"9\"\r\n        />\r\n\r\n        <!-- Agents Information -->\r\n        <div\r\n          class=\"grid grid-cols-1 gap-x-spacing-200 gap-y-spacing-200 ipad:grid-cols-2\"\r\n        >\r\n          <div\r\n            v-for=\"(agent, index) in formData.agents\"\r\n            :key=\"index\"\r\n            class=\"relative flex flex-col gap-spacing-100 rounded-12 border border-stroke-bold p-spacing-150 pt-spacing-300\"\r\n          >\r\n            <p\r\n              class=\"absolute -top-[14px] left-spacing-200 origin-0 bg-bg-neutral-default p-spacing-50 text-body/m/relaxed/400 text-content-on-neutral-secondary\"\r\n            >\r\n              Agent {{ index + 1 }}\r\n            </p>\r\n            <div\r\n              @click=\"removeAgent(index)\"\r\n              class=\"absolute -right-spacing-150 -top-spacing-150 z-10 flex h-spacing-300 w-spacing-300 cursor-pointer items-center justify-center rounded-full bg-bg-neutral-disabled text-content-on-neutral-secondary hover:bg-constant-status-error hover:text-constant-neutral-white\"\r\n            >\r\n              <IconX class=\"h-spacing-250 w-spacing-250 text-current\" />\r\n            </div>\r\n            <FormInput\r\n              ref=\"agentGenNumber\"\r\n              :label=\"`General Number`\"\r\n              v-model=\"agent.genNumber\"\r\n              input-type=\"text\"\r\n              :inputId=\"'agentGenNumber' + index\"\r\n              :field-validations=\"fieldValidations?.agents?.genNumber\"\r\n              @enter-pressed=\"$focusNextElement('agentCommNumber' + index)\"\r\n              :order=\"10 + index * 3\"\r\n            />\r\n            <FormInput\r\n              ref=\"agentCommNumber\"\r\n              :label=\"`Commercial Number`\"\r\n              v-model=\"agent.commNumber\"\r\n              input-type=\"text\"\r\n              :inputId=\"'agentCommNumber' + index\"\r\n              :field-validations=\"fieldValidations?.agents?.commNumber\"\r\n              @enter-pressed=\"$focusNextElement('agentEmail' + index)\"\r\n              :order=\"11 + index * 3\"\r\n            />\r\n            <FormInput\r\n              ref=\"agentEmail\"\r\n              :label=\"`Email`\"\r\n              v-model=\"agent.email\"\r\n              :input-type=\"'email'\"\r\n              :inputId=\"'agentEmail' + index\"\r\n              :field-validations=\"fieldValidations?.agents?.email\"\r\n              @enter-pressed=\"$focusNextElement('agentGenNumber' + (index + 1))\"\r\n              :order=\"12 + index * 3\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Add Agent Button -->\r\n        <div class=\"my-spacing-150 flex w-full\">\r\n          <div @click=\"addAgent\">\r\n            <GeneralButton\r\n              :button-type=\"'button'\"\r\n              :type=\"'brand'\"\r\n              :size=\"'small'\"\r\n              :emphasis=\"'secondary'\"\r\n              :icon-position=\"'none'\"\r\n              :label=\"'Add Agent'\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </GeneralForm>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { FormValidationRule } from \"@/utilities/helpers/formValidations\";\r\nimport { debounce } from \"lodash\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  components: {\r\n    FormInput: () => import(\"@/components/General/FormInput.vue\"),\r\n    IconX: () => import(\"@/components/svgIcons/x.vue\"),\r\n    IconInfo: () => import(\"@/components/svgIcons/info.vue\"),\r\n    GeneralButton: () => import(\"@/components/General/CustomButton.vue\"),\r\n    GeneralForm: () => import(\"@/components/General/Form.vue\"),\r\n    LocationSearchDropdown: () =>\r\n      import(\"@/components/Utility/CustomDropdowns/LocationSearch.vue\"),\r\n    ProductSearchDropdown: () =>\r\n      import(\"@/components/Utility/CustomDropdowns/ProductSearch.vue\"),\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      user: \"auth/getUser\",\r\n    }),\r\n    buildPayload() {\r\n      // Base payload\r\n      let payload = {\r\n        companyName: this.formData?.companyName,\r\n        genNumber: this.formData?.genNumber,\r\n        commNumber: this.formData?.commNumber,\r\n        email: this.formData?.email,\r\n        location: this.formData?.location?.display_name || \"\",\r\n        lat: this.formData?.location?.lat || \"\",\r\n        long: this.formData?.location?.lon || \"\",\r\n        origin: this.formData?.origin,\r\n        originList: this.formData?.originList,\r\n        annualRevenue: this.formData?.annualRevenue,\r\n        agents: this.formData?.agents,\r\n        products: this.formData?.products?.map((item) => ({\r\n          productId: item?._id,\r\n        })),\r\n      };\r\n\r\n      if (!this.update) {\r\n        // Add fields specific to create operation\r\n        payload.addUser = this.user?._id;\r\n      }\r\n\r\n      return payload;\r\n    },\r\n    areSomeFieldsMissing() {\r\n      let output = false;\r\n      let payload = this.buildPayload;\r\n      if (\r\n        !payload?.companyName ||\r\n        !payload?.genNumber ||\r\n        !payload?.commNumber ||\r\n        !payload?.email ||\r\n        !payload?.location ||\r\n        !payload?.lat ||\r\n        !payload?.long ||\r\n        !payload?.origin ||\r\n        !payload?.originList ||\r\n        isNaN(payload?.annualRevenue) ||\r\n        payload?.agents?.length === 0 ||\r\n        payload?.products?.length === 0 ||\r\n        payload?.agents?.some(\r\n          (agent) => !agent.genNumber || !agent.commNumber || !agent.email,\r\n        )\r\n      ) {\r\n        output = true;\r\n      }\r\n      return output;\r\n    },\r\n    customButtonsAnalyze() {\r\n      let output = [];\r\n      if (this.addedToMainDB) {\r\n        output = [\r\n          {\r\n            label: \"CONFIRM\",\r\n            payload: \"COMPANY_DETAILS_SUCCESSFULLY_ADDED\",\r\n            type: \"success\",\r\n            isDisabled: false,\r\n            emphasis: \"primary\",\r\n          },\r\n          {\r\n            label: \"NIR\",\r\n            payload: \"NO_INTERNET_REFRENCE\",\r\n            type: \"brand-secondary\",\r\n            isDisabled: false,\r\n            emphasis: \"primary\",\r\n          },\r\n          {\r\n            label: \"NPI\",\r\n            payload: \"NO_PRODUCT_OF_INTEREST\",\r\n            type: \"brand\",\r\n            isDisabled: false,\r\n            emphasis: \"primary\",\r\n          },\r\n        ];\r\n      } else {\r\n        output = [\r\n          {\r\n            label: \"ADD\",\r\n            payload: \"COMPANY_SUCCESSFULLY_ADDED\",\r\n            type: \"success\",\r\n            isDisabled: false,\r\n            emphasis: \"primary\",\r\n          },\r\n          {\r\n            label: \"NIR\",\r\n            payload: \"NO_INTERNET_REFRENCE\",\r\n            type: \"brand-secondary\",\r\n            isDisabled: false,\r\n            emphasis: \"primary\",\r\n          },\r\n          {\r\n            label: \"NPI\",\r\n            payload: \"NO_PRODUCT_OF_INTEREST\",\r\n            type: \"brand\",\r\n            isDisabled: false,\r\n            emphasis: \"primary\",\r\n          },\r\n        ];\r\n      }\r\n      return output;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$bus.$on(\"set-company-location\", (data) => {\r\n      if (data) {\r\n        this.formData.location = data;\r\n      }\r\n    });\r\n    this.$bus.$on(\"company-form-update\", (data) => {\r\n      if (data?.update) {\r\n        this.companyId = data?.companyId;\r\n        this.analyze = data?.analyze ?? false;\r\n        this.update = data?.update;\r\n        this.addedToMainDB = data?.addedToMainDB || false;\r\n        this.formData = data?.formData;\r\n        if (data?.formData?.companyName) {\r\n          this.whiteListCompanyName = data?.formData?.companyName || \"\";\r\n        }\r\n        this.goBack = data?.goBack || false;\r\n      } else {\r\n        this.update = false;\r\n        this.companyId = null;\r\n        if (data?.default) {\r\n          if (data?.formData) {\r\n            for (const key in data.formData) {\r\n              this.formData[key] = data.formData[key];\r\n            }\r\n            if (data?.refreshFlowEvent) {\r\n              this.refreshFlowEvent = data?.refreshFlowEvent;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  },\r\n  data() {\r\n    return {\r\n      customButtons: [\r\n        {\r\n          label: \"Add details later\",\r\n          payload: \"ADD_LATER\",\r\n          type: \"brand-secondary\",\r\n          isDisabled: false,\r\n          emphasis: \"primary\",\r\n        },\r\n        {\r\n          label: \"Data not available\",\r\n          payload: \"DATA_NOT_AVAILABLE\",\r\n          type: \"brand\",\r\n          isDisabled: false,\r\n          emphasis: \"primary\",\r\n        },\r\n      ],\r\n      refreshFlowEvent: null,\r\n      companyId: null,\r\n      analyze: false,\r\n      formData: {\r\n        // company details\r\n        companyName: \"\",\r\n        genNumber: \"\",\r\n        commNumber: \"\",\r\n        email: \"\",\r\n        annualRevenue: \"\",\r\n\r\n        // company origin details\r\n        origin: \"MANUAL_SINGLE_ADD\",\r\n        originList: \"\",\r\n\r\n        // location\r\n        location: null,\r\n\r\n        products: [],\r\n\r\n        agents: [],\r\n      },\r\n      fieldValidations: {\r\n        companyName: new FormValidationRule({\r\n          minLength: 5,\r\n          maxLength: 50,\r\n          required: true,\r\n        }),\r\n        genNumber: new FormValidationRule({\r\n          minLength: 19,\r\n          maxLength: 19,\r\n          required: false,\r\n          type: \"PHONE_NUMBER\",\r\n        }),\r\n        commNumber: new FormValidationRule({\r\n          minLength: 19,\r\n          maxLength: 19,\r\n          required: false,\r\n          type: \"PHONE_NUMBER\",\r\n        }),\r\n        email: new FormValidationRule({\r\n          type: \"EMAIL\",\r\n          required: false,\r\n        }),\r\n        annualRevenue: new FormValidationRule({\r\n          min: 0,\r\n        }),\r\n        agents: {\r\n          genNumber: new FormValidationRule({\r\n            minLength: 19,\r\n            maxLength: 19,\r\n            required: false,\r\n            type: \"PHONE_NUMBER\",\r\n          }),\r\n          commNumber: new FormValidationRule({\r\n            minLength: 19,\r\n            maxLength: 19,\r\n            required: false,\r\n            type: \"PHONE_NUMBER\",\r\n          }),\r\n          email: new FormValidationRule({\r\n            type: \"EMAIL\",\r\n            required: true,\r\n          }),\r\n        },\r\n      },\r\n      update: false,\r\n      isFormSubmitting: false,\r\n      goBack: false,\r\n      addedToMainDB: false,\r\n      checkingCompanyName: false,\r\n      isCompanyNameAvailable: true,\r\n      whiteListCompanyName: \"\",\r\n      checkForCompanyDebounced: debounce(this.checkForCompany, 500),\r\n      companyNameSuggestions: [],\r\n    };\r\n  },\r\n  watch: {\r\n    \"formData.companyName\": {\r\n      handler(newVal) {\r\n        this.checkForCompanyDebounced(newVal);\r\n      },\r\n      immediate: true,\r\n      deep: true,\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      addCompanies: \"company/addCompanies\",\r\n      updateCompany: \"company/updateCompany\",\r\n      checkCompanyNameAvailabilty: \"company/checkCompanyNameAvailabilty\",\r\n    }),\r\n\r\n    async checkForCompany(query) {\r\n      if (\r\n        query === \"\" ||\r\n        query?.toLowerCase()?.trim() ===\r\n          this.whiteListCompanyName?.toLowerCase()?.trim()\r\n      ) {\r\n        this.isCompanyNameAvailable = true;\r\n        return;\r\n      }\r\n      this.checkingCompanyName = true;\r\n      const response = await this.checkCompanyNameAvailabilty({\r\n        params: { companyName: query, fetchRelated: true },\r\n      });\r\n      if (response?.success) {\r\n        this.isCompanyNameAvailable = true;\r\n        this.companyNameSuggestions = response?.suggestions;\r\n      } else {\r\n        this.isCompanyNameAvailable = false;\r\n        this.companyNameSuggestions = response?.suggestions || [];\r\n      }\r\n      this.checkingCompanyName = false;\r\n    },\r\n\r\n    async handleSubmit(option) {\r\n      const isValid = this.$validateForm();\r\n      if (!isValid) {\r\n        return;\r\n      }\r\n      let payload = this.buildPayload;\r\n      if (option) {\r\n        if (this.analyze) {\r\n          payload.archiveReason = option;\r\n        } else {\r\n          payload.dataMissing = option;\r\n        }\r\n      }\r\n\r\n      this.isFormSubmitting = true;\r\n      if (this.update) {\r\n        const res = await this.updateCompany({\r\n          id: this.companyId,\r\n          body: payload,\r\n        });\r\n        if (res?.success) {\r\n          this.$bus.$emit(\"refetch-company-details\");\r\n          if (this.analyze) {\r\n            this.$bus.$emit(\"refetch-bulk-added-companies\");\r\n          } else {\r\n            this.$bus.$emit(\"refetch-archived-companies\");\r\n          }\r\n          this.handleClose();\r\n        } else {\r\n          this.$toast.error(res?.message);\r\n        }\r\n      } else {\r\n        const res = await this.addCompanies(payload);\r\n        if (res?.success) {\r\n          if (this.refreshFlowEvent) {\r\n            this.$bus.$emit(this.refreshFlowEvent);\r\n          } else {\r\n            this.$bus.$emit(\"refetch-companies\");\r\n          }\r\n          this.handleClose();\r\n        } else {\r\n          this.$toast.error(res?.message);\r\n        }\r\n      }\r\n      this.isFormSubmitting = false;\r\n    },\r\n    addAgent() {\r\n      this.formData.agents.push({ genNumber: \"\", commNumber: \"\", email: \"\" });\r\n    },\r\n    removeAgent(index) {\r\n      this.formData.agents.splice(index, 1);\r\n    },\r\n    handleClose() {\r\n      this.$bus.$emit(\"add-new-company-modal\", { showModal: false });\r\n      if (this.goBack) {\r\n        this.$router.go(-1);\r\n      }\r\n    },\r\n    updateLocation(location) {\r\n      this.formData.location = location;\r\n    },\r\n    updateProducts(products) {\r\n      this.formData.products = products;\r\n    },\r\n    selectLocationOnMap() {\r\n      this.$bus.$emit(\"company-map-modal\", {\r\n        showModal: true,\r\n        selectLocation: true,\r\n        selectedLocationCoords: this.formData.location,\r\n      });\r\n    },\r\n  },\r\n  beforeDestroy() {\r\n    this.$bus.$off(\"set-company-location\");\r\n    this.$bus.$off(\"company-form-update\");\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NewCompanyForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NewCompanyForm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NewCompanyForm.vue?vue&type=template&id=02c04ef0\"\nimport script from \"./NewCompanyForm.vue?vue&type=script&lang=js\"\nexport * from \"./NewCompanyForm.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","update","analyze","isFormSubmitting","customButtonsAnalyze","customButtons","areSomeFieldsMissing","on","handleClose","handleSubmit","scopedSlots","_u","key","fn","addedToMainDB","_v","_e","ref","fieldValidations","companyName","checkingCompanyName","isCompanyNameAvailable","$event","$focusNextElement","companyNameSuggestions","checkForCompanyDebounced","formData","model","value","callback","$$v","$set","expression","length","_l","suggestion","index","_s","display_name","genNumber","commNumber","email","origin","originList","annualRevenue","location","undefined","updateLocation","stopPropagation","selectLocationOnMap","apply","arguments","products","updateProducts","agents","agent","removeAgent","refInFor","addAgent","proxy","staticRenderFns","components","FormInput","IconX","IconInfo","GeneralButton","GeneralForm","LocationSearchDropdown","ProductSearchDropdown","computed","mapGetters","user","buildPayload","payload","lat","long","lon","map","item","productId","_id","addUser","output","isNaN","some","label","type","isDisabled","emphasis","mounted","$bus","$on","data","companyId","whiteListCompanyName","goBack","default","refreshFlowEvent","FormValidationRule","minLength","maxLength","required","min","debounce","checkForCompany","watch","handler","newVal","immediate","deep","methods","mapActions","addCompanies","updateCompany","checkCompanyNameAvailabilty","query","toLowerCase","trim","response","params","fetchRelated","success","suggestions","option","isValid","$validateForm","archiveReason","dataMissing","res","id","body","$emit","$toast","error","message","push","splice","showModal","$router","go","selectLocation","selectedLocationCoords","beforeDestroy","$off","component"],"sourceRoot":""}