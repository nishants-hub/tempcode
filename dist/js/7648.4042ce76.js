"use strict";(self.webpackChunkconstruction_commercial_search_frontend=self.webpackChunkconstruction_commercial_search_frontend||[]).push([[7648],{67648:function(e,t,i){i.r(t),i.d(t,{default:function(){return s}});var a=i(77788),d=i(78275),l={props:{selectOptions:{type:Array,required:!0},product:{type:Object,required:!0},index:{type:Number,required:!0}},components:{FormInput:()=>i.e(6342).then(i.bind(i,96342)),GeneralForm:()=>i.e(6277).then(i.bind(i,76277)),GeneralSelect:()=>i.e(5933).then(i.bind(i,95933))},data:()=>({variable:null,price:"",dateAdded:(new Date).toISOString().substring(0,10),fieldValidations:{price:new a.s({min:1,required:!0}),dateAdded:new a.s({type:"DATE",required:!0,minDate:(0,d.wZ)(-2),maxDate:(0,d.wZ)(2)})}}),methods:{handleSubmit(){if(this.$validateForm()){if(!this.variable?.id)return this.$toast.warning("Please select a variable");this.$bus.$emit("product-variable-selected-new-price",{index:this.index,variable:this.variable,product:this.product,dateAdded:this.dateAdded,price:this.price}),this.handleClose()}},handleVariableSelect(e){this.variable={id:e?.key,name:e?.value}},handleClose(){this.$bus.$emit("select-product-variable-modal",!1)}}},r=l,n=(0,i(81656).A)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex h-full min-h-[400px] w-full flex-col"},[t("GeneralForm",{staticClass:"flex-1",attrs:{heading:"Add New Variable Price",showCloseButton:!0},on:{"close-pressed":e.handleClose,"form-submitted":e.handleSubmit},scopedSlots:e._u([{key:"form-body",fn:function(){return[t("div",{staticClass:"flex flex-col gap-spacing-100"},[t("GeneralSelect",{attrs:{label:"Variable",options:e.selectOptions},on:{"option-selected-full":e.handleVariableSelect}}),t("FormInput",{ref:"price",attrs:{label:"Price","input-id":"price","field-validations":e.fieldValidations?.price,"input-type":"number"},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}}),t("FormInput",{ref:"dateAdded",attrs:{label:"Date","input-id":"dateAdded","field-validations":e.fieldValidations?.dateAdded,"input-type":"date"},model:{value:e.dateAdded,callback:function(t){e.dateAdded=t},expression:"dateAdded"}})],1)]},proxy:!0}])})],1)}),[],!1,null,null,null),s=n.exports}}]);