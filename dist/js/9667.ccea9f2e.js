"use strict";(self.webpackChunkconstruction_commercial_search_frontend=self.webpackChunkconstruction_commercial_search_frontend||[]).push([[9667],{99667:function(e,t,s){s.r(t),s.d(t,{default:function(){return r}});var n=s(33604),i=s(93518),o={name:"FileActions",props:{file:{type:[String,Blob,Object],required:!0}},components:{IconDownloadCloud:()=>s.e(1103).then(s.bind(s,81103)),IconEye:()=>s.e(2757).then(s.bind(s,72757)),IconTrash2:()=>s.e(4956).then(s.bind(s,14956))},computed:{isLink(){return this.file?.isLink},fileUrl(){return this.file?.link},fileName(){return this.fileUrl?.split("/")?.pop()}},methods:{...(0,i.i0)("utils",["getFileBlob"]),viewFile(){this.isLink?this.viewExternalFile():this.$toast.error("Preview not available")},async downloadFile(){if(this.isLink)this.downloadExternalFile();else{const e=(0,n.l)({name:this.file?.name,file:this.file});e?.success?this.$toast.success(e?.message):this.$toast.error(e?.message)}},viewExternalFile(){this.$bus.$emit("file-view-modal",{showModal:!0,fileUrl:this.fileUrl})},async downloadExternalFile(){this.$bus.$emit("showLoader",{showLoader:!0,loaderText:"Downloading file"});const e=await this.getFileBlob({params:{fileUrl:this.fileUrl}});if(e?.success){const t=(0,n.l)({name:this.fileName,file:e?.data});t?.success?this.$toast.success(t?.message):this.$toast.error(t?.message)}else this.$toast.error(e?.message);this.$bus.$emit("showLoader",!1)},removeFile(){this.$emit("remove")}}},a=o,l=(0,s(81656).A)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex"},[t("div",{staticClass:"flex items-center gap-spacing-200"},[t("div",{staticClass:"flex cursor-pointer items-center",on:{click:function(t){return t.stopPropagation(),e.viewFile.apply(null,arguments)}}},[t("IconEye",{staticClass:"h-spacing-200 w-spacing-200 hover:text-constant-brand-primary",class:e.file?.isLink?"text-content-on-neutral-tertiary":"text-content-on-neutral-secondary"})],1),t("div",{staticClass:"flex cursor-pointer items-center",on:{click:function(t){return t.stopPropagation(),e.downloadFile.apply(null,arguments)}}},[t("IconDownloadCloud",{staticClass:"h-spacing-200 w-spacing-200 hover:text-constant-brand-secondary",class:e.file?.isLink?"text-content-on-neutral-tertiary":"text-content-on-neutral-secondary"})],1),t("div",{staticClass:"cursor-pointer",on:{click:function(t){return t.stopPropagation(),e.removeFile.apply(null,arguments)}}},[t("IconTrash2",{staticClass:"h-spacing-200 w-spacing-200 hover:text-constant-status-error",class:e.file?.isLink?"text-content-on-neutral-tertiary":"text-content-on-neutral-secondary"})],1)])])}),[],!1,null,null,null),r=l.exports},33604:function(e,t,s){function n(e){try{const{name:t,file:s}=e,n=URL.createObjectURL(s),i=document.createElement("a");return i.href=n,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n),{success:!0,message:"File downloaded successfully."}}catch(e){return{error:e,message:e?.message,success:!1}}}s.d(t,{l:function(){return n}}),s(14603),s(47566),s(98721)}}]);